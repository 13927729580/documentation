[[datamodel]]
== Data Model

image::DataModel.png[]

NOTE: Attributes whose names start with *act prefix, are references to identifiers from Activiti.

* ProcModel - process model. Model attributes:
**  name - model name.
**  description - model description.
**  actModelId - ID of a model from Activiti engine in ACT_RE_MODEL table.
* ProcDefinition - process definition. It can be get from the model, or uploaded from an XML file directly. Entity attributes:
** name - process name.
** code - process code. It can be used for searching an entity instance from an application code.
** actId - ID of a process from Activiti. It is necessary for accessing to BPMN model (extensionElements are read from it).
** active - defines, whether a new process instance start for current ProcDefinition is allowed.
** procRoles - a collection of objects that define process actors.
** model - a reference to a model the process definition was get from.
* ProcRole - a process role. Objects of this type are created automatically on process deployment. ProcRole defines a process actor type. Entity attributes:
** name - a role name.
** code - a role code. It can be used by an application for a role identification.
** order - an order number. It can be used by an application for displaying roles in an appropriate order.
** procDefinition - a reference to a process definition.
* ProcInstance - a process instance. A ProcInstance can be started both with a link to a project entity and without a link. For example, a contract approval process instance can be linked with a contract entity. Entity attributes:
** description - a description of the process instance.
** startDate - a process instance start date.
** endDate - a process instance end date
** startedBy - a user who started the process.
** active - an indicator that a process was started but wasn't completed yet.
** cancelled - an indicator that a process was canceled.
** actProcessInstanceId - an identifier of the corresponding ProcessInstance from Activiti.
** startComment - a comment on process start.
** cancelComment - a comment on process cancel.
** entityName - a linked entity name.
** entityId - a linked entity ID.
** entityEditorName - a screen name that will be used for editing a linked entity. Fill if a screen name differs from a standard one.
** procTasks - a process tasks collection.
** procActors - a process actors collection.
** procAttachments - a process attachments collection.
* ProcActor - a process participant. The entity defines an executor with a particular role for a process instance. Entity attributes:
** user - a reference to a user.
** procInstance - a reference to a process instance.
** procRole - a reference to a process role.
** order - an order number. The field is used to define an actors order for a sequential task for multiple users.
* ProcTask - a process task. Objects of this type are automatically created when a process reaches a User task node. Entity attributes:
** name - a task name.
** startDate - a task start date.
** claimDate - a claim date. The field is used in a case of a task without explicit  process actor.
** endDate - a task end date.
** outcome - a task completion result (an outcome user used for completing a task).
** comment - a task completion comment.
** procActor - an executor.
** actTaskId - Activiti task ID. This field is used when signaling to Activiti engine about task completion.
** actExecutionId - Activiti execution ID. This field is used for a process variables reading/writing.
** actTaskDefinitionKey - in a process XML it is an id attribute of a UserTask element. It is used for building a name of a variable, that stores a task result ([task_id]_result). See <<functionality.adoc#transitions>>.
** cancelled - an identifier that a task was completed on process cancelation.
** candidateUsers - a list of possible process actors for a group task.
** procInstance - a reference to a process instance.
* ProcAttachment - a process attachment. Entity attributes:
** file - a reference to FileDescriptor.
** type - an attachment type (ProcAttachmentType).
** comment - a comment.
** author - an attachment author, a reference to a user.
** procInstance - a reference to a process instance.
** procTask - an optional reference to a process task.
* ProcAttachmentType - an attachment type. Entity attributes:
** code - an attachment type code.
** name - an attachment type name.