:sourcesdir: ../../../source

[[formatters]]
=== Форматы значений полей

Для любого поля, выводимого отчетом, можно задать форматирование на вкладке *Parameters and Formats* редактора отчета. Рассмотрим форму добавления формата:

image::report_formatter.png[align="center"]

* *Value name* - имя поля отчета с префиксом полосы, например `Book.name`.

* *Format string* - формат поля. Для числовых значений формат должен быть задан по правилам `java.text.DecimalFormat`, для дат - `java.text.SimpleDateFormat`.

Форматы позволяют вставлять в документ изображения и HTML-блоки.

* Для вставки изображения значение поля должно быть строкой URL для доступа к нему, а в формате значения строка форматирования должна иметь вид: `${image:<Width>x<Height>}`, например `${image:200x300}`.
+
Для изображений в формате `FileDescriptor` можно использовать формат `${imageFileId:WxH}`, который принимает как `FileDescriptor` `id`, так и ссылку на экземпляр самого `FileDecriptor`.

* Для вставки HTML-блока необходимо в поле возвращать HTML-разметку, а в формате значения выбрать `${html}` в качестве строки форматирования. В выходном значении тэги верхнего уровня до `<body>` включительно могут быть опущены. При необходимости произойдет автоматическое дополнение недостающих тегов верхнего уровня. Кодировка всех блоков `UTF-8`. CSS и атрибут `style` не поддерживаются.

