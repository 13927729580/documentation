:sourcesdir: ../../../../../../source

[[using_navigation_filter]]
====== Using NavigationFilter

As we said before only users with `Manager` role should be able to open `TaskStatistic` screen. Since standard screen opening controls can be hidden by role settings, navigation should be handled with `<<url_navigation_filter,NavigationFilter>>` mechanism.

When some navigation occurred all navigation filters are invoked to check whether a current transition is allowed.

The following example contains `NavigationFilter` implementation that will be invoked and all requested states will be allowed:

[[source_url_taskStatistic_navigationFilter]]
.TaskStatisticNavigationFilter (Empty)
[source, java]
----
include::{sourcesdir}/gui/url_taskStatistic_navigationFilter.java[]
----

To make this filter useful we should:

* check the requested route and skip it if we are not interested in;
* search for `Manager` role;
* allow navigation if the current user has a `Manager` role or reject otherwise.

The next example contains full implementation:

[[source_url_taskStatistic_navigationFilter_full]]
.TaskStatisticNavigationFilter
[source, java]
----
include::{sourcesdir}/gui/url_taskStatistic_navigationFilter_full.java[]
----

As a result, all attempts to navigate to the task statistics screen will be rejected, and a notification will be displayed.

image::url_notificationFilter_rezult.png[align="center"]