[[app_properties_reference]]
[appendix]
== Application Properties

This appendix describes all available <<app_properties,application properties>> in alphabetical order.

[[cuba.allowQueryFromSelected]]
cuba.allowQueryFromSelected:: 
+
--
Allows the <<gui_Filter,generic filter>> to use sequential filtering mode. See also <<query_from_selected,>>.

Default value: `true`

Stored in the database.

Interface: `GlobalConfig`

Used in the Web Client and the Middleware blocks.
--

[[cuba.automaticDatabaseUpdate]]
cuba.automaticDatabaseUpdate:: 
+
--
Determines whether server should run <<db_update_server,DB update scripts>> at application start.

Default value: `false`

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.availableLocales]]
cuba.availableLocales:: 
+
--
List of supported user interface languages. 

Property format: `++{language_name1}|{language_code_1};{language_name2}|{language_code_2};++`...

Example: 

[source, properties]
----
cuba.availableLocales=French|fr;English|en
----

`++{language_name}++` – name displayed in the list of available languages. For example, such lists can be found on the login screen and on the user edit screen. 

`++{language_code}++` – corresponds to language code returned by the `Locale.getLanguage()` method. Used as a suffix for <<message_packs,message pack>> file names. For example, `++messages_fr.properties++`.

The first language listed in the `cuba.availableLocales` property, will be selected in the list of available languages by default, if the list does not contain the user's operating system language. Otherwise, user's operating system language will be selected by default.

Default value: `English|en;Russian|ru;French|fr`

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.backgroundWorker.maxActiveTasksCount]]
cuba.backgroundWorker.maxActiveTasksCount:: 
+
--
The maximum number of active <<background_tasks,background tasks>>.

Default value: `100`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.backgroundWorker.maxClientLatencySeconds]]
cuba.backgroundWorker.maxClientLatencySeconds:: 
+
--
Delay in seconds added to the timeout of the <<background_tasks,background task>>, after which the task is interrupted by the `WatchDog` mechanism. This delay compensates for the possible network latencies while polling task status.

Default value: `60`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.backgroundWorker.uiCheckInterval]]
cuba.backgroundWorker.uiCheckInterval:: 
+
--
<<background_tasks,Background task>> status polling interval.

Default value: `2000`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.cluster.enabled]]
cuba.cluster.enabled::
+
--
Enables interaction between Middleware servers in a cluster. See <<cluster_mw_server,>> for details.

Default value: `false`

Used in the Middleware block.
--

[[cuba.confDir]]
cuba.confDir:: 
+
--
Defines location of the <<conf_dir,configuration folder>> for an application <<app_tiers,block>>.

Default value for the Middleware, Web Client and Web Portal blocks: `${catalina.home}/conf/${<<cuba.webContextName,cuba.webContextName>>}`

In case of a standard *Tomcat* deployment, this points to a sub-folder with the name of the current web app in the `tomcat/conf` folder, for example, tomcat/conf/app-core.

Default value for the Desktop Client block: `${<<cuba.desktop.home,cuba.desktop.home>>}/conf`. 

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.connectionReadTimeout]]
cuba.connectionReadTimeout:: 
+
--
Sets Middleware connection timeout for client blocks. Non-negative value is passed to the `setReadTimeout()` method of `URLConnection`.

See also <<cuba.connectionTimeout,cuba.connectionTimeout>>.

Default value: `-1`

Used in the Web Client, Web Portal and Desktop Client <<app_tiers,blocks>>.
--

[[cuba.connectionTimeout]]
cuba.connectionTimeout:: 
+
--
Sets Middleware connection timeout for client blocks. Non-negative value is passed to the `setConnectTimeout()` method of `URLConnection`.

See also <<cuba.connectionReadTimeout,cuba.connectionReadTimeout>>.

Default value: `-1`

Used in the Web Client, Web Portal and Desktop Client <<app_tiers,blocks>>.
--

[[cuba.connectionUrlList]]
cuba.connectionUrlList:: 
+
--
Sets Middleware server connection URL for client blocks.

Property value should contain one or more comma separated URLs `http[s]://host[:port]/app-core`, where `host` is the server hostname, `port` is the server port, and `app-core` is the name of the the Middleware block web application. For example:

[source, properties]
----
cuba.connectionUrlList = http://localhost:8080/app-core
----

When using a cluster of Middleware servers, their addresses should be listed, separated with commas:

[source, properties]
----
cuba.connectionUrlList = http://server1:8080/app-core,http://server2:8080/app-core
----

The order of servers in the list, determines the order in which the client will attempt to send requests. In the example above, the client will send request to `server1` first, and if it is inaccessible, to `server2`. If a request to `server2` completes successfully, the client will use `server2` as the primary server and will continue working with it. Restarting the client will reset the list to the initial value. Uniform distribution of clients across a cluster of servers can be achieved by using the <<cuba.randomServerPriority,cuba.randomServerPriority>> property.

See also <<cuba.useLocalServiceInvocation,cuba.useLocalServiceInvocation>>.

Interface: `ClientConfig`

Used in the Web Client, Web Portal and Desktop Client <<app_tiers,blocks>>.
--

[[cuba.creditsConfig]]
cuba.creditsConfig:: 
+
--
Defines a set of `credits.xml` files containing <<credits,information about the software components>> used by the application.

Property value should contain a list of file names separated with spaces. <<resources, Resources>> interface rules apply to loading files.

Used in the Web Client and the Desktop Client blocks.

Example:

[source, properties]
----
cuba.creditsConfig = cuba-credits.xml reports-credits.xml credits.xml
----
--

[[cuba.dataManagerChecksSecurityOnMiddleware]]
cuba.dataManagerChecksSecurityOnMiddleware::
+
--
Indicates that <<dataManager,DataManager>> should apply <<security_subsystem,security>> restrictions when invoked on the middleware.

Default value: `false`

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.dataSourceJndiName]]
cuba.dataSourceJndiName:: 
+
--
Defines JNDI name of the `javax.sql.DataSource` object used for connection to the application database.

Default value: `java:comp/env/jdbc/CubaDS`

Used in the Middleware block.
--

[[cuba.dataDir]]
cuba.dataDir:: 
+
--
Defines the location of the <<work_dir,work folder>> for an <<app_tiers,application block>>.

Default value for the Middleware, Web Client and Web Portal blocks: `${catalina.home}/work/${<<cuba.webContextName,cuba.webContextName>>}`

In case of a standard *Tomcat* deployment, this points to a sub-folder with the name of the current web-app inside the `tomcat/work` folder, for example, `tomcat/work/app-core`.

Default value for the Desktop Client block: `${<<cuba.desktop.home,cuba.desktop.home>>}/work`. 

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.dbDir]]
cuba.dbDir:: 
+
--
Defines the location of the <<db_dir,database scripts folder>>.

Default value: `${catalina.home}/webapps/${cuba.webContextName}/WEB-INF/db`, which points to the `WEB-INF/db` sub-folder of the current web-app folder in *Tomcat*.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.dbmsType]]
cuba.dbmsType:: 
+
--
Defines the DBMS type. Affects the choice of DBMS integration interface implementations and the search for database init and update scripts together with <<cuba.dbmsVersion,cuba.dbmsVersion>>.

See <<dbms_types,>> for details. 

Default value: `hsql`

Used in the Middleware block.
--

[[cuba.dbmsVersion]]
cuba.dbmsVersion:: 
+
--
An optional property that sets the database version. Affects the choice of DBMS integration interface implementations and the search for database init and update scripts together with <<cuba.dbmsType,cuba.dbmsType>>.

See <<dbms_types,>> for details. 

Default value: `none`

Used in the Middleware block.
--

[[cuba.defaultQueryTimeoutSec]]
cuba.defaultQueryTimeoutSec:: 
+
--
Defines default <<transaction_timeout,transaction timeout>>.

Default value: `0` (no timeout).

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.desktop.useServerTime]]
cuba.desktop.useServerTime:: 
+
--
Enables adjustment of the time provided by the <<timeSource,TimeSource>> interface of the Desktop Client block.The time will approximately equal to the time of the Middleware the client is connected to.

Default value: `true`

Interface: `DesktopConfig`

Used in the Desktop Client block.
--

[[cuba.desktop.useServerTimeZone]]
cuba.desktop.useServerTimeZone:: 
+
--
Enables adjustment of the Desktop Client block's JVM timezone to the timezone of the Middleware the client is connected to.

Default value: `true`

Interface: `DesktopConfig`

Used in the Desktop Client block.
--

[[cuba.disableOrmXmlGeneration]]
cuba.disableOrmXmlGeneration:: 
+
--
Disables automatic generation of the `orm.xml` file for <<extension,extended>> entities.

Default value: `false` (`orm.xml` will be created automatically if any extended entity exist).

Used in the Middleware block.
--

[[cuba.dispatcherSpringContextConfig]]
cuba.dispatcherSpringContextConfig:: 
+
--
Defines a set of <<dispatcher-spring.xml,dispatcher-spring.xml>> files in the client blocks.

The value of the property should contain a list of file names separated with spaces. <<resources,Resources>> interface rules apply to loading files.

Used in the Web Client and Web Portal blocks.

Example:

[source, properties]
----
cuba.dispatcherSpringContextConfig = cuba-portal-dispatcher-spring.xml portal-dispatcher-spring.xml
----
--

[[cuba.download.directories]]
cuba.download.directories:: 
+
--
Defines a list of folders from which the Middleware files can be downloaded from via `com.haulmont.cuba.core.controllers.FileDownloadController`. For example, file downloading is utilized by the server log display mechanism found in the *Administration* > *Server Log* web client screen.

The folder list should be separated with semicolon.

Default value: `${cuba.tempDir};${cuba.logDir}` (files can be downloaded from the <<temp_dir,temporary folder>> and the <<log_dir,logs folder>>).

Used in the Middleware block.
--

[[cuba.email._]]
cuba.email.*::
Email sending parameters described in <<email_sending_properties,>>.

[[cuba.fileStorageDir]]
cuba.fileStorageDir:: 
+
--
Defines file storage folder structure roots. For more information, see <<file_storage_impl,>>.

Default value: `null`

Used in the Middleware block.
--

[[cuba.entityAttributePermissionChecking]]
cuba.entityAttributePermissionChecking::
+
--
If set to `false`, turns off checking entity attribute permissions on Middleware.

Default value: `true`

Stored in the database.

Used in the Middleware block.
--

[[cuba.entityLog.enabled]]
cuba.entityLog.enabled::
+
--
Activates the <<entity_log,entity log>> mechanism.

Default value: `true`

Stored in the database.

Interface: `EntityLogConfig`

Used in the Middleware block.
--

[[cuba.groovyEvaluationPoolMaxIdle]]
cuba.groovyEvaluationPoolMaxIdle::
+
--
Sets the maximum number of unused compiled Groovy expressions in the pool during `Scripting.evaluateGroovy()` method execution. It is recommended to increment this parameter when intensive execution of Groovy expressions is required, for example, for a large number of <<application_folder,application folders>>.

Default value: 8

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.groovyEvaluatorImport]]
cuba.groovyEvaluatorImport::
+
--
Defines a list of classes imported by all Groovy expressions executed through <<scripting,Scripting>>.

Class names in the list should be separated with commas or semicolons.

Default value: `com.haulmont.cuba.core.global.PersistenceHelper`

Used in all standard <<app_tiers,blocks>>.

Example:

[source, properties]
----
cuba.groovyEvaluatorImport = com.haulmont.cuba.core.global.PersistenceHelper,com.abc.sales.CommonUtils
----
--

[[cuba.gui.genericFilterChecking]]
cuba.gui.genericFilterChecking:: 
+
--
Influences the behavior of the <<gui_Filter,Filter>> component. 

When set to `true`, does not allow to apply a filter without specifying parameters. 

Default value: `false`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client and Desktop Client blocks.
--

[[cuba.gui.genericFilterControlsLayout]]
cuba.gui.genericFilterControlsLayout:: 
+
--
Sets a template for <<gui_Filter,Filter>> controls layout. Each control has the following format: `++[component_name | options-comma-separated]++`, e.g. `[pin | no-caption, no-icon]`.

Available controls: 

* `++filters_popup++` - popup button for selecting a filter, combined with the *Search* button.

* `++filters_lookup++` - lookup field for selecting a filter. The *Search* button should be added as a separate control.

* `search` - *Search* button. Do not add if use `++filters_popup++`.

* `++add_condition++` - link button for adding new conditions.

* `spacer` - an empty space between controls.

* `settings` - *Settings* button. Specify action names that should be displayed in Settings popup as options (see below).

* `++max_results++` - group of controls for setting maximum number of records to be selected.

* `++fts_switch++` - checkbox for switching to the Full-Text Search mode.

The following actions can be used as options of the `settings` control: `save`, `++save_as++`, `edit`, `remove`, `pin`, `++make_default++`, `++save_search_folder++`, `++save_app_folder++`. 

The actions can also be used as independent controls outside of the Settings popup. In this case, they can have the following options: 

* `no-icon` - if an action button should be dispalyed without an icon. For example: `[save | no-icon]`.

* `no-caption` - if an action button should be dispalyed without a caption. For example: `[pin | no-caption]`. 

Default value: 

[source, plain]
----
[filters_popup] [add_condition] [spacer] \
[settings | save, save_as, edit, remove, make_default, pin, save_search_folder, save_app_folder] \
[max_results] [fts_switch]
----

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client and Desktop Client blocks.
--

[[cuba.gui.genericFilterManualApplyRequired]]
cuba.gui.genericFilterManualApplyRequired:: 
+
--
Influences the behavior of the <<gui_Filter,Filter>> component. 

When set to `true`, the screens containing filters will not load the corresponding datasources automatically, until user clicks the filter *Apply* button. 

The value of `cuba.gui.genericFilterManualApplyRequired` is ignored, when opening browser screens using an application or search folders, i.e. the filter is applied. The filter will not be applied, if the `applyDefault` value for a folder is explicitly set to `false`.

Default value: `false` 

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client and Desktop Client blocks.
--

[[cuba.gui.genericFilterMaxResultsOptions]]
cuba.gui.genericFilterMaxResultsOptions::
+
--
Defines the options for the *Show rows* drop-down list of the <<gui_Filter,Filter>> component.

NULL option indicates that the list should contain an empty value.

Default value: `NULL, 20, 50, 100, 500, 1000, 5000`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client and Desktop Client blocks.
--

[[cuba.gui.genericFilterColumnsCount]]
cuba.gui.genericFilterColumnsCount::
+
--
Defines the number of columns with conditions for the <<gui_Filter,Filter>> component.

Default value: `3` 

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client and Desktop Client blocks.
--

[[cuba.gui.genericFilterConditionsLocation]]
cuba.gui.genericFilterConditionsLocation:: 
+
--
Defines the location of the conditions panel in the <<gui_Filter,Filter>> component. Two locations are available: `top` (above the filter control elements) and `bottom` (below the filter control elements).

Default value: `top` 

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client and Desktop Client blocks.
--

[[cuba.gui.genericFilterPopupListSize]]
cuba.gui.genericFilterPopupListSize:: 
+
--
Defines the number of items displayed in the popup list of the *Search* button. If the number of filters exceeds this value, Show more... action is added to the popup list. The action opens a new dialog window with a list of all possible filters.

Default value: `10` 

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client and Desktop Client blocks.
--

[[cuba.gui.layoutAnalyzerEnabled]]
cuba.gui.layoutAnalyzerEnabled::
+
--
Allows you to disable the screen analyzer available in the context menu of the main window tabs and the modal window captions.

Default value: `true`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client and Desktop Client blocks.
--

[[cuba.gui.manualScreenSettingsSaving]]
cuba.gui.manualScreenSettingsSaving::
+
--
If the property is set to `true`, screens will not save their settings automatically on close. In this mode, a user can save or reset settings using the context menu which appears on clicking a screen tab or a dialog window caption.

Default value: `false`

Interface: `ClientConfig`

Stored in the database.

Used in the Web Client and Desktop Client blocks.
--

[[cuba.gui.showIconsForPopupMenuActions]]
cuba.gui.showIconsForPopupMenuActions::
+
--
Enables displaying action icons in <<gui_Table,Table>> context menu and <<gui_PopupButton,PopupButton>> items.

Default value: `false`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.gui.systemInfoScriptsEnabled]]
cuba.gui.systemInfoScriptsEnabled::
+
--
Enables the display of SQL-scripts for creating / updating / retrieving an entity instance in the *System Information* window.

Such scripts actually show the contents of the database rows that store the selected entity instance, regardless of security settings that may deny viewing of some attributes. That is why it is reasonable to revoke the CUBA / Generic UI / System Information specific <<permissions,permission>> for all user <<roles,roles>> except the administrators, or set the `cuba.gui.systemInfoScriptsEnabled` to `false` for the whole application.

Default value: `true`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client and the Desktop Client blocks.
--

[[cuba.gui.useSaveConfirmation]]
cuba.gui.useSaveConfirmation:: 
+
--
Defines the layout of the dialog displayed when a user attempts closing a <<screens,screen>> with unsaved changes in datasources.

Value of `true` corresponds to a layout with three possible actions: Save changes, Don't Save, Don't close the screen.

The value of `false` corresponds to a form with two options: Close the screen without saving changes, Don't close the screen.

Default value: `true`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client and Desktop Client blocks.
--

[[cuba.httpSessionExpirationTimeoutSec]]
cuba.httpSessionExpirationTimeoutSec:: 
+
--
Defines HTTP-session inactivity timeout in seconds.

Default value: `1800`

Interface: `WebConfig`

Used in the Web Client block.

[TIP]
====
It is recommended to use the same values for <<cuba.userSessionExpirationTimeoutSec, cuba.userSessionExpirationTimeoutSec>> and `cuba.httpSessionExpirationTimeoutSec` properties.
====

--

[[cuba.inMemoryDistinct]]
cuba.inMemoryDistinct:: 
+
--
Enables in-memory filtering of duplicate records instead of using `select distinct` at the database level. Used by the <<dataManager,DataManager>>.

Default value: `false`

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.jmxUserLogin]]
cuba.jmxUserLogin:: 
+
--
Defines a user login that should be used for <<system_authentication,system authentication>>.

Default value: `admin`

Used in the Middleware block.
--

[[cuba.localeSelectVisible]]
cuba.localeSelectVisible:: 
+
--
Disables the user interface language selection when logging in.

If `cuba.localeSelectVisible` is set to false, the locale for a user session is selected in the following way:

* If the `User` entity instance has a `language` attribute defined, the system will use this language.

* If the user's operating system language is included in the list of available locales (set by the <<cuba.availableLocales,cuba.availableLocales>> property), the system will use this language.

* Otherwise, the system will use the first language defined in the <<cuba.availableLocales,cuba.availableLocales>> property.

Default value: `true`

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.logDir]]
cuba.logDir:: 
+
--
Defines the location of the <<log_dir,log folder>> for an <<app_tiers,application block>>.

Default value for the Middleware, Web Client and Web Portal blocks: `${catalina.home}/logs`

In case of a standard *Tomcat* deployment, this property points to the `tomcat/logs` folder.

Default value for the Desktop Client block: `${<<cuba.desktop.home,cuba.desktop.home>>}/logs`. 

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.mainMessagePack]]
cuba.mainMessagePack:: 
+
--
Defines the <<main_message_pack,main message pack>> for an application block.

The value may include a single pack or a list of packs separated with spaces.

Used in all standard <<app_tiers,blocks>>.

Example:

[source, properties]
----
cuba.mainMessagePack = com.haulmont.cuba.web com.sample.sales.web
----
--

[[cuba.maxUploadSizeMb]]
cuba.maxUploadSizeMb::
+
--
Maximum file size (in megabytes) that can be uploaded using the <<gui_FileUploadField,FileUploadField>> and <<gui_FileMultiUploadField,FileMiltiUploadField>> components.

Default value: `20`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client and the Desktop Client blocks.
--

[[cuba.menuConfig]]
cuba.menuConfig:: 
+
--
Defines a set of <<menu.xml,menu.xml>> files. 

The property value should be a list of files separated with spaces. <<resources,Resources>> interface rules apply to loading files.

Used in the Web Client and Desktop Client blocks.

Example:

[source, properties]
----
cuba.menuConfig = cuba-web-menu.xml web-menu.xml
----
--

[[cuba.metadataConfig]]
cuba.metadataConfig:: 
+
--
Defines a set of <<metadata.xml,metadata.xml>> files.

The property value should be a list of files separated with spaces. <<resources,Resources>> interface rules apply to loading files.

Used in the Middleware, Web Client and Desktop Client.

Example:

[source, properties]
----
cuba.metadataConfig = cuba-metadata.xml metadata.xml
----
--

[[cuba.passwordEncryptionModule]]
cuba.passwordEncryptionModule:: 
+
--
Defines the name of the bean used for user password hashing.

Default value: `++cuba_Sha1EncryptionModule++`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.passwordPolicyEnabled]]
cuba.passwordPolicyEnabled:: 
+
--
Enables password policy enforcement. If the property is set to `true`, all new user passwords will be checked according to the <<cuba.passwordPolicyRegExp,cuba.passwordPolicyRegExp>> property.

Default value: `false`

Stored in the database.

Interface: `ClientConfig`

Used in the client blocks: Web Client, Web Portal, Desktop Client.
--

[[cuba.passwordPolicyRegExp]]
cuba.passwordPolicyRegExp:: 
+
--
Defines a regular expression used by the password checking policy.

Default value:

`++((?=.*\\d)(?=.*\\p{javaLowerCase}) (?=.*\\p{javaUpperCase}).{6,20})++`

The expression above ensures that password contains from 6 to 20 characters, uses numbers and Latin letters, contains at least one number, one lower case and one upper case letter. More information on regular expression syntax is available at https://en.wikipedia.org/wiki/Regular_expression and http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html. 

Stored in the database.

Interface: `ClientConfig`

Used in the client level blocks: Web Client, Web Portal, Desktop Client.
--

[[cuba.permissionConfig]]
cuba.permissionConfig:: 
+
--
Defines a set of <<permissions.xml,permissions.xml>> files. 

Used in the Web Client and Desktop Client blocks.

Example:

[source, properties]
----
cuba.permissionConfig = cuba-web-permissions.xml web-permissions.xml
----
--

[[cuba.persistenceConfig]]
cuba.persistenceConfig:: 
+
--
Defines a set of <<persistence.xml,persistence.xml>> files.

The property value should be a list of files separated with spaces. <<resources,Resources>> interface rules apply to loading files.

Used in the Middleware, Web Client and Desktop Client.

Example:

[source, properties]
----
cuba.persistenceConfig = cuba-persistence.xml persistence.xml
----
--

[[cuba.portal.anonymousUserLogin]]
cuba.portal.anonymousUserLogin:: 
+
--
Defines a user login that should be used for anonymous session in the Web Portal block. 

The user with the specified login should exist in the security subsystem and should have the required permissions. User password is not required, because anonymous portal sessions are created via the <<login,loginTrusted()>> method with the password defined in the <<cuba.trustedClientPassword,cuba.trustedClientPassword>> property.

Interface: `PortalConfig`

Used in the Web Portal block.
--

[[cuba.randomServerPriority]]
cuba.randomServerPriority:: 
+
--
Enables random selection of a Middleware server to connect to in a cluster, to ensure uniform distribution of clients between servers.

See also the <<cuba.connectionUrlList,cuba.connectionUrlList>> property.

Default value: `false`

Used in the Web Client, Web Portal, Desktop Client blocks.
--

[[cuba.remotingSpringContextConfig]]
cuba.remotingSpringContextConfig:: 
+
--
Defines a set of <<remoting-spring.xml,remoting-spring.xml>> files in the Middleware block.

The property value should be a list of files separated with spaces. <<resources,Resources>> interface rules apply to loading files.

Used in the Middleware block.

Example:

[source, properties]
----
cuba.remotingSpringContextConfig = cuba-remoting-spring.xml remoting-spring.xml
----
--

[[cuba.rest.productionMode]]
cuba.rest.productionMode:: 
+
--
Activates the <<rest_api,REST API>> production mode that does not return exception text to client. 

Default value: `false`

Interface: `RestConfig`

Used in the Web Client and Web Portal block.
--

[[cuba.rest.apiVersion]]
cuba.rest.apiVersion:: 
+
--
Defines the <<rest_api,REST API>> version. If the value is set to `1`, the REST API of the platform versions before 5.4 is used. Setting the value to `2` enables the new REST API version with support for service calls.

Default value: `2`

Interface: `RestConfig`

Used in the Web Client and Web Portal block.
--

[[cuba.restApiUrl]]
cuba.restApiUrl:: 
+
--
URL to the application's <<rest_api,REST API>>.

Default value: `http://localhost:8080/app-portal/api`

Stored in the database.

Interface: `GlobalConfig`

Can be used in all standard <<app_tiers,blocks>>.
--

[[cuba.restServicesConfig]]
cuba.restServicesConfig:: 
+
--
This configuration parameter defines a set of files that contains a list of <<services,services>> available for application <<rest_api,REST API>> calls.

The value is a list of file names, separated by spaces. The files are loaded according to the <<resources,Resources>> interface rules.

The XSD of the file is available at {xsd_url}/restapi-service-v2.xsd.

Default value: `cuba-rest-services.xml`

Example:

[source, properties]
----
cuba.restServicesConfig = cuba-rest-services.xml app-rest-services.xml
----

Used in the Web Client and Web Portal block.
--

[[cuba.schedulingActive]]
cuba.schedulingActive:: 
+
--
Enables the CUBA <<scheduled_tasks,scheduled tasks>> mechanism. 

Default value: `false`

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.springContextConfig]]
cuba.springContextConfig:: 
+
--
Defines a set of <<spring.xml,spring.xml>> files in an application block.

The property value should be a list of file names separated with spaces. <<resources,Resources>> interface rules apply to loading files.

Used in all standard <<app_tiers,blocks>>.

Example:

[source, properties]
----
cuba.springContextConfig = cuba-spring.xml spring.xml
----
--

[[cuba.supportEmail]]
cuba.supportEmail:: 
+
--
Specifies an email address to which exception reports from the default exception handler screen, as well as user messages from the *Help* > *Feedback* screen will be sent.

*Report* button in the exception handler screen will be hidden, if this property is set to an empty string.

In order to successfully send emails, the parameters described in <<email_sending_properties,>> must also be configured.

Default value: empty string.

Stored in the database.

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.tempDir]]
cuba.tempDir:: 
+
--
Defines the location of the <<temp_dir,temporary directory>> for an <<app_tiers,application block>>.

The default value for the Middleware, Web Client, Web Portal blocks: `${catalina.home}/temp/${<<cuba.webContextName,cuba.webContextName>>}`

In case of a standard *Tomcat* deployment, this points to a sub-folder with the name of the current web-app in the `tomcat/temp` folder, for example, `tomcat/temp/app-core`.

The default value for the Desktop Client block: `${<<cuba.desktop.home,cuba.desktop.home>>}/temp`. 

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.themeConfig]]
cuba.themeConfig::
+
--
Defines a set of `++*-theme.properties++` files that store <<gui_themes,theme>> variables, such as default popup window dimensions and input field width.

The property takes a list of files separated by spaces. The files are loaded as defined by the <<resources,Resources>> interface.

Default value for Web Client: `havana-theme.properties halo-theme.properties`

Default value for Desktop Client: `nimbus-theme.properties`

Used in the Web Client and Desktop Client block.
--

[[cuba.triggerFilesCheck]]
cuba.triggerFilesCheck:: 
+
--
Enables the processing of bean invocation trigger files.

The trigger file is a file that is placed in the `triggers` subdirectory of the application block's <<temp_dir,temporary directory>>. The trigger file name consists of two parts separated with a period. The first part is the <<managed_beans,bean>> name, the second part is the method name of the bean to invoke. For example: `++cuba_Messages.clearCache++`. The trigger files handler monitors the folder for new trigger files, invokes the appropriate methods and then removes the files.

By default, the trigger files processing is configured in the `cuba-web-spring.xml` file and performed for the Web Client block only. At the project level, the processing for other modules can be performed by <<scheduled_tasks,periodically invoking>> the `process()` method of the `++cuba_TriggerFilesProcessor++` bean.

Default value: `true`

Used in blocks with the configured processing, default is Web Client.
--

[[cuba.triggerFilesCheckInterval]]
cuba.triggerFilesCheckInterval::
+
--
Defines the period in milliseconds of trigger files processing if the <<cuba.triggerFilesCheck,cuba.triggerFilesCheck>> is set to `true`.

Default value: `5000`

Used in blocks with the configured processing, default is Web Client.
--

[[cuba.trustedClientPassword]]
cuba.trustedClientPassword:: 
+
--
Defines password used by the `LoginService.loginTrusted()` method. The Middleware layer can authenticate users who connect via the trusted client <<app_tiers,block>> without checking the user password. 

This property is used when user passwords are not stored in the database, while the client block performs the actual authentication itself. For example, by integrating with *Active Directory*.

Interfaces: `ServerConfig`, `WebAuthConfig`, `PortalConfig`

Used in blocks: Middleware, Web Client, Web Portal.
--

[[cuba.trustedClientPermittedIpList]]
cuba.trustedClientPermittedIpList::
+
--
Defines the list of IP addresses, from which the invocation of the `LoginService.loginTrusted()` method is allowed. For example:

[source, plain]
----
cuba.trustedClientPermittedIpList = 127.0.0.1, 10.17.*.*
----

Default value: `127.0.0.1`

Interfaces: `ServerConfig`

Used in the Middleware block.
--

[[cuba.uniqueConstraintViolationPattern]]
cuba.uniqueConstraintViolationPattern:: 
+
--
A regular expression which is used to find out that the exception is caused by a database unique constraint violation. The first or second group of the expression must return the constraint name. For example:

[source, plain]
----
ERROR: duplicate key value violates unique constraint "(.+)"
----

The constraint name can be used to display a localized message that indicates what entity is concerned. For this the <<main_message_pack,main message pack>> should contain keys equal to constraint names. For example:

[source, properties]
----
IDX_SEC_USER_UNIQ_LOGIN = A user with the same login already exists
----

This property allows you to define a reaction to unique constraint violations depending on DBMS locale and version.

Default value is returned by the `PersistenceManagerService.getUniqueConstraintViolationPattern()` method for the current DBMS.

Can be defined in the database.

Used in all client blocks.
--

[[cuba.useCurrentTxForConfigEntityLoad]]
cuba.useCurrentTxForConfigEntityLoad:: 
+
--
Enables using current transaction, if there is one at the moment, for loading entity instances via the <<config_interfaces,configuration interfaces>>. This could have a positive impact on performance. Otherwise, a new transaction is always created and committed, and the detached instances are returned.

Default value: `false`

Used in the Middleware block.
--

[[cuba.useLocalServiceInvocation]]
cuba.useLocalServiceInvocation:: 
+
--
When set to `true`, and Tomcat <<fast_deployment,fast deployment>> is used, the Web Client and Web Portal <<app_tiers,blocks>> invoke the Middleware services locally, bypassing the network stack, which has a positive impact on system performance. This property should be set to false for all other deployment options.

Default value: `false`

Used in the Web Client and Web Portal blocks.
--

[[cuba.user.fullNamePattern]]
cuba.user.fullNamePattern:: 
+
--
Defines the full name pattern for user. 

Default value: `{FF| }{LL}`

The full name pattern can be formed from the user's first, last and middle names. The following rules apply to the pattern:

* The pattern parts are separated by `{}`

* The pattern inside `{}` must contain one of the following characters followed by the `|` character without any spaces:
+
`LL` – long form of user's last name (Smith)
+
`L` – short form of user's last name (S)
+
`FF` – long form of user's first name (John)
+
`F` – short form of user's first name (J)
+
`MM` – long form of user's middle name (Paul)
+
`M` – short form of user's middle name (P)

* The `|` character can be followed by any symbols including spaces.

Used in the Web Client and Desktop Client blocks.
--

[[cuba.user.namePattern]]
cuba.user.namePattern:: 
+
--
Defines the display name pattern for the `User` entity. The display name is used in different places, including the upper right corner of the system's main window.

Default value: `{1} [{0}]`

`{0}` is substituted with the `login` attribute, `{1}` – with the `name` attribute.

Used in the Middleware, Web Client and Desktop Client blocks.
--

[[cuba.userSessionExpirationTimeoutSec]]
cuba.userSessionExpirationTimeoutSec:: 
+
--
Defines the user session expiration timeout in seconds.

Default value: `1800`

Interface: `ServerConfig`

Used in the Middleware block.

[TIP]
====
It is recommended to use the same values for `cuba.userSessionExpirationTimeoutSec` and <<cuba.httpSessionExpirationTimeoutSec, cuba.httpSessionExpirationTimeoutSec>>. 
====

--

[[cuba.userSessionProviderUrl]]
cuba.userSessionProviderUrl:: 
+
--
Defines the Middleware <<app_tiers,block>> URL used for logging users in.

This parameter should be set in additional middleware blocks that execute client requests, but do not share the user session cache. If there is no required session in the local cache at the start of the request, this block invokes the `LoginService.getSession()` method at the specified URL, and caches the retrieved session.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.viewsConfig]]
cuba.viewsConfig:: 
+
--
Defines a list of the <<views.xml,views.xml>> files, automatically deployed during startup of the application. See <<views,>>.

Used in all standard <<app_tiers,blocks>>.

Example:

[source, properties]
----
cuba.viewsConfig = cuba-views.xml reports-views.xml views.xml
----
--

[[cuba.webAppUrl]]
cuba.webAppUrl:: 
+
--
Defines URL of the Web Client application.

In particular, used to generate external application <<link_to_screen,screen links>>, as well as by the `ScreenHistorySupport` class.

Default value: `++http://localhost:8080/app++`

Stored in the database.

Interface: `GlobalConfig`

Can be used in all standard <<app_tiers,blocks>>.
--

[[cuba.windowConfig]]
cuba.windowConfig:: 
+
--
Defines a list of the <<screens.xml,screens.xml>> files. 

The property value should contain a list of file names separated with spaces. <<resources,Resources>> interface rules apply to loading files.

Used in the Web Client and Desktop Client blocks.

Example:

[source, properties]
----
cuba.windowConfig = cuba-web-screens.xml web-screens.xml
----
--

[[cuba.web.allowHandleBrowserHistoryBack]]
cuba.web.allowHandleBrowserHistoryBack:: 
+
--
Enables handling of browser *Back* button in the application by overriding `AppWindow.onHistoryBackPerformed()`. If the property is true, the standard browser behavior is replaced with this method invocation.

See <<gui_web,>>.

Default value: `true`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.appFoldersRefreshPeriodSec]]
cuba.web.appFoldersRefreshPeriodSec:: 
+
--
Defines <<folders_pane,application folders>> refresh period in seconds.

Default value: `180`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.appWindowMode]]
cuba.web.appWindowMode:: 
+
--
Determines the initial mode for the main application window – tabbed or single screen (`TABBED` or `SINGLE` respectively). In single screen mode, screens opened in the `++NEW_TAB++` modewill replace the current screen, instead of opening a new tab. This can be useful for simple applications and inexperienced users.

The user is able to change the mode later, using the *Help* > *Settings* screen.

Default value: `TABBED`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.foldersPaneDefaultWidth]]
cuba.web.foldersPaneDefaultWidth:: 
+
--
Defines default width (in pixels) for the <<folders_pane,folders panel>>.

Default value: `200`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.foldersPaneEnabled]]
cuba.web.foldersPaneEnabled:: 
+
--
Enables the folders panel functionality.

Default value: `true`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.foldersPaneVisibleByDefault]]
cuba.web.foldersPaneVisibleByDefault:: 
+
--
Determines whether the <<folders_pane,folders panel>> should be expanded by default.

Default value: `false`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.linkHandlerActions]]
cuba.web.linkHandlerActions:: 
+
--
Defines a list of URL commands handled by the `LinkHandler` bean. See <<link_to_screen,>> for more information.

The elements should be separated with the `|` character.

Default value: `open|o`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.loginDialogDefaultUser]]
cuba.web.loginDialogDefaultUser:: 
+
--
Defines default user name, which will be automatically populated in the login screen. This is very convenient during development. This property should be set to `<disabled>` value in production environment.

Default value: `admin`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.loginDialogDefaultPassword]]
cuba.web.loginDialogDefaultPassword:: 
+
--
Defines default user password, which will be automatically populated in the login screen. This is very convenient during development. This property should be set to `<disabled>` value in production environment.

Default value: `admin`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.maxTabCount]]
cuba.web.maxTabCount:: 
+
--
Defines the maximum number of tabs that can be opened in the main application window. The value of `0` disables this limitation.

Default value: `7`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.rememberMeEnabled]]
cuba.web.rememberMeEnabled:: 
+
--
Enables displaying *Remember Me* checkbox in the standard login screen of the web client.

Default value: `true`

Interface: `WebConfig`

Used in Web Client.
--

[[cuba.web.resourcesRoot]]
cuba.web.resourcesRoot:: 
+
--
Sets a directory for loading files to display by <<gui_Embedded,Embedded>> component. For example:

[source, properties]
----
cuba.web.resourcesRoot = ${cuba.confDir}/resources
----

Default value: `null`

Interface: `WebConfig`

Used in Web Client.
--

[[cuba.web.showBreadCrumbs]]
cuba.web.showBreadCrumbs:: 
+
--
Enables hiding of the breadcrumbs panel which normally appears on top of the main window working area.

Default value: `true`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.showFolderIcons]]
cuba.web.showFolderIcons:: 
+
--
Enables the <<folders_pane,folders panel>> icons. When enabled, the following application theme files are used:

* `icons/app-folder-small.png` – for application folders.

* `icons/search-folder-small.png` – for search folders.

* `icons/set-small.png` – for record sets.

Default value: `false`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.table.cacheRate]]
cuba.web.table.cacheRate:: 
+
--
Adjusts <<gui_Table,Table>> caching in the web browser. The amount of cached rows will be `cacheRate` multiplied with <<cuba.web.table.pageLength,pageLength>> both below and above visible area.

Default value: `2`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.table.pageLength]]
cuba.web.table.pageLength:: 
+
--
Sets the number of rows to be fetched from the server into the web browser when <<gui_Table,Table>> is rendered first time on refresh. See also <<cuba.web.table.cacheRate,cuba.web.table.cacheRate>>.

Default value: `15`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.theme]]
cuba.web.theme:: 
+
--
Defines the name of the <<web_theme,theme>> used as default for the web client. See also <<cuba.themeConfig,cuba.themeConfig>>.

Default value: `havana`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.useFontIcons]]
cuba.web.useFontIcons:: 
+
--
If this property is enabled for Halo <<web_theme,theme>>, link:http://fortawesome.github.io/Font-Awesome[Font Awesome] glyphs will be used for standard actions and platform screens instead of images.

The correspondence between the name in the <<gui_attr_icon,icon>> attribute of a visual component or action and font element is defined in the `halo-theme.properties` file of the platform. Keys with `cuba.web.icons` prefixes correspond to icon names, and their values - to `com.vaadin.server.FontAwesome` enumeration constants. For example, a font element for the standard `create` action is defined as follows:

[source, properties]
----
cuba.web.icons.create.png = FILE_O
----

Default value: `true`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.useInverseHeader]]
cuba.web.useInverseHeader:: 
+
--
Controls the web client application header for Halo <<web_theme,theme>> and its <<web_theme_extension,inheritors>>. If `true`, the header will be dark (inverse), if `false` - the header takes the colour of the main application background.

This property is ignored in case 

[source, css]
----
$v-support-inverse-menu: false;
----

property is set in the application theme. This makes sense for a dark theme, if the user has the option to choose between a light and a dark theme. In this case, the header will be inverse for the light theme, and the same as the main background in the dark theme.

Default value: `true`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.useLightHeader]]
cuba.web.useLightHeader:: 
+
--
Enables the compact version of the upper part of the main application window – logo, menu bar, user name and logout button will be placed in single line. When disabled, `AppWindow.createTitleLayout()` creates additional area at the top.

Default value: `true`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.viewFileExtensions]]
cuba.web.viewFileExtensions:: 
+
--
Defines a list of file extensions displayed in the browser when <<file_download,downloading the file>> using `ExportDisplay.show()`. The `|` character should be used to separate the list items.

Default value: `htm|html|jpg|png|jpeg|pdf`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.webContextName]]
cuba.webContextName:: 
+
--
Defines the web application context name. It is usually equivalent to the name of the directory or WAR-file containing this <<app_tiers,application block>>.

Interface: `GlobalConfig`

Used in blocks: Middleware, Web Client, Web Portal.

For example, for the Middleware block, located in `tomcat/webapps/app-core` and available at `++http://somehost:8080/app-core++`, the property should be set to the following value:

[source, properties]
----
cuba.webContextName = app-core
----
--

[[cuba.webHostName]]
cuba.webHostName:: 
+
--
Defines the host name of the machine, on which this <<app_tiers,application block>> is running.

Default value: `localhost`

Interface: `GlobalConfig`

Used in blocks: Middleware, Web Client, Web Portal.

For example, for the Middleware block, available at `++http://somehost:8080/app-core++`, the property should be set to the following value:

[source, properties]
----
cuba.webHostName = somehost
----
--

[[cuba.webPort]]
cuba.webPort:: 
+
--
Defines the port, on which this <<app_tiers,application block>> is running.

Default value: `8080`

Interface: `GlobalConfig`

Used in blocks: Middleware, Web Client, Web Portal.

For example, for the Middleware block, available at `++http://somehost:8080/app-core++`, this property should be set to the following value:

[source, properties]
----
cuba.webPort = 8080
----
--

