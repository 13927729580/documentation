:sourcesdir: ../../../../../../source

[[transactions_interaction_rollback_nested]]
====== Откат вложенной транзакции

Если вложенная транзакция создана через `getTransaction()`, то ее откат приведет к невозможности коммита охватывающей транзакции. Например:

[source, java]
----
include::{sourcesdir}/middleware/transactions_3.java[]
----

<1> вызываем метод, создающий вложенную транзакцию

<2> предположим, что здесь выбрасывается исключение

<3> обрабатываем исключение и выходим

<4> здесь будет выброшено исключение, так как транзакция помечена как rollback only

Если же транзакция в `methodB()` будет создана через `createTransaction()`, то ее откат не окажет никакого влияния на коммит охватывающей транзакции в `methodA()`. 

