:sourcesdir: ../../../../../../source

[[scheduled_tasks_cuba_control]]
====== Управление обработкой заданий

* Для запуска обработки назначенных заданий необходимо установить свойство приложения <<cuba.schedulingActive,cuba.schedulingActive>> в значение `true`. Это можно сделать либо в экране *Administration > Application Properties*, либо с помощью JMX-бина `app-core.cuba:type=Scheduling` (см. атрибут `Active`).

* Все изменения в заданиях, сделанные через экраны системы, вступают в силу немедленно для всех серверов кластера.

* Для удаления старой истории выполнения заданий можно использовать метод `removeExecutionHistory()` JMX-бина `app-core.cuba:type=Scheduling`. У него имеется два параметра:

** `age` - время в часах, прошедшее после выполнения задания.

** `maxPeriod` - максимальный период заданий в часах, выполнения которых надо удалять. Это позволяет удалять только историю "частых" задач, а историю выполняемых, например, раз в сутки и реже, хранить без ограничений.
+
Данный метод можно вызывать автоматически, для этого достаточно создать новое задание и установить для него следующие параметры:

*** *Bean name* - `cuba_SchedulingMBean`

*** *Method name* - `removeExecutionHistory(String age, String maxPeriod)`

*** *Method parameters* - например, `age` = 72, `maxPeriod` = 12.

