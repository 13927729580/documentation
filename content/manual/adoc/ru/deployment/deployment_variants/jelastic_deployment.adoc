:sourcesdir: ../../../../source

[[jelastic_deployment]]
==== Развертывание в облаке Jelastic

CUBA Studio позволяет легко развернуть приложение в облаке link:$$https://jelastic.com/$$[Jelastic].

[TIP]
====
В данный момент развертывание в облаке возможно только для проектов, использующих в качестве сервера базы данных PostgreSQL или HSQL.
====

. Нажмите на ссылку *Deployment settings* в секции *Project properties* и перейдите на вкладку *CLOUD*.

. Если для данного проекта еще нет настроек развертывания в облаке, вы можете использовать поле вверху открывшейся страницы для создания бесплатной тестовой учетной записи Jelastic.

. После завершения регистрации введите email, пароль и выбранного хостинг-провайдера.
+
image::jelastic_1.png[align="center"]

. В поле *Environment* вводится имя окружения, в которое будет развернут WAR. Нажмите на кнопку с троеточием и выберите существующее окружение или создайте новое. Вы можете проверить окружение на совместимость с вашим проектом. Совместимое окружение должно иметь Java 8, Tomcat 8 и PostgreSQL 9.1+ (если в проекте используется база данных PostgreSQL). Если ваш проект использует PostgreSQL, вы получите email с информацией о подключении к БД. Используйте эту информацию при генерации context.xml, см. поле *Custom context.xml path* ниже. Кроме того, вы должны создать пустую базу данных PostgreSQL через веб-интерфейс провайдера, ссылка на который содержится в письме. Выбранное имя базы данных должно быть указано позже в context.xml.
+
image::jelastic_6.png[align="center"]

. Нажмите кнопку *Generate* рядом с полем *Custom web.xml path*. Studio сгенерирует специальный `web.xml` для <<build.gradle_buildWar,единого WAR>>, содержащего блоки Middleware и Web Client.
+
image::jelastic_2.png[align="center"]

. Если проект использует HSQLDB, то это все - вы можете нажать *OK* и запустить развертывание командой *Run > Deploy to cloud* главного меню. Параметры развёртывания можно позже изменить в файле <<build.gradle_deployWar,build.gradle>>.

. Если проект использует PostgreSQL, перейдите в административный веб-интерфейс по ссылке в письме, полученном после создания Environment, и создайте базу данных.

. Нажмите кнопку *Generate* рядом с полем *Custom context.xml path* и укажите пользователя, пароль, хост и имя базы данных.
+
image::jelastic_3.png[align="center"]

. Оставьте флажки *Include JDBC driver* и *Include context.xml* включенными.
+
image::jelastic_4.png[align="center"]

. Нажмите *OK* и запустите развертывание командой *Run > Deploy to cloud* главного меню.

. После завершения развертывания используйте сссылку в левом нижнем углу чтобы открыть веб-интерфейс приложения.
+
image::jelastic_5.png[align="center"]

