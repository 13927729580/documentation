:sourcesdir: ../../../../source

[[images_in_table]]
==== Вывод изображений в колонках таблицы

Расширим задачу из предыдущего примера, настроив отображение фотографий на экране просмотра списка сотрудников.

Изображения можно отобразить как в отдельной колонке, так и внутри существующих колонок. В обоих случаях будет использоваться интерфейс <<gui_Table_addGeneratedColumn,Table.ColumnGenerator>>.

Фрагмент XML-дескриптора экрана просмотра списка `Employee`:

[source, xml]
----
include::{sourcesdir}/cookbook/images_4.xml[]
----

Чтобы отображать фотографию рядом с именем сотрудника в колонке `name`, необходимо изменить стандартное представление данных в этой колонке. Например, можно использовать контейнер <<gui_BoxLayout,HBoxLayout>>, поместив внутрь него компонент <<gui_Image,Image>>:

[source, java]
----
include::{sourcesdir}/cookbook/images_5.java[]
----

<1> В методе `onInit()` вызывается метод `addGeneratedColumn()`, который принимает два параметра: идентификатор колонки и реализацию интерфейса `Table.ColumnGenerator`, с помощью которого мы зададим своё представление для колонки `name`.

<2> В этом методе мы создадим компонент `Image`, пользуясь интерфейсом `UiComponents`. Укажем <<gui_Image_scaleMode,режим масштабирования>> компонента (`CONTAIN`) и зададим его размеры.

<3> Затем получим экземпляр `FileDescriptor` с изображением, которое хранится в <<file_storage,File Storage>>. Ссылка на это изображение хранится в атрибуте `imageFile` сущности `Employee`. Используем тип ресурса `FileDescriptorImageResource`, чтобы задать источник данных для компонента `Image`.

<4> Атрибут `name` можно отобразить как компонент `Label` рядом с изображением.

<5> Оба компонента `Image` и `Label` обернём в контейнер `HBoxLayout`, который будет возвращать метод `addGeneratedColumn()` в качестве новой разметки ячейки.

image::images_in_table.png[align="center"]

Можно использовать также более декларативный подход с атрибутом <<gui_Table_column_generator,generator>>.


