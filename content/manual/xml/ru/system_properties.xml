<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE appendix PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" []>
<appendix>
  <title>Системные свойства</title>
  <para>Системные свойства задаются при запуске JVM с помощью аргумента командной строки <literal>-D</literal> и могут быть получены или установлены  методами <code>getProperty()</code>, <code>setProperty()</code> класса <code>System</code>.</para>
  <variablelist>
    <varlistentry id="log4j.configuration">
      <term>log4j.configuration</term>
      <listitem>
        <para>Определяет местонахождение файла конфигурации фреймворка <application>
            <ulink url="http://logging.apache.org/log4j/1.2/manual.html">Apache log4j</ulink>
          </application>.</para>
        <para>Для <link linkend="app_tiers">блоков приложения</link>, работающих на веб-сервере <application>Tomcat</application>, данное системное свойство задается в файлах <filename>tomcat/bin/setenv.bat</filename> и <filename>tomcat/bin/setenv.sh</filename>. По умолчанию оно указывает на конфигурационный файл <filename>tomcat/conf/log4j.xml</filename>.</para>
        <para>Для <structname>Desktop Client</structname>, если данное свойство не задано при запуске JVM, оно задается в коде самого приложения и по умолчанию указывает на файл <filename>cuba-log4j.xml</filename>, расположенный в корне CLASSPATH. Задать другой файл конфигурации можно, переопределив метод <code>getDefaultLog4jConfig()</code> класса <code>com.haulmont.cuba.desktop.App</code>.</para>
      </listitem>
    </varlistentry>
    <varlistentry id="cuba.desktop.home">
      <term>cuba.desktop.home</term>
      <listitem>
        <para>Для <link linkend="app_tiers">блока</link> <structname>Desktop Client</structname> задает расположение домашнего каталога, в котором по умолчанию находятся каталоги, определяемые свойствами приложения <property>
            <link linkend="cuba.confDir">cuba.confDir</link>
          </property>, <property>
            <link linkend="cuba.logDir">cuba.logDir</link>
          </property>, <property>
            <link linkend="cuba.tempDir">cuba.tempDir</link>
          </property>, <property>
            <link linkend="cuba.dataDir">cuba.dataDir</link>
          </property>.</para>
        <para>Если данное свойство не задано при запуске JVM, то будет использовано значение <filename>${user.home}/.haulmont/cuba</filename>, которое можно изменить в прикладном проекте, переопределив метод <code>getDefaultHomeDir()</code> класса <code>com.haulmont.cuba.desktop.App</code>. </para>
      </listitem>
    </varlistentry>
    <varlistentry id="cuba.unitTestMode">
      <term>cuba.unitTestMode</term>
      <listitem>
        <para>Данное системное свойство устанавливается в значение <code>true</code> в режиме выполнения интеграционных тестов базовым классом <code>CubaTestCase</code>.</para>
        <para>Пример использования:<programlisting language="java">if (!Boolean.valueOf(System.getProperty(&quot;cuba.unitTestMode&quot;)))
  return &quot;Not in test mode&quot;;</programlisting></para>
      </listitem>
    </varlistentry>
  </variablelist>
</appendix>
