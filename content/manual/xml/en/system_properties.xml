<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE appendix PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<appendix>
  <title>System Properties</title>
  <para>System properties can be specified at JVM startup, using the command line argument <literal>-D</literal>. Additionally, system properties can be read or set using the <code>getProperty()</code> and <code>setProperty()</code> methods of the <code>System</code> class.</para>
  <variablelist>
    <varlistentry id="log4j.configuration">
      <term>log4j.configuration</term>
      <listitem>
        <para>Defines the location of the <ulink url="http://logging.apache.org/log4j/1.2/manual.html">Apache Log4j</ulink> framework configuration file.</para>
        <para>For <link linkend="app_tiers">application blocks</link> running on the <application>Tomcat</application> web server, this system property is configured in the <filename>tomcat/bin/setenv.bat</filename> and <filename>tomcat/bin/setenv.sh</filename> files. By default, it points to the <filename>tomcat/conf/log4j.xml</filename> configuration file.</para>
        <para>For the Desktop Client block, the application code configures this property, if it is not defined at JVM startup. By default it points to the <filename>cuba-log4j.xml</filename> file located in the CLASSPATH root. A different configuration file can be specified by overriding the <code>getDefaultLog4jConfig()</code> method of the <code>com.haulmont.cuba.desktop.App</code> class.</para>
      </listitem>
    </varlistentry>
    <varlistentry id="cuba.desktop.home">
      <term>cuba.desktop.home</term>
      <listitem>
        <para>For the Desktop Client <link linkend="app_tiers">block</link>, this property defines the root for the folders defined in the <link linkend="cuba.confDir">cuba.confDir</link>, <link linkend="cuba.logDir">cuba.logDir</link>,  <link linkend="cuba.tempDir">cuba.tempDir</link>, and  <link linkend="cuba.dataDir">cuba.dataDir</link> application properties.</para>
        <para>If this property is not defined at JVM startup, the default value of <filename>${user.home}/.haulmont/cuba</filename> will be used. A different location can be specified by overriding the <code>getDefaultHomeDir()</code> method of the <code>com.haulmont.cuba.desktop.App</code> class.</para>
      </listitem>
    </varlistentry>
    <varlistentry id="cuba.unitTestMode">
      <term>cuba.unitTestMode</term>
      <listitem>
        <para>This system property is set to <code>true</code> when the <code>CubaTestCase</code> base class is running integration tests.</para>
        <para>Example:<programlisting language="java">if (!Boolean.valueOf(System.getProperty(&quot;cuba.unitTestMode&quot;)))
  return &quot;Not in test mode&quot;;</programlisting></para>
      </listitem>
    </varlistentry>
  </variablelist>
</appendix>
