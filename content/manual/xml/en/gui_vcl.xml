<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<section id="gui_vcl" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Visual Components Library</title>
  <para><link linkend="gui_components">Components</link></para>
  <para><link linkend="gui_layouts">Containers</link></para>
  <para><link linkend="gui_misc">Miscellaneous</link></para>
  <section id="gui_components">
    <title>Components </title>
    <figure>
      <title>Components Diagram</title>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/Components_new.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para><code>Component</code> is the parent of all visual components. It contains basic attributes to identify a component and place it within a screen.</para>
    <informaltable frame="none" pgwide="0">
      <tgroup cols="2" colsep="1">
        <colspec colnum="1" colname="c0" colwidth="1*"/>
        <colspec colnum="2" colname="c1" colwidth="4*"/>
        <tbody valign="middle">
          <row>
            <entry>
              <emphasis role="bold">Buttons</emphasis>
            </entry>
            <entry/>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_Button">Button</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/Button.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row valign="middle">
            <entry align="left">
              <link linkend="gui_PopupButton">PopupButton</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/PopupButton.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_LinkButton">LinkButton</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/LinkButton.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry/>
          </row>
          <row>
            <entry>
              <emphasis role="bold">Text</emphasis>
            </entry>
            <entry/>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_Label">Label</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_label.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry/>
          </row>
          <row>
            <entry>
              <emphasis role="bold">Text inputs</emphasis>
            </entry>
            <entry/>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_TextField">TextField</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_textField.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>P<entry>
              <link linkend="gui_PasswordField">PasswordField</link>
            </entry><entry>
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_PasswordField.png"/>
                </imageobject>
              </mediaobject>
            </entry></row>
          <row>M<entry>
              <link linkend="gui_MaskedField">MaskedField</link>
            </entry><entry>
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_MaskedField.png"/>
                </imageobject>
              </mediaobject>
            </entry></row>
          <row>
            <entry>
              <link linkend="gui_TextArea">TextArea</link>
            </entry>
            <entry>
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_TextArea.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_RichTextArea">RichTextArea</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_RichTextArea.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry/>
          </row>
          <row>
            <entry>
              <emphasis role="bold">Date inputs</emphasis>
            </entry>
            <entry/>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_DateField">DateField</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_dateField.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_TimeField">TimeField</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_timeField.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry/>
          </row>
          <row>
            <entry>
              <emphasis role="bold">Selects</emphasis>
            </entry>
            <entry/>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_CheckBox">CheckBox</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/CheckBox.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_OptionsGroup">OptionsGroup</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_optionsGroup.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_PickerField">PickerField</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/PickerField.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_LookupField">LookupField</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/LookupField.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_LookupPickerField">LookupPickerField</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/LookupPickerField.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_SearchPickerField">SearchPickerField</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_searchPickerField.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_TwinColumn">TwinColumn</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/TwinColumn.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry/>
          </row>
          <row>
            <entry>
              <emphasis role="bold">Uploads</emphasis>
            </entry>
            <entry/>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_FileUploadField">FileUploadField</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/Upload.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry>
              <link linkend="gui_FileMultiUploadField">FileMultiUploadField</link>
            </entry>
          </row>
          <row>
            <entry/>
          </row>
          <row>
            <entry>
              <emphasis role="bold">Tables and trees</emphasis>
            </entry>
            <entry/>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_Table">Table</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_table.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_GroupTable">GroupTable</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_groupTable.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_TreeTable">TreeTable</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_treeTable.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_Tree">Tree</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_Tree.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry/>
          </row>
          <row>
            <entry>
              <emphasis role="bold">Others</emphasis>
            </entry>
            <entry/>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_FieldGroup">FieldGroup</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_fieldGroup.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_TokenList">TokenList</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_tokenList.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
          <row>
            <entry align="left">
              <link linkend="gui_Filter">Filter</link>
            </entry>
            <entry align="left">
              <mediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_filter_mini.png"/>
                </imageobject>
              </mediaobject>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
    <section id="gui_Button">
      <title>Button</title>
      <para>A button is a component which performs an action when clicked.</para>
      <para>Component’s XML-name: <sgmltag>button</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_Button_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>Button component is implemented for both  <structname>Web</structname> and <structname>Desktop</structname> clients.</para>
      <para>Buttons can contain a caption, an icon, or both. The figure below shows different button types.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_buttonTypes.png"/>
        </imageobject>
      </mediaobject>
      <para>An example of a button with a tooltip and a caption retrieved from a
          <link linkend="message_packs">localized message pack</link>:
          <programlisting language="xml"><![CDATA[
<button id="textButton" caption="msg://someAction" description="Press me"/>]]></programlisting></para>
      <para>The button’s caption is set using the <link linkend="gui_attr_basic_caption">caption</link> attribute, the tooltip – using the  <link linkend="gui_attr_basic_description">description</link> attribute.</para>
      <para>The  <link linkend="gui_attr_basic_icon">icon</link> attribute defines icon location. Detailed information on recommended icon placement is available in <xref linkend="gui_themes"/> .</para>
      <para>Example of creating a button with an icon:</para>
      <programlisting language="xml">&lt;button id=&quot;iconButton&quot; caption=&quot;&quot; icon=&quot;icons/save.png&quot;/&gt;</programlisting>
      <para id="gui_attr_button_invoke">The button’s main function is to perform an action on a click. Controller method that should be invoked after a click can be defined using   <sgmltag>invoke</sgmltag> attribute. The attribute value should contain name of the controller method satisfying the following conditions:</para>
      <itemizedlist>
        <listitem>
          <para>The method should be  <code>public</code>.</para>
        </listitem>
        <listitem>
          <para>The method should return  <code>void</code>.</para>
        </listitem>
        <listitem>
          <para>The method should not have any arguments, or should have a single argument of <code>Component</code> type. If the method has a  <code>Component</code> argument, then an instance of the invoking button will be passed in it.</para>
        </listitem>
      </itemizedlist>
      <para>Below is the example of a button invoking    <code>someMethod:</code></para>
      <programlisting language="xml">&lt;button invoke=&quot;someMethod&quot; caption=&quot;msg://someButton&quot;/&gt;</programlisting>
      <para>A method named  <code>someMethod</code> should be defined in the screen controller:</para>
      <programlisting language="java">public void someMethod() {
//some actions
}</programlisting>
      <para id="gui_attr_button_action">The <code>invoke</code> attribute is ignored if <code>action</code> attribute is set. The action attribute contains an   <link linkend="gui_Action">Action</link> name corresponding to the button.</para>
      <para>Example of a button with an  <sgmltag>action</sgmltag>:</para>
      <programlisting language="xml"><![CDATA[<actions>
  <action id="someAction" caption="msg://someAction"/>
</actions>
<layout>
  <button action="someAction"/>
]]></programlisting>
      <para>Any action present in the component implementing  <code>Component.ActionsHolder</code> interface can be assigned to a button. This applies to  <link linkend="gui_Table">Table</link>, <link linkend="gui_GroupTable">GroupTable</link>, <link linkend="gui_TreeTable">TreeTable</link>, <link linkend="gui_Tree">Tree</link>. The way of adding components (declaratively in the XML descriptor or programmatically in the controller) is irrelevant. In any case, for using an action, the name of the component and the identifier of the required action  must be specified in the  <code>action</code> attribute, separated by dot. For instance, in the next example the  <code>create</code> action of the <code>coloursTable</code> table is assigned to a button:<programlisting language="xml">&lt;button action=&quot;coloursTable.create&quot;/&gt;</programlisting></para>
      <para>Button actions can be also created programmatically in the screen controller by deriving them from
          <link linkend="baseAction">BaseAction</link> class.</para>
      <para>If an <code>Action</code> instance is defined for a <code>Button</code>, the button will import the following properties from it: <link linkend="gui_attr_basic_caption">caption</link>, <link linkend="gui_attr_basic_icon">icon</link>, <link linkend="gui_attr_basic_enable">enable</link>, <link linkend="gui_attr_basic_visible">visible</link>. <code>caption</code> property will be imported from <code>Action</code> only if it is not set in the <code>Button</code> itself. All other listed <code>Action</code> properties have priority over the <code>Button</code> properties. If <code>Action</code> properties are changed after the <code>Action</code> is set for a <code>Button</code>, then <code>Button</code> properties also change accordingly, i.e. the button listens to the changes in <code>Action</code> properties and the    <code>caption</code> property will change even if it was initially assigned to the button itself.
</para>
      <para><sgmltag>button</sgmltag> attibutes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row>
              <entry align="left">action</entry>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_align">align</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_icon">icon</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry align="left">invoke</entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_BulkEditor">
      <title>Bulk Editor</title>
      <para><code>Bulk Editor</code> – is a component that enables changing attribute values for several entity instances at once. The component is a button, usually added to a <link linkend="gui_Table">table</link> or a <link linkend="gui_Tree">tree</link>, which opens the entity bulk editor on click.  </para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_bulkEdit.png"/>
        </imageobject>
      </mediaobject>
      <para>XML-name of the component: <code>bulkEditor</code></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_BulkEditor_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The component is implemented for  <structname>Web Client</structname> and <structname>Desktop Client</structname>.</para>
      <para>To enable the use of Bulk Editor, the table or tree must have the  <code>multiselect</code> attribute set to <code>&quot;true&quot;</code>.</para>
      <para>The entity editor is automatically generated based on the defined view (containing the fields of this entity, including references) and the user permissions. System attributes are not displayed in the editor either.</para>
      <para>Entity attributes in the editor are sorted alphabetically. By default, the fields are empty. At screen commit, non-empty attribute values defined in the editor, are set for all the entity instances. </para>
      <para>The editor also allows removing a specific field value for all the instances by setting it to  <code>null</code>. In order to do this, click  <inlinemediaobject>
          <imageobject>
            <imagedata fileref="img/gui_bulkEditorSetNullButton.png"/>
          </imageobject>
        </inlinemediaobject> button next to the field. After that, the field will become non-editable. The field can
        be unlocked by clicking the same button again.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_invoiceBulkEdit.png"/>
        </imageobject>
      </mediaobject>
      <para>Example of  <code>bulkEditor</code> use in a table:</para>
      <programlisting language="xml"><xi:include href="../../source/gui/bulkEditor_1.xml" encoding="UTF-8" parse="text"/></programlisting>
      <para id="gui_attr_bulkedit_for">The  <code>for</code> attribute is required. It contains the identifier of a table or a tree; in this case, it is the <code>invoiceTable</code>.</para>
      <para id="gui_attr_bulkedit_exclude">The <code>exclude</code> attribute can contain a regular expression
        to exclude some fields explicitly from the list of attributes available for editing. For example:
        <code>date|customer</code>
      </para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_TableBulkEdit.png"/>
        </imageobject>
      </mediaobject>
      <para>The  <code>BulkEditor</code> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="3" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_bulkedit_exclude">exclude</link>
              </entry><entry align="left">
                <link linkend="gui_attr_tokenList_lookup_openType">openType</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_bulkedit_for">for</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_icon">icon</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_CheckBox">
      <title>CheckBox</title>
      <para><code>CheckBox</code>  is a component with two states: checked, unchecked.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/CheckBox.png"/>
        </imageobject>
      </mediaobject>
      <para>Component’s XML-name: <sgmltag>checkBox</sgmltag>.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_checkBox_dia.png"/>
        </imageobject>
      </mediaobject>
      <para><code>CheckBox</code> component is implemented for both  <structname>Web</structname> and  <structname>Desktop Client</structname>s.</para>
      <para>An example of a checkbox with a label retrieved from a  <link linkend="message_packs">localized messages pack</link>:</para>
      <programlisting language="xml">&lt;checkBox id=&quot;accessField&quot; caption=&quot;msg://accessFieldCaption&quot;/&gt;</programlisting>
      <para>Checking / unchecking of the checkbox changes its value: <code>Boolean.TRUE</code> or <code>Boolean.FALSE.</code>The value can be retrieved using   <code>getValue()</code> method and set using  <code>setValue()</code>. Submitting <code>null</code> using <code>setValue()</code> will change the value to <code>Boolean.FALSE</code> and uncheck the checkbox.</para>
      <para>Changes of checkbox value, as well as of any other components implementing the <code>Field</code> interface, can be tracked using a   <code>ValueListener</code>. For example:</para>
      <programlisting language="java">@Inject
private CheckBox accessField;

@Override
public void init(Map&lt;String, Object&gt; params) {
accessField.addListener(new ValueListener&lt;Object&gt;() {
    @Override
    public void valueChanged(Object source, String property, Object prevValue, Object value) {
        if (Boolean.TRUE.equals(value)) {
            showNotification(&quot;set&quot;, NotificationType.HUMANIZED);
        } else {
            showNotification(&quot;not set&quot;, NotificationType.HUMANIZED);
        }
    }
});
}</programlisting>
      <para>The <link linkend="gui_attr_basic_datasource">datasource</link> and <link linkend="gui_attr_basic_property">property</link> attributes should be used to create a checkbox associated with data.</para>
      <programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;customerDs&quot; class=&quot;com.sample.sales.entity.Customer&quot; view=&quot;_local&quot;/&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;checkBox datasource=&quot;customerDs&quot; property=&quot;active&quot;/&gt;</programlisting>
      <para>According to the example the screen includes the description of  <code>customerDs</code> <link linkend="datasources">data source</link>  for a <code>Customer</code> entity with <code>active</code> attribute. The <code>datasource</code> attribute of the <code>checkBox</code> component should contain a reference to a data source; the <code>property</code> attribute should contain the name of an entity attribute which value should be displayed in the checkbox. The attribute should have  <code>Boolean</code> type. If the attribute value is  <code>null</code> the checkbox is unchecked.</para>
      <para><sgmltag>checkBox</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_property">property</link>
              </entry><entry/></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
              <entry/>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
              <entry/>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
              <entry/>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_DateField">
      <title>DateField</title>
      <para><code>DateField</code> is a field to display and enter date and time. It is an input field, inside which there is a button with a drop-down calendar. To the right, there is a time field.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_dateFieldSimple.png"/>
        </imageobject>
      </mediaobject>
      <para>XML name of the component: <sgmltag>dateField</sgmltag>.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_dateField_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The  <code>DateField</code> component is implemented for  <structname>Web Client</structname> and  <structname>Desktop Client</structname>.<itemizedlist>
          <listitem>
            <para>To create a date field associated with data, you should use the  <link linkend="gui_attr_basic_datasource">datasource</link> and <link linkend="gui_attr_basic_property">property</link> attributes:</para>
            <programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;orderDs&quot; class=&quot;com.sample.sales.entity.Order&quot; view=&quot;_local&quot;/&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;dateField datasource=&quot;orderDs&quot; property=&quot;date&quot;/&gt;</programlisting>
            <para>In the example above, the screen has an  <literal>orderDs</literal> data source for an Order  entity, which has the <code>date</code> property. In the date component, you should specify a link to a data source as  <link linkend="gui_attr_basic_datasource">datasource</link> and a name of an entity attribute (which value should be displayed in the field) as  <link linkend="gui_attr_basic_property">property</link>.</para>
          </listitem>
          <listitem>
            <para>If the field is associated with an entity attribute, it will automatically take the appropriate form:<itemizedlist>
                <listitem>
                  <para>If the attribute has the  <code>java.sql.Date</code> type or the <code>@Temporal(TemporalType.DATE)</code> annotation is specified, the time field will not be displayed. The date format is defined by the  <code>date</code> <link linkend="datatype">datatype</link> and is specified in the  <link linkend="main_message_pack">main localized message pack</link> in the <code>dateFormat</code> key.</para>
                </listitem>
                <listitem>
                  <para>Otherwise, the time field with hours and minutes will be displayed. The time format is defined by the   <code>time</code> <link linkend="datatype">datatype</link> and is specified in the main localized message pack in the  <code>timeFormat</code> key.</para>
                </listitem>
              </itemizedlist></para>
          </listitem>
          <listitem>
            <para id="gui_attr_dateField_dateFormat">You can change the date and time format using the  <sgmltag>dateFormat</sgmltag> attribute. An attribute value can be either a format string itself or a key in a message pack (if the value starts with  <code>msg://</code>).</para>
            <para>The format is defined by rules of the  <code>SimpleDateFormat</code> class (<ulink url="http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html">http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html</ulink>). If there are no <code>H</code> or <code>h</code> characters in the format, the time field will not be displayed.</para>
            <programlisting language="xml">&lt;dateField dateFormat=&quot;MM/yy&quot; caption=&quot;msg://monthOnlyDateField&quot;/&gt;</programlisting>
            <mediaobject>
              <imageobject>
                <imagedata align="center" fileref="img/gui_dateField_format.png"/>
              </imageobject>
            </mediaobject>
          </listitem>
          <listitem><para id="gui_attr_dateField_resolution">Date and time accuracy can be defined using a <sgmltag>resolution</sgmltag> attribute. An attribute value should match the <code>DateField.Resolution</code> enumeration − <literal>SEC</literal>, <literal>MIN</literal>, <literal>HOUR</literal>, <literal>DAY</literal>, <literal>MONTH</literal>, <literal>YEAR</literal>. Default is  <code>MIN</code>, i.e., to within a minute.</para><para>If  <code>resolution=&quot;DAY&quot;</code> and  <sgmltag>dateFormat</sgmltag> is not specified, the format will be taken from one specified in the  <link linkend="main_message_pack">main message pack</link> with the  <sgmltag>dateFormat</sgmltag> key.</para><para>If  <code>resolution=&quot;MIN&quot;</code> and  <sgmltag>dateFormat</sgmltag> is not specified, the format will be taken from one specified in the main message pack with the  <sgmltag>dateTimeFormat</sgmltag> key.</para>Below is a field definition for entering a date up to within a month.<programlisting language="xml">&lt;dateField resolution=&quot;MONTH&quot; caption=&quot;msg://monthOnlyDateField&quot;/&gt;</programlisting><mediaobject>
              <imageobject>
                <imagedata align="center" fileref="img/gui_dateField_resolution.png"/>
              </imageobject>
            </mediaobject></listitem>
          <listitem>
              <para><code>DateField</code> can perform timestamp value conversions between server and user time
                  zones if the user's <link linkend="timeZone">time zone</link> is set by <code>setTimeZone()</code>
                  method. The time zone is assigned automatically from the current <link linkend="userSession">user session</link>
                  when the component is bound to an entity attribute of the timestamp type. If the component is not
                  bound to such attribute, you can call <code>setTimeZone()</code> in the screen controller to make
                  the <code>DateField</code> perform required conversions.</para>
          </listitem>
        </itemizedlist>.</para>
      <para><sgmltag>dateField</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry><entry>
                <link linkend="gui_attr_dateField_resolution">resolution</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_property">property</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_required">required</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_dateField_dateFormat">dateFormat</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>dateField</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry>
                <link linkend="gui_validator">validator</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    <section id="gui_Embedded">
      <title>Embedded</title>
      <para><code>Embedded</code> component is intended for displaying images and embedding optional web pages into the screen.</para>
      <para>XML name of the component:  <sgmltag>embedded</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_Embedded_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The component is implemented for <structname>Web Client</structname> and <structname>Desktop Client</structname>. <structname>Desktop Client</structname> supports image display only.</para>
      <para>Below is an example of using the component to display an image from a file located in   <link linkend="file_storage">FileStorage</link>. <itemizedlist>
          <listitem>
            <para>Declare the component in an XML screen descriptor:<programlisting language="xml">&lt;groupBox caption=&quot;Embedded&quot; spacing=&quot;true&quot;
      height=&quot;250px&quot; width=&quot;250px&quot; expand=&quot;embedded&quot;&gt;
&lt;embedded id=&quot;embedded&quot; width=&quot;100%&quot;
          align=&quot;MIDDLE_CENTER&quot;/&gt;
&lt;/groupBox&gt;</programlisting></para>
          </listitem>
          <listitem>
            <para>In a screen controller, inject the component itself, and the  <code>FileStorageService</code> interface. In  <code>init()</code> method, get the <code>FileDescriptor</code> passed from the  calling code, upload the corresponding file as a byte array, create a  <code>ByteArrayInputStream</code> for it, and pass it to the  <code>setSource()</code> method of the component:<programlisting language="java">@Inject
private Embedded embedded;

@Inject
private FileStorageService fileStorageService;

@Override
public void init(Map&lt;String, Object&gt; params) {
FileDescriptor imageFile = (FileDescriptor) params.get(&quot;imageFile&quot;);

byte[] bytes = null;
if (imageFile != null) {
    try {
        bytes = fileStorageService.loadFile(imageFile);
    } catch (FileStorageException e) {
        showNotification(&quot;Unable to load image file&quot;, NotificationType.HUMANIZED);
    }
}
if (bytes != null) {
    embedded.setSource(imageFile.getName(), new ByteArrayInputStream(bytes));
    embedded.setType(Embedded.Type.IMAGE);
} else {
    embedded.setVisible(false);
}
}</programlisting></para>
          </listitem>
        </itemizedlist></para>
      <para>Web Client allows image output from any files available to the  Web Client block. Define the resource files directory in <link linkend="cuba.web.resourcesRoot">cuba.web.resourcesRoot</link> application property, and specify the name of the file inside this directory for the  <code>Embedded</code> component<programlisting language="java">embedded.setSource(&quot;my-logo.png&quot;);</programlisting></para>
      <para>Pass the URL to the component to embed an external web page into the screen:<programlisting language="java">try {
embedded.setSource(new URL(&quot;http://www.cuba-platform.com&quot;));
} catch (MalformedURLException e) {
throw new RuntimeException(e);
}</programlisting></para>
      <para><code>embedded</code> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="3" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_FieldGroup">
      <title>FieldGroup</title>
      <para><code>FieldGroup</code> is intended for the joint display and editing of multiple entity attributes. </para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_fieldGroup.png"/>
        </imageobject>
      </mediaobject>
      <para>XML-name of the component: <sgmltag>fieldGroup</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_FieldGroup_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The component is implemented for <structname>Web Client</structname> and <structname>Desktop Client</structname>.</para>
      <para>Below is an example of describing a group of fields in an XML screen descriptor:<programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;orderDs&quot;
            class=&quot;com.sample.sales.entity.Order&quot;
            view=&quot;orderWithCustomer&quot;&gt;
&lt;/datasource&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;fieldGroup id=&quot;orderFieldGroup&quot; datasource=&quot;orderDs&quot; width=&quot;250px&quot;&gt;
    &lt;field id=&quot;date&quot;/&gt;
    &lt;field id=&quot;customer&quot;/&gt;
    &lt;field id=&quot;amount&quot;/&gt;
&lt;/fieldGroup&gt;</programlisting></para>
      <para>In the example above,  <code>dsContext</code> defines an   <code>orderDs</code> <link linkend="datasources">data source</link>, which contains a single  instance of the  <code>Order</code> entity. For the  <code>fieldGroup</code> component, you should specify a data source in  <code>datasource</code> attribute. Entity attributes containing in the data source, which you need to display, should be specified in <code>field</code> elements.</para>
      <para><code>fieldGroup</code> elements:<itemizedlist>
          <listitem>
            <para><code>column</code> – optional element that allows you to position fields in multiple columns. For this purpose,  <code>field</code> elements should be placed not immediately within  <code>fieldGroup</code>, but within its  <code>column</code>. For example:<programlisting language="xml">&lt;fieldGroup id=&quot;orderFieldGroup&quot; datasource=&quot;orderDs&quot; width=&quot;100%&quot;&gt;
&lt;column width=&quot;250px&quot;&gt;
    &lt;field id=&quot;num&quot;/&gt;
    &lt;field id=&quot;date&quot;/&gt;
    &lt;field id=&quot;amount&quot;/&gt;
&lt;/column&gt;
&lt;column width=&quot;400px&quot;&gt;
    &lt;field id=&quot;customer&quot;/&gt;
    &lt;field id=&quot;info&quot;/&gt;
&lt;/column&gt;
&lt;/fieldGroup&gt;</programlisting></para>
            <para>In this case, fields will be arranged in two columns; the first column will contain all fields with the width of  <code>250px</code>, the second one with the width of  <code>400px</code>.</para>
            <para><code>column</code> may have the following attributes:<itemizedlist>
                <listitem id="gui_attr_fieldGroup_width">
                  <para><code>width</code> – specifies the field width of a column. By default, fields have the width of <code>200px</code>. In this attribute, the width can be specified both in pixels and in percentage of the total horizontal width of the column.</para>
                </listitem>
                <listitem id="gui_attr_fieldGroup_flex">
                  <para><code>flex</code> – a number, which indicates the degree of horizontal change in the overall size of the column relative to other columns as a result of changing the entire width of  <code>fieldGroup</code>. For example, you can specify  <code>flex=1</code> for a column, and  <code>flex=3</code> for another one. </para>
                </listitem>
                <listitem>
                  <para><code>id</code> – an optional column identifier, which allows you to refer to it in case of  <link linkend="screen_extension">screen extension</link>.</para>
                </listitem>
              </itemizedlist></para>
          </listitem>
          <listitem>
            <para><code>field</code> – main component element. It describes one component field. </para>
            <para>Attributes of  <code>field</code>:<itemizedlist>
                <listitem id="gui_attr_fieldGroup_field_id">
                  <para><code>id</code> – required attribute; it should contain either an entity attribute name, which is displayed in the field, or an arbitrary unique identifier of a programmatically defined field. In the latter case,  <code>field</code> should have  <code>custom=&quot;true&quot;</code> as well (see below).</para>
                </listitem>
                <listitem id="gui_attr_fieldGroup_field_caption">
                  <para><code>caption</code> − allows you to specify a field caption. If not specified, an  <link linkend="entity_localization">entity attribute localized name</link> will be displayed.</para>
                </listitem>
                <listitem>
                  <para><code>visible</code> − allows you to hide the field together with the caption.</para>
                </listitem>
                <listitem id="gui_attr_fieldGroup_field_datasource">
                  <para><code>datasource</code> − allows you to specify a  <link linkend="datasources">data source</link> for the field, other than specified for the entire  <code>fieldGroup</code> component. Thus, attributes of different entities can be displayed in a field group.</para>
                </listitem>
                <listitem>
                  <para><code>optionsDatasource</code> specifies a name of a  <link linkend="datasources">data source</link>, used to create a list of options. You can specify this attribute for a field related to a reference entity attribute. By default, the selection of a related entity is made through a selection screen. If  <code>optionsDatasource</code> is specified, you can select the related entity from a drop-down list of options. Actually, specifying  <code>optionsDatasource</code> will lead to the fact that <link linkend="gui_LookupPickerField">LookupPickerField</link> will be used in the field instead of     <link linkend="gui_PickerField">PickerField</link>.</para>
                </listitem>
                <listitem>
                  <para><code>width</code> − allows you to specify the field width excluding caption. By default, the field width will be  <code>200px</code>. The width can be specified both in pixels and in percentage of the total horizontal width of the column. To specify the width of all fields simultaneously, you can use the  <code>width</code> attribute of  <code>column</code>, described above.</para>
                </listitem>
                <listitem id="gui_attr_fieldGroup_field_custom">
                  <para><code>custom</code> – if set to <code>true</code>, it means that a field identifier does not refer to an entity attribute, and a component, which is in the field, will be set programmatically using <code>addCustomField()</code> method of   <code>FieldGroup</code> (see below).</para>
                </listitem>
                <listitem id = "gui_attr_fieldGroup_link">
                    <para><code>link</code> - if set to <code>true</code>, allows displaying a link to an entity editor instead of an entity picker field (supported for <structname>Web Client</structname> only). Such behaviour may be required when the user should be able to view the related entity, but should not change the relationship.</para>
                </listitem>
                <listitem id = "gui_attr_fieldGroup_linkScreen">
                    <para><code>linkScreen</code> - contains the identifier of the screen that is opened by clicking the link, enabled in the <code>link</code> attribute.</para>
                </listitem>
                <listitem id = "gui_attr_fieldGroup_linkScreenOpenType">
                    <para><code>linkScreenOpenType</code> - sets the screen opening mode (<code>THIS_TAB</code>, <code>NEW_TAB</code> or  <code>DIALOG</code>).</para>
                </listitem>
                <listitem id = "gui_attr_fieldGroup_linkInvoke">
                    <para><code>linkInvoke</code> - contains the controller method to be invoked instead of opening the screen.</para>
                </listitem>
              </itemizedlist></para>
            <para>The following attributes of <code>field</code> can be applied depending on an entity attribute type, which is displayed in the field:<itemizedlist>
                <listitem>
                  <para>If you specify a value of the <sgmltag>mask</sgmltag> attribute for a text entity attribute, <link linkend="gui_MaskedField">MaskedField</link> with an appropriate mask will be used instead of  <link linkend="gui_TextField">TextField</link>. In this case, you can also specify the <code>valueMode</code> attribute.</para>
                </listitem>
                <listitem id="gui_attr_fieldGroup_field_rows">
                  <para>If you specify a value of the  <sgmltag>rows</sgmltag> attribute for a text entity attribute, <link linkend="gui_TextArea">TextArea</link> with an appropriate number of rows will be used instead of  <link linkend="gui_TextField">TextField</link>. In this case, you can also specify the  <code>cols</code> attribute.</para>
                </listitem>
                <listitem>
                  <para>For a text entity attribute, you can specify the  <code>maxLength</code> attribute similarly to one described for  <link linkend="gui_TextField">TextField</link>.</para>
                </listitem>
                <listitem>
                  <para>For an entity attribute of the <code>date</code> or  <code>dateTime</code> type, you can specify the  <code>dateFormat</code> and  <code>resolution</code> for the parameterization of the  <link linkend="gui_DateField">DateField</link> component located in the field.</para>
                </listitem>
                <listitem>
                  <para>For an entity attribute of the  <code>time</code> type, you can specify the  <code>showSeconds</code> attribute for the parameterization of the  <link linkend="gui_TimeField">TimeField</link> component located in the field.</para>
                </listitem>
              </itemizedlist></para>
          </listitem>
        </itemizedlist></para>
      <para><code>fieldGroup</code> attributes:<itemizedlist>
          <listitem id="gui_attr_fieldGroup_border">
            <para>The  <sgmltag>border</sgmltag> attribute can be set either to  <literal>hidden</literal> or  <literal>visible</literal>. Default is  <code>hidden</code>. If set to  <literal>visible</literal>, the  <sgmltag>fieldGroup</sgmltag> component is highlighted with a border. In the web implementation of the component, displaying a border is done by adding the <code>cuba-fieldgroup-border</code> CSS class. </para>
          </listitem>
        </itemizedlist></para>
      <para>Methods of the  <code>FieldGroup</code> interface:<itemizedlist>
          <listitem>
            <para><code>addCustomField()</code> is used together with the  <code>custom=&quot;true&quot;</code> attribute of  <code>field</code> and it allows you to set your own field view. It takes two parameters: field identifier specified in the  <code>id</code> attribute of  <code>field</code> and the implementation of the  <code>FieldGroup.CustomFieldGenerator</code> interface.</para>
            <para><code>generateField()</code> of the  <code>CustomFieldGenerator</code> interface is invoked by  <code>FieldGroup</code>. A  <link linkend="datasources">data source</link> and field identifier, for which this generator is registered, are passed into the method. The method should return a visual component (or container), which will be displayed in the field.</para>
            <para>Example:<programlisting language="java">@Inject
protected FieldGroup fieldGroup;

@Inject
protected ComponentsFactory componentsFactory;

@Override
public void init(Map&lt;String, Object&gt; params) {
fieldGroup.addCustomField(&quot;password&quot;, new FieldGroup.CustomFieldGenerator() {
    @Override
    public Component generateField(Datasource datasource, String propertyId) {
        PasswordField passwordField = componentsFactory.createComponent(PasswordField.NAME);
        passwordField.setDatasource(datasource, propertyId);
        return passwordField;
    }
});
}</programlisting></para>
          </listitem>
          <listitem>
            <para><code>getFieldComponent()</code> returns a visual component, which is located in a field with the specified identifier. This may be required for additional component parameterization, which is not available through XML attributes of  <code>field</code> described above.</para>
            <para>To obtain a reference to a field component in a screen controller, you can use <link linkend="screen_controller_injection">injection</link> instead of the explicit invocation of <code>getFieldComponent()</code>. To do this, use the  <code>@Named</code> annotation with the indication of an identifier of  <code>fieldGroup</code> and a field identifier after a dot. </para>
            <para>For example, in the field to select a related entity, you can add an action to open an instance and remove the field cleaning action as follows:<programlisting language="xml">&lt;fieldGroup id=&quot;orderFieldGroup&quot; datasource=&quot;orderDs&quot;&gt;
&lt;field id=&quot;date&quot;/&gt;
&lt;field id=&quot;customer&quot;/&gt;
&lt;field id=&quot;amount&quot;/&gt;
&lt;/fieldGroup&gt;</programlisting><programlisting language="java">@Named(&quot;orderFieldGroup.customer&quot;)
protected PickerField customerField;

@Override
public void init(Map&lt;String, Object&gt; params) {
customerField.addOpenAction();
customerField.removeAction(customerField.getAction(PickerField.ClearAction.NAME));
}</programlisting></para>
            <para>To use  <code>getFieldComponent()</code> or to inject field components, you need to know which component type is located in the field. The table below shows the matching of entity attribute types and components created for them:<informaltable frame="all">
                <tgroup cols="3">
                  <colspec colnum="1" colname="c1" align="left"/>
                  <colspec colnum="2" colname="c2" align="left"/>
                  <colspec colnum="3" colname="c3" align="left"/>
                  <thead>
                    <row>
                      <entry>Entity attribute type</entry>
                      <entry>Additional conditions</entry>
                      <entry>Field component type</entry>
                    </row>
                  </thead>
                  <tbody>
                    <row>
                      <entry morerows="1">Related Entity</entry>
                      <entry><code>optionsDatasource</code> is specified</entry>
                      <entry>
                        <link linkend="gui_LookupPickerField">LookupPickerField</link>
                      </entry>
                    </row>
                    <row>
                      <entry/>
                      <entry>
                        <link linkend="gui_PickerField">PickerField</link>
                      </entry>
                    </row>
                    <row>
                      <entry>Enumeration (<code>enum</code>)</entry>
                      <entry/>
                      <entry>
                        <link linkend="gui_LookupField">LookupField</link>
                      </entry>
                    </row>
                    <row>
                      <entry morerows="2">
                        <code>string</code>
                      </entry>
                      <entry><code>mask</code> is specified</entry>
                      <entry>
                        <link linkend="gui_MaskedField">MaskedField</link>
                      </entry>
                    </row>
                    <row>
                      <entry><code>rows</code> is specified</entry>
                      <entry>
                        <link linkend="gui_TextArea">TextArea</link>
                      </entry>
                    </row>
                    <row>
                      <entry/>
                      <entry>
                        <link linkend="gui_TextField">TextField</link>
                      </entry>
                    </row>
                    <row>
                      <entry>
                        <code>boolean</code>
                      </entry>
                      <entry/>
                      <entry>
                        <link linkend="gui_CheckBox">CheckBox</link>
                      </entry>
                    </row>
                    <row>
                      <entry><code>date</code>, <code>dateTime</code></entry>
                      <entry/>
                      <entry>
                        <link linkend="gui_DateField">DateField</link>
                      </entry>
                    </row>
                    <row>
                      <entry>
                        <code>time</code>
                      </entry>
                      <entry/>
                      <entry>
                        <link linkend="gui_TimeField">TimeField</link>
                      </entry>
                    </row>
                    <row>
                      <entry><code>int</code>, <code>long</code>, <code>double</code>, <code>decimal</code></entry>
                      <entry/>
                      <entry>
                        <link linkend="gui_TextField">TextField</link>
                      </entry>
                    </row>
                  </tbody>
                </tgroup>
              </informaltable></para>
          </listitem>
        </itemizedlist></para>
      <para>All <sgmltag>fieldGroup</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="3" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_fieldGroup_border">border</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para>All <code>field</code> attributes:</para>
        <informaltable frame="none" pgwide="0" align="left">
            <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
                <row><entry align="left">
                    <link linkend="gui_attr_fieldGroup_field_caption">caption</link>
                </entry>editable<entry align="left">
                    <link linkend="gui_attr_basic_description">description</link>
                </entry><entry>
                    <link linkend="gui_attr_fieldGroup_linkScreen">linkScreen</link>
                </entry><entry>
                    <link linkend="gui_attr_dateField_resolution">resolution</link>
                </entry></row>
                <row>
                    <entry>
                        <link linkend="gui_attr_basic_captionProperty">captionProperty</link>
                    </entry>
                    <entry align="left">
                        <link linkend="gui_attr_basic_editable">editable</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_fieldGroup_linkScreenOpenType">linkScreenOpenType</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_fieldGroup_field_rows">rows</link>
                    </entry>
                </row>
                <row>
                    <entry align="left">
                        <link linkend="gui_attr_textArea_cols_rows">cols</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_basic_enable">enable</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_textField_maxLength">maxLength</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_timeField_showSeconds">showSeconds</link>
                    </entry>
                </row>
                <row>
                    <entry align="left">
                        <link linkend="gui_attr_fieldGroup_field_custom">custom</link>
                    </entry>
                    <entry align="left">
                        <link linkend="gui_attr_fieldGroup_field_id">id</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_basic_visible">visible</link>
                    </entry>
                </row>
                <row>
                    <entry align="left">
                        <link linkend="gui_attr_dateField_dateFormat">dateFormat</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_fieldGroup_link">link</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_basic_required">required</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_basic_width">width</link>
                    </entry>
                </row>
                <row>
                    <entry align="left">
                        <link linkend="gui_attr_fieldGroup_field_datasource">datasource</link>
                    </entry>
                    <entry align="left">
                        <link linkend="gui_attr_fieldGroup_linkInvoke">linkInvoke</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link>
                    </entry>
                </row>
            </tbody></tgroup>
        </informaltable>
      <para><code>field</code> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry>
                <link linkend="gui_validator">validator</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para><code>column</code> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left"><colspec colname="c1"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_fieldGroup_flex">flex</link>
              </entry>editable</row>
            <row>
              <entry>
                <link linkend="gui_attr_fieldGroup_width">width</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_FileMultiUploadField"><title>FileMultiUploadField</title><para>The  <code>FileMultiUploadField</code> component allows a user to upload files to a server. The component is a button; when it is clicked, the screen will show a standard OS file picker window where you can select multiple files for upload.</para><mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_multipleUpload.png"/>
        </imageobject>
      </mediaobject><para>XML name of the component: <sgmltag>multiUpload</sgmltag>.</para><mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_FileMultiUploadField_dia.png"/>
        </imageobject>
      </mediaobject><para>The component is implemented for  <structname>Web Client</structname> and <structname>Desktop Client</structname>. For the operation of component web version, a browser should support the  <productname>Flash</productname> technology.</para>Below is an example of using the component.<itemizedlist>
        <listitem>
          <para>Declare the component in an XML screen descriptor:<programlisting language="xml">&lt;multiUpload id=&quot;multiUploadField&quot; caption=&quot;msg://upload&quot;/&gt;</programlisting></para>
        </listitem>
        <listitem>
          <para>In the screen controller, inject the component itself, and the <link linkend="file_upload">FileUploadingAPI</link> and  <link linkend="dataSupplier">DataSupplier</link> interfaces. Then, in <code>init()</code> add a listener to the component, which will react to successful upload events or errors:<programlisting language="java">@Inject
protected FileMultiUploadField multiUploadField;

@Inject
protected FileUploadingAPI fileUploading;

@Inject
protected DataSupplier dataSupplier;

@Override
public void init(Map&lt;String, Object&gt; params) {
multiUploadField.addListener(new FileMultiUploadField.UploadListener() {
    @Override
    public void queueUploadComplete() {
        Map&lt;UUID, String&gt; uploadMap = multiUploadField.getUploadsMap();
        for (Map.Entry&lt;UUID, String&gt; entry : uploadMap.entrySet()) {
            UUID fileId = entry.getKey();
            String fileName = entry.getValue();
            FileDescriptor fd = fileUploading.getFileDescriptor(fileId, fileName);
            // save file to FileStorage
            try {
                fileUploading.putFileIntoStorage(fileId, fd);
            } catch (FileStorageException e) {
                new RuntimeException(e);
            }
            // save file descriptor to database
            dataSupplier.commit(fd, null);
        }
        multiUploadField.getUploadsMap().clear();
    }
});
}</programlisting></para>
          <para>The component will invoke  <code>queueUploadComplete()</code> after uploading all selected files to a temporary storage of the client  <link linkend="app_tiers">tier</link>. At this point, by invoking <code>getUploadsMap()</code> you can get a map of temporary storage file identifiers to file names. Then, for each file, a corresponding <code>FileDescriptor</code> object is created based on this data. <code>com.haulmont.cuba.core.entity.FileDescriptor</code> (do not confuse with <code>java.io.FileDescriptor</code>) is a persistent entity, which uniquely identifies an uploaded file and then is used to download the file from the system.</para>
          <para><code>FileUploadingAPI.putFileIntoStorage()</code> is used to move the uploaded file from the temporary client storage to <link linkend="file_storage">FileStorage</link>. Parameters of this method are temporary storage file identifier and the  <code>FileDescriptor</code> object. </para>
          <para>After uploading the file to  <code>FileStorage</code>, the  <code>FileDescriptor</code> instance is saved in a database by invoking <code>DataSupplier.commit()</code>. The saved instance returned by this method can be set to an attribute of an entity related to this file. In this case,  <code>FileDescriptor</code> is simply stored in the database and gives access to the file through the <guimenu>Administration</guimenu> -&gt; <guimenu>External Files</guimenu> screen.</para>
          <para>After processing, the list of files should be cleared via the <code>clearUploads()</code> method  in order to prepare for further uploads. </para>
        </listitem>
        <listitem>
          <para>Maximum upload size is determined by the  <link linkend="cuba.client.maxUploadSizeMb">cuba.client.maxUploadSizeMb</link> application property and is equal to 20Mb by default. If a user selects a file of a larger size, a corresponding message will be displayed and the upload will be interrupted.</para>
        </listitem>
      </itemizedlist><para><sgmltag>multiUpload</sgmltag> attributes:</para><informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="3" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable></section>
    <section id="gui_FileUploadField"><title>FileUploadField</title><para>The  <code>FileUploadField</code> component allows a user to upload files to a server. The component is a button; when it is clicked, the screen will show a standard OS file picker window where you can select one file. To allow a user to upload multiple files, use <link linkend="gui_FileMultiUploadField">FileMultiUploadField</link>.</para><mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_upload.png"/>
        </imageobject>
      </mediaobject><para>XML name of the component:  <sgmltag>upload</sgmltag>.</para><mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_FileUploadField_dia.png"/>
        </imageobject>
      </mediaobject><para>The component is implemented for  <structname>Web Client</structname> and  <structname>Desktop Client</structname>. </para>Below is an example of using the component.<itemizedlist>
        <listitem>
          <para>Declare the component in an XML screen descriptor:<programlisting language="xml">&lt;upload id=&quot;uploadField&quot; caption=&quot;msg://upload&quot;/&gt;</programlisting></para>
        </listitem>
        <listitem>
          <para>In the screen controller, inject the component itself, and the  <link linkend="file_upload">FileUploadingAPI</link> and  <link linkend="dataSupplier">DataSupplier</link> interfaces. Then, in  <code>init()</code> add a listener to the component, which will react on successful upload events or errors:<programlisting language="java">@Inject
protected FileUploadField uploadField;

@Inject
protected FileUploadingAPI fileUploading;

@Inject
protected DataSupplier dataSupplier;

@Override
public void init(Map&lt;String, Object&gt; params) {
uploadField.addListener(new FileUploadField.ListenerAdapter() {
    @Override
    public void uploadSucceeded(Event event) {
        FileDescriptor fd = uploadField.getFileDescriptor();
        try {
            // save file to FileStorage
            fileUploading.putFileIntoStorage(uploadField.getFileId(), fd);
        } catch (FileStorageException e) {
            throw new RuntimeException(e);
        }
        // save file descriptor to database
        dataSupplier.commit(fd, null);

        showNotification(&quot;File uploaded: &quot; + uploadField.getFileName(), NotificationType.HUMANIZED);
    }

    @Override
    public void uploadFailed(Event event) {
        showNotification(&quot;File upload error&quot;, NotificationType.HUMANIZED);
    }
});
}</programlisting></para>
          <para>The component will invoke <code>uploadSucceeded()</code> after uploading the file to a temporary storage of the client  <link linkend="app_tiers">tier</link>. At this point, you can get component’s <code>FileDescriptor</code> object, which corresponds to the uploaded file.  <code>com.haulmont.cuba.core.entity.FileDescriptor</code> (do not confuse with  <code>java.io.FileDescriptor</code>) is a persistent entity, which uniquely identifies an uploaded file and then is used to download the file from the system.</para>
          <para><code>FileUploadingAPI.putFileIntoStorage()</code> method is used to move the uploaded file from the temporary client level storage to  <link linkend="file_storage">FileStorage</link>. Parameters of this method are temporary storage file identifier and the  <code>FileDescriptor</code> object. Both of these parameters are provided by  <code>FileUploadField</code>.</para>
          <para>After uploading the file to <code>FileStorage</code> the <code>FileDescriptor</code> instance is saved in a database by invoking <code>DataSupplier.commit()</code>. The saved instance returned by this method can be set to an attribute of an entity related to this file. In this case,  <code>FileDescriptor</code> is simply stored in the database and gives access to the file through the  <guimenu>Administration</guimenu> -&gt; <guimenu>External Files</guimenu> screen.</para>
          <para><code>uploadFailed()</code> will be invoked by the  <code>FileUploadField</code> component if an error occurs when uploading a file to the temporary storage of the client level.</para>
        </listitem>
        <listitem>
          <para>Maximum upload size is determined by the <link linkend="cuba.client.maxUploadSizeMb">cuba.client.maxUploadSizeMb</link> application property and is equal to 20Mb by default. If a user selects a file of a larger size, a corresponding message will be displayed and the upload will be interrupted.</para>
        </listitem>
      </itemizedlist><para><sgmltag>upload</sgmltag> attributes:</para><informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="3" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable></section>
    <section id="gui_Filter">
      <title>Filter</title>
      <para>The  <code>Filter</code> is a versatile tool for filtering lists of entities extracted from a database to display in a tabular form. The component enables quick data filtering by arbitrary conditions, as well as creating filters for repeated use.</para>
      <para><code>Filter</code> should be connected to the <link linkend="datasources">collectionDatasource</link> containing a JPQL <link linkend="datasource_query">query</link>. Its logic is based on the modification of this query in accordance with criteria provided by the user. Thus, filtering is done at the database level on the execution of the query translated from JPQL to SQL, and only selected data is loaded to the Middleware and Client <link linkend="app_tiers">tiers</link>.</para>
      <section id="gui_Filter_use">
        <title>Using a Filter</title>
          <para>A typical filter is shown below:</para>
          <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui_filter_descr.png"/>
          </imageobject>
        </mediaobject>
          <para>By default, the component is in quick filter mode. This means that a user can add a set of conditions for a one-off data search. After the screen is closed, the conditions will disappear.</para>
          <para>To create a quick filter, click <guibutton>Add search condition</guibutton> link. The condition selection screen will be displayed:</para>
          <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui_filter_conditions.png"/>
          </imageobject>
        </mediaobject>
          <para>Possible condition types are described below:<itemizedlist>
              <listitem>
                  <para><guilabel>Attributes</guilabel> – attributes of this entity and related entities. Only persistent attributes are displayed. They should also either be explicitly set in the <sgmltag>property</sgmltag> element of the filter XML descriptor, or comply with the rules specified in the <sgmltag>properties</sgmltag> element (see below).</para>
              </listitem>
              <listitem>
                  <para><guilabel>Custom conditions</guilabel> – conditions specified by developer in the <code>custom</code> elements of the filter XML descriptor.</para>
              </listitem>
              <listitem>
                  <para><guilabel>Create new...</guilabel> – allows creating a new arbitrary JPQL condition. This option is only available to users having the specific <code>cuba.gui.filter.customConditions</code> <link linkend="permissions">permission</link>.</para>
              </listitem>
          </itemizedlist></para>
          <para>Selected conditions are displayed at the top of the filter panel. The <inlinemediaobject><imageobject><imagedata fileref="img/gui_filter_remove_condition.png"/></imageobject></inlinemediaobject> icon will appear next to each condition field, allowing them to be removed from the set.</para>
          <para>Quick filters can be saved for further re-use. In order to save a quick filter, click the filter settings icon, select <guibutton>Save/Save as</guibutton> and provide a new filter name in the popup dialog:</para>
          <mediaobject>
              <imageobject>
                  <imagedata align="center" fileref="img/gui_filter_name.png"/>
              </imageobject>
          </mediaobject>
          <para>After that, the filter will be saved and will appear in the drop-down menu of the <guibutton>Search</guibutton> button.</para>
          <mediaobject>
              <imageobject>
                  <imagedata align="center" fileref="img/gui_filter_reset.png"/>
              </imageobject>
          </mediaobject>
          <para>The filter settings popup button provides the list of options for filter management:</para>
          <itemizedlist>
          <listitem><para><guimenuitem>Save</guimenuitem> – save changes to the current filter.</para></listitem>
          <listitem><para><guimenuitem>Save as</guimenuitem> – save the filter under a new name.</para></listitem>
          <listitem><para><guimenuitem>Edit</guimenuitem> – open the filter editor (see below).</para></listitem>
          <listitem><para><guimenuitem>Make default</guimenuitem> – make the filter default for this screen. The filter will be automatically displayed on the filter panel when the screen is opened.</para></listitem>
          <listitem><para><guimenuitem>Remove</guimenuitem> – delete the current filter.</para></listitem>
          <listitem><para><guimenuitem>Pin applied</guimenuitem> – use the results of the last search for sequential data filtering (see <xref linkend="sequential_filter"/>).</para></listitem>
          <listitem><para><guimenuitem>Save as search folder</guimenuitem> – create a <link linkend="search_folder">search folder</link> based on the current filter.</para></listitem>
          <listitem><para><guimenuitem>Save as application folder</guimenuitem> – create an <link linkend="search_folder">application folder</link> based on the current filter. This option is available to users having the specific <code>cuba.gui.appFolder.global</code> permission only.</para></listitem>
          </itemizedlist>
          <para>The <guimenuitem>Edit</guimenuitem> option opens the filter editor, allowing advanced configuration of the current filter:</para>
          <mediaobject>
              <imageobject>
                  <imagedata align="center" fileref="img/gui_filter_editor.png"/>
              </imageobject>
          </mediaobject>
          <para>Filter name should be provided in the <guilabel>Name</guilabel> field. This name will be displayed in available filters list for the current screen.</para>
          <para>Filter can be made <firstterm>global</firstterm> (i.e., available for all users) using the <guilabel>Available to all users</guilabel> checkbox, or default using the <guilabel>Default</guilabel> checkbox.</para>
          <para>The filter conditions are contained in the tree. They can be added using the <guibutton>Add</guibutton> button, swapped using <inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/gui_filter_cond_down.png"/>
            </imageobject>
          </inlinemediaobject>/<inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/gui_filter_cond_up.png"/>
            </imageobject>
          </inlinemediaobject> or removed using the <guibutton>Remove</guibutton> button.</para>
          <para>AND or OR grouping conditions can be added with the help of the corresponding buttons. All top level conditions (i.e., without explicit grouping) are joined with AND.</para>
          <para>Selecting a condition in the tree opens the list of its properties in the right part of the editor.</para>
          <para>The conditions can be made hidden or required by means of corresponding checkboxes. The hidden condition parameter is invisible to the user, so it should be provided when the filter is being edited.</para>
          <para><guilabel>Width</guilabel> property allows selecting the width of the parameter field on the filter panel for the current condition. By default, conditions on the filter panel are displayed in three columns. The field width equals to the number of columns it will occupy (1, 2 or 3).</para>
          <para>Default parameter value for the current condition can be selected in the <guilabel>Default value</guilabel> field.</para>
          <para>A custom caption for filter condition can be provided in the <guilabel>Caption</guilabel> field.</para>
          <para><guilabel>Operation</guilabel> field allows selecting the condition operator. The list of available operators depends on the attribute type.</para>
          <warning>
              <para>If filter has not been previously saved, clicking <guilabel>OK</guilabel> in the filter editor saves the changes to the filter only for the current search. In order to keep them for further use, click the
                  <guibutton>Options</guibutton>
                  button and <guilabel>Save/Save as</guilabel>. Otherwise, all changes will disappear once the screen is closed.</para>
          </warning>
      </section>
      <section id="gui_Filter_component">
        <title>Filter Component</title>
        <para>XML name of the component:  <sgmltag>filter</sgmltag>.</para>
        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui_filter_dia.png"/>
          </imageobject>
        </mediaobject>
        <para>The component is implemented for <structname>Web Client</structname> and <structname>Desktop Client</structname>.</para>
        <para>An example of component declaration in XML screen descriptor is shown below:<programlisting language="xml">&lt;dsContext&gt;
&lt;collectionDatasource id=&quot;carsDs&quot; class=&quot;com.company.sample.entity.Car&quot; view=&quot;carBrowse&quot;&gt;
    &lt;query&gt;
        select c from ref$Car c order by c.createTs
    &lt;/query&gt;
&lt;/collectionDatasource&gt;
&lt;/dsContext&gt;
&lt;layout spacing=&quot;true&quot;&gt;

&lt;filter id=&quot;carsFilter&quot; datasource=&quot;carsDs&quot;&gt;
    &lt;properties include=&quot;.*&quot;/&gt;
&lt;/filter&gt;

&lt;table id=&quot;carsTable&quot; width=&quot;100%&quot;&gt;
    &lt;buttonsPanel&gt;
        &lt;button action=&quot;carsTable.create&quot;/&gt;
        &lt;button action=&quot;carsTable.edit&quot;/&gt;
        &lt;button action=&quot;carsTable.remove&quot;/&gt;
    &lt;/buttonsPanel&gt;
    &lt;rowsCount/&gt;
    &lt;columns&gt;
        &lt;column id=&quot;vin&quot;/&gt;
        &lt;column id=&quot;model.name&quot;/&gt;
        &lt;column id=&quot;colour.name&quot;/&gt;
    &lt;/columns&gt;
    &lt;rows datasource=&quot;carsDs&quot;/&gt;
&lt;/table&gt;</programlisting></para>
        <para>In the example above, a <code>collectionDatasource</code> is defined in the <code>dsContext</code>. The datasource selects <code>Car</code> entity instances using JPQL query. The datasource which is to be filtered is specified in the <code>filter</code> component’s <code>datasource</code> attribute. Data is displayed using the <link linkend="gui_Table">Table</link> component, which is connected to the same data source.</para>
        <para><sgmltag>filter</sgmltag> may contain nested elements. They describe conditions available for user selection in <guibutton>Add Condition</guibutton> dialog:
<itemizedlist>
            <listitem id="gui_element_filter_properties">
              <para><code>properties</code> – multiple entity attributes can be made available for selection. This element has the following attributes:<itemizedlist>
                  <listitem id="gui_attr_filter_include">
                    <para><code>include</code> – required attribute. It contains a regular expression, which should match an entity attribute name.</para>
                  </listitem>
                  <listitem id="gui_attr_filter_exclude">
                    <para><code>exclude</code> – contains a regular expression. If an attribute matches the expression, it will be excluded from previously included (using <code>include</code>).</para>
                  </listitem>
                </itemizedlist></para>
              <para>Example:<programlisting language="xml">&lt;filter id=&quot;transactionsFilter&quot; datasource=&quot;transactionsDs&quot;&gt;
&lt;properties include=&quot;.*&quot; exclude=&quot;(masterTransaction)|(authCode)&quot;/&gt;
&lt;/filter&gt;</programlisting></para>
              <para>The following entity attributes are ignored when <code>properties</code> element is used:<itemizedlist>
                  <listitem>
                    <para>Collections (<code>@OneToMany</code>, <code>@ManyToMany</code>).</para>
                  </listitem>
                  <listitem>
                    <para>Attributes which do not have <link linkend="entity_localization">localized names</link>.</para>
                  </listitem>
                  <listitem>
                    <para>The <code>version</code> attribute.</para>
                  </listitem>
                </itemizedlist></para>
            </listitem>
            <listitem id="gui_element_filter_property">
              <para><code>property</code> – explicitly includes an entity attribute by name. This element has the following attributes:<itemizedlist>
                  <listitem id="gui_attr_filter_name">
                    <para><code>name</code> – rrequired attribute, containing the name of entity attribute to be included. It can be a path (using ".") in the entity graph. For example:<programlisting language="xml">&lt;filter id=&quot;transactionsFilter&quot; datasource=&quot;transactionDs&quot; applyTo=&quot;table&quot;&gt;
&lt;properties include=&quot;.*&quot; exclude=&quot;(masterTransaction)|(authCode)&quot;/&gt;
&lt;property name=&quot;creditCard.maskedPan&quot; caption=&quot;msg://EmbeddedCreditCard.maskedPan&quot;/&gt;
&lt;property name=&quot;creditCard.startDate&quot; caption=&quot;msg://EmbeddedCreditCard.startDate&quot;/&gt;
&lt;/filter&gt;</programlisting></para>
                  </listitem>
                  <listitem id="gui_attr_filter_caption">
                    <para><code>caption</code> – localized entity attribute name displayed in filter conditions. Generally it is a string with the <code>msg://</code> prefix in accordance with <link linkend="messageTools.loadString">MessageTools.loadString</link>() rules. </para>
                    <para>If the <code>name</code> attribute is specified as an entity graph path (using ".") , the <code>caption</code> attribute is required.</para>
                  </listitem>
                  <listitem>
                    <para id="gui_attr_filter_paramWhere"><sgmltag>paramWhere</sgmltag> − specifies the JPQL expression which is used to select the list of condition parameter values if the parameter is a related entity. The <code>{E}</code> placeholder should be used in the expression instead of the alias of the entity being selected.</para>
                    <para>For example, let us assume that a related <code>Model</code> entity condition is added for the <code>Car</code> entity. entity. Then possible condition parameter values list can be limited to <userinput>Audi</userinput> models only:<programlisting language="xml">&lt;filter id=&quot;carsFilter&quot; datasource=&quot;carsDs&quot;&gt;
&lt;property name=&quot;model&quot; paramWhere=&quot;{E}.manufacturer = &apos;Audi&apos;&quot;/&gt;
&lt;/filter&gt;</programlisting><mediaobject>
                        <imageobject>
                          <imagedata align="center" fileref="img/gui_filter_paramWhere.png"/>
                        </imageobject>
                      </mediaobject></para>
                    <para>Screen parameters, session attributes and screen components including those showing other parameters can be used in JPQL expression. Query parameters specification rules are described in <xref linkend="datasource_query"/>. </para>
                    <para>An example of session and screen parameters usage is shown below:<programlisting>{E}.createdBy = :session$userLogin and {E}.name like :param$groupName</programlisting></para>
                    <para>An example of using another filter condition parameter value is shown below:<programlisting>{E}.proc.id = :component$cardsFilter.proc68779</programlisting></para>
                    <para>You can see the name of the component showing condition parameter by opening context menu on a condition table row in the filter editor:</para>
                    <mediaobject>
                      <imageobject>
                        <imagedata align="center" fileref="img/gui_filter_component_name.png"/>
                      </imageobject>
                    </mediaobject>
                  </listitem>
                  <listitem>
                    <para id="gui_attr_filter_paramView"><sgmltag>paramView</sgmltag> − specifies a <link linkend="views">view</link>, which will be used to load the list of condition parameter values if the parameter is a related entity. For example, <literal>_local</literal>. If view is not specified, <code>_minimal</code> view will be used.</para>
                  </listitem>
                </itemizedlist></para>
            </listitem>
            <listitem id="gui_element_filter_custom">
              <para><code>custom</code> – the element defining an arbitrary condition. The element content should be a JPQL expression (<link linkend="jpql_macro">JPQL Macros</link> can be used), which will be added to the data source query's <code>where</code> The condition can only have one parameter denoted by "?" if used.</para>
              <para>An example of a filter with arbitrary conditions is shown below:<programlisting language="xml">&lt;filter id=&quot;carsFilter&quot; datasource=&quot;carsDs&quot;&gt;
&lt;properties include=&quot;.*&quot;/&gt;
&lt;custom name=&quot;vin&quot; paramClass=&quot;java.lang.String&quot; caption=&quot;msg://vin&quot;&gt;
  {E}.vin like ?
&lt;/custom&gt;
&lt;custom name=&quot;colour&quot; paramClass=&quot;com.company.sample.entity.Colour&quot; caption=&quot;msg://colour&quot; inExpr=&quot;true&quot;&gt;
  ({E}.colour.id in (?))
&lt;/custom&gt;
&lt;custom name=&quot;repair&quot; paramClass=&quot;java.lang.String&quot; caption=&quot;msg://repair&quot;
       join=&quot;join {E}.repairs cr&quot;&gt;
  cr.description like ?
&lt;/custom&gt;
&lt;custom name=&quot;updateTs&quot; caption=&quot;msg://updateTs&quot;&gt;
  @between({E}.updateTs, now-1, now+1, day)
&lt;/custom&gt;
&lt;/filter&gt;</programlisting></para>
              <para><code>custom</code> conditions are displayed in the <guilabel>Custom conditions</guilabel> section of the <guibutton>Add condition</guibutton> dialog:<mediaobject>
                  <imageobject>
                    <imagedata align="center" fileref="img/gui_filter_custom.png"/>
                  </imageobject>
                </mediaobject></para>
              <para><sgmltag>custom</sgmltag> attributes:</para>
              <itemizedlist>
                <listitem>
                  <para id="gui_attr_filter_custom_name"><sgmltag>name</sgmltag> −  required attribute, condition name.</para>
                </listitem>
                <listitem>
                  <para id="gui_attr_filter_custom_caption"><sgmltag>caption</sgmltag> − required attribute, localized condition name. Generally it is a string with the <code>msg://</code> prefix in accordance with <link linkend="messageTools.loadString">MessageTools.loadString()</link> rules.</para>
                </listitem>
                <listitem>
                  <para id="gui_attr_filter_custom_paramClass"><sgmltag>paramClass</sgmltag>  − Java class of the condition parameter. If the parameter is not specified, this attribute is optional.</para>
                </listitem>
                <listitem>
                  <para id="gui_attr_filter_custom_inExpr"><sgmltag>inExpr</sgmltag> − should be set to <literal>true</literal>, if the JPQL expression contains <code>in (?)</code> conditions. In this case user will be able to enter several condition parameter values.</para>
                </listitem>
                <listitem>
                  <para id="gui_attr_filter_custom_join"><sgmltag>join</sgmltag> − optional attribute. It specifies a row, which will be added to the data source query <literal>from</literal> section. This can be required to create a complex condition based on an attribute of a related collection. <code>join</code> or <code>left join</code> statements should be included into the attribute value. </para>
                  <para>For example, let us assume that the <code>Car</code> entity has a <code>repairs</code> attribute, which is a related entity <code>Repair</code> instances collection. Then the following condition can be created to filter  <code>Car</code> by <code>Repair</code> entity's <code>description</code> attribute:<programlisting language="xml">&lt;filter id=&quot;carsFilter&quot; datasource=&quot;carsDs&quot;&gt;
&lt;custom name=&quot;repair&quot;
        caption=&quot;msg://repair&quot;
        paramClass=&quot;java.lang.String&quot;
        join=&quot;join {E}.repairs cr&quot;&gt;
  cr.description like ?
&lt;/custom&gt;</programlisting></para>
                  <para>If the condition above is used, the original data source query <programlisting>select c from sample$Car c order by c.createTs</programlisting>will be transformed into the following one:<programlisting>select c from sample$Car c join c.repairs cr
where (cr.description like :component_carsFilter_YpzKVsCpmF64816 )
order by c.createTs</programlisting></para>
                </listitem>
                <listitem>
                  <para><sgmltag>paramWhere</sgmltag> − specifies a JPQL expression used to select the list of condition parameter values if the parameter is a related entity. See the description of the <code>property</code> element's attribute of the same name.</para>
                </listitem>
                <listitem>
                  <para><sgmltag>paramView</sgmltag> − specifies a  <link linkend="views">view</link>, which will be used when a list of condition parameter values are loaded if the parameter is a related entity. For example, <literal>_local</literal>. If it is not specified, <code>_minimal</code> view will be used.</para>
                </listitem>
              </itemizedlist>
            </listitem>
          </itemizedlist></para>
        <para><code>filter</code> attributes:<itemizedlist>
            <listitem>
              <para id="gui_attr_filter_editable"><code>editable</code> – if the attribute value is  <literal>false</literal>, the <guibutton>Edit</guibutton> option is disabled.</para>
            </listitem>
            <listitem>
              <para id="gui_attr_filter_required"><code>required</code> – if the attribute value is <literal>true</literal>, user should select one of available filters. If no default filter is set for the screen, the first created filter will be automatically selected in the filter list.</para>
            </listitem>
            <listitem>
              <para id="gui_attr_filter_manualApplyRequired"><sgmltag>manualApplyRequired</sgmltag> − defines when the filter will be applied. If the attribute value is <literal>false</literal>, the filter will be applied when the screen is opened. If the value is  <literal>true</literal>, the filter will be applied only after the <guibutton>Apply</guibutton> button is clicked. This attribute takes precedence over the <link linkend="cuba.gui.genericFilterManualApplyRequired">cuba.gui.genericFilterManualApplyRequired</link> application property.</para>
            </listitem>
            <listitem id="gui_attr_filter_useMaxResults">
              <para><code>useMaxResults</code>  − limits the page size of entity instances loaded into the data source. It is set to <code>true</code> by default.</para>
              <para>If the attribute value is <literal>false</literal>, the filter will not show the <guilabel>Show rows</guilabel> field. The number of records in the data source (and displayed in the table accordingly) will be limited only by the <code>MaxFetchUI</code> parameter of the <link linkend="entity_statistics">entity statistics</link>, which is set to 10000 by default.</para>
              <para>If the attribute is not specified or is <code>true</code>, the <guilabel>Show rows</guilabel> field will be displayed only if the user has specific <code>cuba.gui.filter.maxResults</code> <link linkend="permissions">permission</link>. If the <code>cuba.gui.filter.maxResults</code> permission is not granted, the filter will force selecting only the first N rows without user to be able to disable it or specify another N. N is defined by <literal>FetchUI</literal>, <literal>DefaultFetchUI</literal> parameters. They are obtained from the <link linkend="entity_statistics">entity statistics</link> mechanism.
            </para>
              <para>A filter shown below has the following parameters: <code>useMaxResults=&quot;true&quot;</code>, specific permission is denied, and <code>cuba.gui.filter.maxResults</code>  <code>DefaultFetchUI = 2.</code></para>
              <mediaobject>
                <imageobject>
                  <imagedata align="center" fileref="img/gui_filter_useMaxRezult.png"/>
                </imageobject>
              </mediaobject>
            </listitem>
            <listitem>
              <para id="gui_attr_filter_folderActionsEnabled"><sgmltag>folderActionsEnabled</sgmltag> − if it is set to <code>false</code>, the following filter actions will be hidden: <guilabel>Save as Search Folder</guilabel>, <guilabel>Save as Application Folder</guilabel>. By default, the attribute value is <code>true</code>, and <guilabel>Save as Search Folder</guilabel>, <guilabel>Save as Application Folder</guilabel> are available.</para>
            </listitem>
            <listitem>
              <para id="gui_attr_filter_applyTo"><sgmltag>applyTo</sgmltag> − optional attribute, contains the identifier of a component associated with the filter. It is used when access to related component views is required. For example, when saving the filter as a <link linkend="search_folder">search folder</link> or as an  <link linkend="application_folder">application folder</link>, the view that will be applied when browsing this folder can be specified.</para>
              <mediaobject>
                <imageobject>
                  <imagedata align="center" fileref="img/gui_filter_apply_to.png"/>
                </imageobject>
              </mediaobject>
            </listitem>
            <listitem>
                <para id="gui_attr_filter_panel_caption"><sgmltag>caption</sgmltag> - allows setting a custom caption for the filter panel.</para>
            </listitem>
            <listitem>
                <para id="gui_attr_filter_columnsQty"><sgmltag>columnsQty</sgmltag> - defines the number of columns for conditions on the filter panel. Default value is 3.</para>
            </listitem>
          </itemizedlist></para>
        <para>All <sgmltag>filter</sgmltag> attributes:</para>
        <informaltable frame="none" pgwide="0" align="left">
          <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
              <row><entry align="left">
                  <link linkend="gui_attr_filter_applyTo">applyTo</link>
              </entry><entry>
                  <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry><entry align="left">
                  <link linkend="gui_attr_filter_folderActionsEnabled">folderActionsEnabled</link>
              </entry><entry>
                  <link linkend="gui_attr_basic_margin">margin</link>
              </entry>
              </row>
              <row>
                  <entry>
                      <link linkend="gui_attr_filter_panel_caption">caption</link>
                  </entry>
                  <entry align="left">
                      <link linkend="gui_attr_basic_editable">editable</link>
                  </entry>
                  <entry align="left">
                      <link linkend="gui_attr_basic_id">id</link>
                  </entry>
                  <entry>
                      <link linkend="gui_attr_filter_required">required</link>
                  </entry>
              </row>
              <row>
                  <entry align="left">
                      <link linkend="gui_attr_filter_columnsQty">columnsQty</link>
                  </entry>
                  <entry align="left">
                      <link linkend="gui_attr_basic_enable">enable</link>
                  </entry>
                  <entry>
                      <link linkend="gui_attr_filter_manualApplyRequired">manualApplyRequired</link>
                  </entry>
                  <entry>
                      <link linkend="gui_attr_basic_stylename">stylename</link>
                  </entry>
              </row>
              <row>
                  <entry>
                      <link linkend="gui_attr_filter_useMaxResults">useMaxResults</link>
                  </entry>
                  <entry>
                      <link linkend="gui_attr_basic_visible">visible</link>
                  </entry>
              </row>
            </tbody></tgroup>
        </informaltable>
        <para><sgmltag>filter</sgmltag> elements:</para>
        <informaltable frame="none" pgwide="0" align="left">
          <tgroup cols="1" colsep="1" rowsep="1" align="left"><colspec colname="c1"/>c <tbody>
              <row><entry align="left">
                  <link linkend="gui_element_filter_custom">custom</link>
                </entry>editable</row>
              <row>
                <entry>
                  <link linkend="gui_element_filter_properties">properties</link>
                </entry>
              </row>
              <row>
                <entry>
                  <link linkend="gui_element_filter_property">property</link>
                </entry>
              </row>
            </tbody></tgroup>
        </informaltable>
        <para><sgmltag>properties</sgmltag> attributes:</para>
        <informaltable frame="none" pgwide="0" align="left">
          <tgroup cols="1" colsep="1" rowsep="1" align="left"><colspec colname="c1"/>c <tbody>
              <row><entry align="left">
                  <link linkend="gui_attr_filter_exclude">exclude</link>
                </entry>editable</row>
              <row>
                <entry>
                  <link linkend="gui_attr_filter_include">include</link>
                </entry>
              </row>
            </tbody></tgroup>
        </informaltable>
        <para><sgmltag>property</sgmltag> attributes:</para>
        <informaltable frame="none" pgwide="0" align="left">
          <tgroup cols="2" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/>c <tbody>
              <row><entry align="left">
                  <link linkend="gui_attr_filter_caption">caption</link>
                </entry>editable<entry align="left">
                  <link linkend="gui_attr_filter_paramView">paramView</link>
                </entry></row>
              <row>
                <entry>
                  <link linkend="gui_attr_filter_name">name</link>
                </entry>
                <entry align="left">
                  <link linkend="gui_attr_filter_paramWhere">paramWhere</link>
                </entry>
              </row>
            </tbody></tgroup>
        </informaltable>
        <para><sgmltag>custom</sgmltag> attributes:</para>
        <informaltable frame="none" pgwide="0" align="left">
          <tgroup cols="3" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/>c <tbody>
              <row><entry align="left">
                  <link linkend="gui_attr_filter_custom_caption">caption</link>
                </entry>editable<entry align="left">
                  <link linkend="gui_attr_filter_custom_name">name</link>
                </entry><entry align="left">
                  <link linkend="gui_attr_filter_paramWhere">paramWhere</link>
                </entry></row>
              <row>
                <entry>
                  <link linkend="gui_attr_filter_custom_inExpr">inExpr</link>
                </entry>
                <entry>
                  <link linkend="gui_attr_filter_custom_paramClass">paramClass</link>
                </entry>
              </row>
              <row>
                <entry align="left">
                  <link linkend="gui_attr_filter_custom_join">join</link>
                </entry>
                <entry align="left">
                  <link linkend="gui_attr_filter_paramView">paramView</link>
                </entry>
              </row>
            </tbody></tgroup>
        </informaltable>
      </section>
      <section id="gui_Filter_permissions">
        <title>User Permissions</title>
        <itemizedlist>
          <listitem>
            <para>o	To create/change/delete global (available to all users) filters, user must have the <property>cuba.gui.filter.global</property> <link linkend="permissions">permission</link>.</para>
          </listitem>
          <listitem>
            <para>To create/change <code>custom</code> conditions user must have a <property>cuba.gui.filter.customConditions</property> permission.</para>
          </listitem>
          <listitem>
            <para>To change the maximum number of rows per table page using the <guilabel>Show rows</guilabel> field, user must have the <property>cuba.gui.filter.maxResults</property> permission. See also the  <link linkend="gui_attr_filter_useMaxResults">useMaxResults</link> filter attribute.</para>
          </listitem>
        </itemizedlist>
        <para>For specific permissions configuration information, see <xref linkend="chapter_security"/>.</para>
      </section>
      <section id="gui_Filter_ext_params">
        <title>External Filter Control Parameters</title>
        <para><emphasis role="bold">System-wide parameters</emphasis></para>
        <para>The following application properties affect filter behavior:</para>
        <itemizedlist>
          <listitem>
            <para><link linkend="cuba.gui.genericFilterManualApplyRequired">cuba.gui.genericFilterManualApplyRequired</link>  − disables automatic applying of the filter (i.e., data loading) when the screen is opened.</para>
          </listitem>
          <listitem>
            <para><link linkend="cuba.gui.genericFilterChecking">cuba.gui.genericFilterChecking</link> − enables the check that at least one condition is filled before applying the filter.</para>
          </listitem>
          <listitem>
            <para><link linkend="cuba.gui.genericFilterControlsLayout">cuba.gui.genericFilterControlsLayout</link> −
              defines an internal layout of the filter controls.</para>
          </listitem>
          <listitem>
            <para><link linkend="cuba.allowQueryFromSelected">cuba.allowQueryFromSelected</link> enables <link linkend="sequential_filter_para">sequential filters application</link> mechanism.</para>
          </listitem>
          <listitem>
            <para><link linkend="cuba.cuba.gui.genericFilterColumnsQty">cuba.gui.genericFilterColumnsQty</link> - sets the default number of columns for placing conditions on the filter panel.</para>
        </listitem>
        <listitem>
            <para><link linkend="cuba.gui.genericFilterConditionsLocation">cuba.gui.genericFilterConditionsLocation</link> - defines the location of the conditions panel.</para>
        </listitem>
        <listitem>
            <para><link linkend="cuba.gui.genericFilterPopupListSize">cuba.gui.genericFilterPopupListSize</link> - defines the maximum number of items displayed in the popup list of the <guibutton>Search</guibutton> button.</para>
        </listitem>
        </itemizedlist>
        <para><emphasis role="bold">Screen invocation parameters </emphasis></para>
        <para>It is possible to specify the filter and parameters which should be applied when the screen is opened. For this purpose, the filter should be created in advance, stored in the database, and a corresponding entry in the <database>SEC_FILTER</database> table should have the <database>CODE</database> field set.</para>
        <para>To specify a filter code, pass to the screen a parameter with the same name as filter component identifier in this screen . Parameter value should be the code of the filter, which should be set and applied.</para>
        <para>To set filter parameter values, passed to the screen parameters with the names equal to parameter names and their values in string format.</para>
        <para>An example of main menu item descriptor is shown below. It sets a filter with the <userinput>FilterByVIN</userinput> code to the <code>carsFilter</code> component of the <code>sample$Car.browse</code> screen which it opens. It also sets <userinput>TMA</userinput> value to the <userinput>$carsFilter.vin79216</userinput> condition:<programlisting language="xml">&lt;item id=&quot;sample$Car.browse&quot;&gt;
&lt;param name=&quot;carsFilter&quot; value=&quot;FilterByVIN&quot;/&gt;
&lt;param name=&quot;component$carsFilter.vin79216&quot; value=&quot;TMA&quot;/&gt;
&lt;/item&gt;</programlisting></para>
        <para>It should be noted that that a filter with a defined <database>CODE</database> field has some specifics:</para>
        <itemizedlist>
          <listitem>
            <para>It cannot be edited by users.</para>
          </listitem>
          <listitem>
            <para>This filter name can be displayed in several languages. To achieve this, specify a string with key equal to the filter code in the application <link linkend="main_message_pack">main message pack</link>.</para>
          </listitem>
        </itemizedlist>
      </section>
      <section id="sequential_filter">
        <title>Applying Filters Sequentially</title>
        <para><emphasis role="bold">Applying Filters Sequentially</emphasis></para>
        <para>If the <link linkend="cuba.allowQueryFromSelected">cuba.allowQueryFromSelected</link> application property is enabled, the last applied filter and the current filtered results can be pinned via the component's user interface. After that another filter or other parameters of the current filter can be selected and applied to the currently selected records.</para>
        <para>This approach helps to achieve two aims:</para>
        <itemizedlist>
          <listitem>
            <para>Decompose complex filters, which may lead to better performance as well.</para>
          </listitem>
          <listitem>
            <para>Apply filters to the records selected using <link linkend="application_folder">application</link> or <link linkend="search_folder">search</link> folders.</para>
          </listitem>
        </itemizedlist>
        <para>Take the following steps to use sequential filters. First, choose and apply one of the filters. Next click the filter settings button and select <guibutton>Pin applied</guibutton>. The filter will be pinned at the top of the filter panel. Then another filter can be applied to the selected records and so on. Any number of filters can be applied sequentially. Filters can also be removed using <inlinemediaobject>
            <imageobject>
              <imagedata fileref="img/gui_filter_remove.png"/>
            </imageobject>
          </inlinemediaobject>.</para>
        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui_filter_sequential.png"/>
          </imageobject>
        </mediaobject>
        <para>The sequential filters implementation is based on the ability of <link linkend="dataManager">DataManager</link> to run <link linkend="query_from_selected">sequential queries</link>.</para>
      </section>
    </section>
    <section id="gui_GroupTable">
      <title>GroupTable</title>
      <para> <code>GroupTable</code> component is a table with an ability to group information dynamically by any field. In order to group a table by a column the required column should be dragged to the left and dropped on the   <inlinemediaobject>
          <imageobject>
            <imagedata fileref="img/gui_groupTableIcon.png"/>
          </imageobject>
        </inlinemediaobject> element of the table header. Grouped values can be expanded and collapsed using   <inlinemediaobject>
          <imageobject>
            <imagedata fileref="img/gui_groupBox_plus.png"/>
          </imageobject>
        </inlinemediaobject>/<inlinemediaobject>
          <imageobject>
            <imagedata fileref="img/gui_groupBox_minus.png"/>
          </imageobject>
        </inlinemediaobject>.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_groupTableDragColumn.png"/>
        </imageobject>
      </mediaobject>
      <para>XML name of the component: <sgmltag>groupTable</sgmltag>.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_GroupTable_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>Component is implemented only for <structname>Web Client</structname>. In <structname>Desktop Client</structname> it behaves like a regular table.</para>
      <para><link linkend="datasources">groupDatasource</link> must be specified for <code>GroupTable</code> in the  <code>datasource</code> attribute of the <code>rows</code> element. Otherwise, grouping will not work. Example:</para>
      <para><programlisting language="xml">&lt;dsContext&gt;
&lt;groupDatasource id=&quot;ordersDs&quot; class=&quot;com.sample.sales.entity.Order&quot;
                view=&quot;orderWithCustomer&quot;&gt;
   &lt;query&gt;
       select o from sales$Order o order by o.date
   &lt;/query&gt;
&lt;/groupDatasource&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;groupTable id=&quot;ordersTable&quot; width=&quot;100%&quot;&gt;
    &lt;columns&gt;
        &lt;group&gt;
            &lt;column id=&quot;date&quot;/&gt;
        &lt;/group&gt;
        &lt;column id=&quot;customer.name&quot;/&gt;
        &lt;column id=&quot;amount&quot;/&gt;
    &lt;/columns&gt;
    &lt;rows datasource=&quot;ordersDs&quot;/&gt;
&lt;/groupTable&gt;</programlisting></para>
      <para id="gui_element_groupTable_group"><sgmltag>group</sgmltag> is an optional element that can be present in a single instance inside  <link linkend="gui_element_table_columns">columns</link>. It contains a set of <code>column</code> elements, by which grouping will be performed initially when opening a screen.</para>
      <para>If <code>aggregatable</code> attribute is <code>true</code>, the table shows aggregation results for each group and results for all rows in an additional row on the top. If <code>showTotalAggregation</code> attribute is <code>false</code>, results for all rows are not shown.</para>
      <para>The rest of the  <code>GroupTable</code> functionality is similar to a simple  <link linkend="gui_Table">Table</link>.</para>
      <para><sgmltag>groupTable</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_table_allowPopupMenu">allowPopupMenu</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry><entry>
                <link linkend="gui_attr_table_reorderingAllowed">reorderingAllowed</link>
              </entry><entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>editable</row>
            <row>
              <entry>
                <link linkend="gui_attr_table_columnControlVisible">columnControlVisible</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_table_sortable">sortable</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_table_multiselect">multiselect</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry>
                <link linkend="gui_attr_table_presentations">presentations</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>groupTable</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry>
                <link linkend="gui_element_table_actions">actions</link>
              </entry>
            </row>
            <row>buttonsPanel<entry>
                <link linkend="gui_ButtonsPanel">buttonsPanel</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_element_table_columns">columns</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_element_table_rows">rows</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_table_rowsCount">rowsCount</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para><sgmltag>columns</sgmltag> elements:</para>
      <informaltable frame="none" align="left">
        <tgroup cols="1">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry>
                <link linkend="gui_element_table_columns">column</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_element_groupTable_group">group</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para> <link linkend="gui_element_table_columns">column</link> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row>
              <entry align="left">
                <link linkend="gui_attr_table_column_caption">caption</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_dateField_dateFormat">dateFormat</link>
              </entry>
              <entry>
                <link linkend="gui_attr_dateField_resolution">resolution</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_captionProperty">captionProperty</link>
              </entry>
              <entry>
                <link linkend="gui_attr_table_column_editable">editable</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_clickAction">clickAction</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_table_column_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_table_column_width">width</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_table_column_collapsed">collapsed</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para> <link linkend="gui_element_table_columns">column</link> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left"><colspec colname="c1"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_formatter">formatter</link>
              </entry>editable</row>
          </tbody></tgroup>
      </informaltable>
      <para> <link linkend="gui_element_table_rows">rows</link> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left"><colspec colname="c1"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>editable</row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_Label">
      <title>Label</title>
      <para><code>Label</code> is a text component that displays static text or value of entity attribute.</para>
      <para>XML name of the component: <sgmltag>label</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_label_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The  <code>Label</code> component is implemented for  <structname>Web Client</structname> and  <structname>Desktop Client</structname>.</para>
      <para>Below is an example of setting a label with text taken from the  <link linkend="message_packs">localized message pack</link>:<programlisting language="xml">&lt;label value=&quot;msg://orders&quot;/&gt;</programlisting></para>
      <para id="gui_attr_label_value">The  <sgmltag>value</sgmltag> attribute sets text for a label.</para>
      <para>In a web client, the text contained in  <sgmltag>value</sgmltag> will be split into multiple lines if its length exceeds the  <link linkend="gui_attr_basic_width">width</link> value. Therefore, to display a multiline label, it is sufficient to specify an absolute value of  <link linkend="gui_attr_basic_width">width</link>. If the label text is too long and the value of  <link linkend="gui_attr_basic_width">width</link> is not specified, the text will be truncated.<programlisting language="xml">&lt;label
   value=&quot;Label, which should be split into multiple lines&quot;
   width=&quot;200px&quot;/&gt;</programlisting></para>
      <para>You can set label parameters in the screen controller. To do this, you should specify a component identifier to get a reference to it in the controller:<programlisting language="xml">&lt;label id=&quot;dynamicLabel&quot;/&gt;</programlisting><programlisting language="java">@Inject
private Label dynamicLabel;

public void init(Map&lt;String, Object&gt; params) {
dynamicLabel.setValue(&quot;Some value&quot;);
}</programlisting></para>
      <para>The  <code>Label</code> component can display value of an entity attribute. For this purpose, <link linkend="gui_attr_basic_datasource">datasource</link> and <link linkend="gui_attr_basic_property">property</link> attributes are used. For example:<programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;customerDs&quot; class=&quot;com.sample.sales.entity.Customer&quot; view=&quot;_local&quot;/&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
...
&lt;label datasource=&quot;customerDs&quot; property=&quot;name&quot;/&gt;</programlisting></para>
      <para>In the example above, component displays the  <code>name</code> attribute of the  <code>Customer</code> entity located in the  <code>customerDs</code> data source.</para>
      <para id="gui_attr_label_htmlEnabled"><sgmltag>htmlEnabled</sgmltag> attribute indicates the way the  <link linkend="gui_attr_label_value">value</link> attribute will be interpreted: if <code>htmlEnabled=&quot;true&quot;</code>, the attribute will be treated as HTML code, otherwise as string. Note that the desktop implementation of the screen will not support all  <code>html</code> tags.</para>
      <para><sgmltag>label</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_label_htmlEnabled">htmlEnabled</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_label_value">value</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_property">property</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>label</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry align="left">
                <link linkend="gui_formatter">formatter</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    <section id="gui_Link">
      <title>Link</title>
      <para><code>Link</code> is a hyperlink, which allows uniform opening of external web resources for the Web and Desktop client. </para>
      <para>XML-name of the component: <code>link</code></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_link_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>An example of XML-description for <code>link</code>: </para>
      <programlisting language="xml">&lt;link caption=&quot;Link&quot; url=&quot;https://www.cuba-platform.com&quot; target=&quot;_blank&quot;/&gt;</programlisting>
      <para><code>link</code> attributes:</para>
      <itemizedlist>
        <listitem>
          <para><code>url</code> – the URL of the web resource.</para>
        </listitem>
        <listitem>
          <para><code>target</code> – sets the web page opening mode for the Web Client, similar to the <code>target</code> attribute of the <code>&lt;a&gt;</code> HTML element.</para>
        </listitem>
      </itemizedlist>
      <para>Additional <code>link</code> attributes:
        <link linkend="gui_attr_basic_align">align</link> |
        <link linkend="gui_attr_basic_caption">caption</link> |
        <link linkend="gui_attr_basic_description">description</link> |
        <link linkend="gui_attr_basic_enable">enable</link> |
        <link linkend="gui_attr_basic_id">id</link> |
        <link linkend="gui_attr_basic_icon">icon</link> |
        <link linkend="gui_attr_basic_stylename">stylename</link> |
        <link linkend="gui_attr_basic_visible">visible</link> |
        <link linkend="gui_attr_basic_width">width</link>
      </para>
    </section>
    <section id="gui_LinkButton">
      <title>LinkButton</title>
      <para><code>LinkButton</code> is a button that looks like a hyperlink.</para>
      <para>XML name of the component: <sgmltag>linkButton</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_linkButton_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The link button component is implemented for <structname>Web Client</structname> and <structname>Desktop Client</structname>.</para>
      <para>The link button can contain text or icon (or both). The figure below shows different types of buttons.</para>
      <mediaobject>
        <imageobject>
          <imagedata fileref="img/gui_linkButtonTypes.png"/>
        </imageobject>
      </mediaobject>
      <para>The link button differs from regular  <code>Button</code> only in its appearance. All properties and behavior are identical to those described for <link linkend="gui_Button">Button</link>.</para>
      <para>Below is an example of XML description of a link button that invokes the  <code>someMethod()</code> method of a controller with caption (the  <link linkend="gui_attr_basic_caption">caption</link> attribute), tooltip (the <link linkend="gui_attr_basic_description">description</link> attribute) and icon (the  <link linkend="gui_attr_basic_icon">icon</link> attribute): <programlisting language="xml">&lt;linkButton id=&quot;linkButton&quot;
        caption=&quot;msg://linkButton&quot;
        description=&quot;Press me&quot;
        icon=&quot;icons/save.png&quot;
        invoke=&quot;someMethod&quot;/&gt;</programlisting></para>
      <para><sgmltag>linkButton</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row>
              <entry align="left">
                <link linkend="gui_attr_button_action">action</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_align">align</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_icon">icon</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_button_invoke">invoke</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_LookupField">
      <title>LookupField</title>
      <para>This is a component to select a value from drop-down list. Drop-down list provides the filtering of values as the user inputs some text, and the pagination of available values.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_lookupField.png"/>
        </imageobject>
      </mediaobject>
      <para>XML name of the component:  <sgmltag>lookupField</sgmltag>.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_LookupField_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The <code>LookupField</code> component is implemented for  <structname>Web Client</structname> and  <structname>Desktop Client</structname>.</para>
      <itemizedlist>
        <listitem>
          <para>The simplest case of using  <code>LookupField</code> is to select an enumeration value for an entity attribute. For example, a <code>Role</code> entity has a  <code>type</code> attribute of the  <code>RoleType</code> type, which is an enumeration. Then you can use  <code>LookupField</code> to edit this attribute as follows:<programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;roleDs&quot; class=&quot;com.haulmont.cuba.security.entity.Role&quot; view=&quot;_local&quot;/&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;lookupField datasource=&quot;roleDs&quot; property=&quot;type&quot;/&gt;</programlisting></para>
          <para>In the example above, the screen defines  <literal>roleDs</literal> <link linkend="datasources">data source</link> for the  <code>Role</code> entity. In the  <code>lookupField</code> component, you should specify a link to a data source in the  <link linkend="gui_attr_basic_datasource">datasource</link> attribute, and a name of an entity attribute, which value should be displayed in the <link linkend="gui_attr_basic_property">property</link> attribute. In this case, the attribute is an enumeration and the drop-down list will display  <link linkend="enum_localization">localized names</link> of all enumeration values.</para>
        </listitem>
        <listitem>
          <para>Similarly,  <code>LookupField</code> can be used to select an instance of a related entity.  <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link> attribute is used to create a list of options:<programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;carDs&quot; class=&quot;com.company.sample.entity.Car&quot; view=&quot;_local&quot;/&gt;
&lt;collectionDatasource id=&quot;coloursDs&quot; class=&quot;com.company.sample.entity.Colour&quot; view=&quot;_local&quot;&gt;
    &lt;query&gt;select c from sample$Colour c&lt;/query&gt;
&lt;/collectionDatasource&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;lookupField datasource=&quot;carDs&quot; property=&quot;colour&quot; optionsDatasource=&quot;coloursDs&quot;/&gt;</programlisting></para>
          <para>In this case, the component will display  <link linkend="namePattern">instance names</link> of the  <code>Colour</code> entity located in the <code>colorsDs</code> data source, and the selected value will be put into the <code>colour</code> attribute of the  <code>Car</code> entity, which is located in the <code>carDs</code> data source.</para>
          <para><link linkend="gui_attr_basic_captionProperty">captionProperty</link> attribute defines which entity attribute can be used instead of an instance name for string option names.</para>
        </listitem>
        <listitem>
          <para>The list of component options can be specified arbitrarily using <code>setOptionsList()</code> and  <code>setOptionsMap()</code>, or using an XML  <code>optionsDatasource</code> attribute.</para>
          <itemizedlist>
            <listitem>
              <para><code>setOptionsList()</code> allows you to programmatically specify a list of component options. To do this, declare a component in the XML descriptor:</para>
              <programlisting language="xml">&lt;lookupField id=&quot;numberOfSeatsField&quot; datasource=&quot;modelDs&quot; property=&quot;numberOfSeats&quot;/&gt;</programlisting>
              <para>Then inject the component into the controller and specify a list of options in the  <code>init()</code> method:<programlisting language="java">@Inject
protected LookupField numberOfSeatsField;

@Override
public void init(Map&lt;String, Object&gt; params) {
List&lt;Integer&gt; list = new ArrayList&lt;&gt;();
list.add(2);
list.add(4);
list.add(5);
list.add(7);
numberOfSeatsField.setOptionsList(list);
}</programlisting></para>
              <para>In the dropdown list of the component values 2, 4, 5 and 7 will be displayed. Selected number will be put into the  <code>numberOfSeats</code> attribute of an entity located in the  <code>modelDs</code> data source.</para>
            </listitem>
            <listitem>
              <para><code>setOptionsMap()</code> allows you to specify string names and option values separately. For example, in the <code>numberOfSeatsField</code> component in the XML descriptor, specify an option map in <code>init()</code>:<programlisting language="java">@Inject
protected LookupField numberOfSeatsField;

@Override
public void init(Map&lt;String, Object&gt; params) {
Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();
map.put(&quot;two&quot;, 2);
map.put(&quot;four&quot;, 4);
map.put(&quot;five&quot;, 5);
map.put(&quot;seven&quot;, 7);
numberOfSeatsField.setOptionsMap(map);
}</programlisting></para>
              <para>In the drop down list of the component,  <userinput>two</userinput>, <userinput>four</userinput>, <userinput>five</userinput>, <userinput>seven</userinput> strings will be displayed. However, the value of the component will be a number that corresponds to the selected row. It will be put into the <code>numberOfSeats</code> attribute of an entity located in the  <code>modelDs</code> data source.</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para id="gui_attr_lookupField_filterMode">Using the  <sgmltag>filterMode</sgmltag> attribute, option filtering type can be defined for the user input:</para>
          <itemizedlist>
            <listitem>
              <para><literal>NO</literal> − no filtering.</para>
            </listitem>
            <listitem>
              <para><literal>STARTS_WITH</literal> − by the beginning of a phrase.</para>
            </listitem>
            <listitem>
              <para><literal>CONTAINS</literal> − by any occurrence (is used by default).</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>If the  <code>LookupField</code> component has no  <link linkend="gui_attr_basic_required">required</link> attribute to set up and if the related entity attribute is not declared as required, the list of component options has an empty row. If this row is selected, the component returns <code>null</code>. The  <link linkend="gui_attr_nullName">nullName</link> attribute allows you to specify a row to be displayed in this case instead of an empty one. Below is an example of use:<programlisting language="xml">&lt;lookupField datasource=&quot;carDs&quot; property=&quot;colour&quot; optionsDatasource=&quot;coloursDs&quot; nullName=&quot;(none)&quot;/&gt;</programlisting></para>
          <para>In this case, instead of an empty row,  <userinput>(none)</userinput> will be displayed. If this row is selected, <code>null</code> will be put into a related entity attribute.</para>
          <para>If you specify a list of options programmatically using <code>setOptionsList()</code> , you can pass one of the options into  <code>setNullOption()</code> method. Then, if the user selects it, the component value will be  <code>null</code>.</para>
        </listitem>
        <listitem id="gui_attr_newOptionHandler"><para>The  <code>LookupField</code> component is able to handle user input if there is no suitable option in the list. In this case, <code>setNewOptionAllowed()</code> and <code>setNewOptionHandler()</code> are used. For example:<programlisting language="java">@Inject
protected LookupField colourField;

@Inject
protected CollectionDatasource&lt;Colour, UUID&gt; coloursDs;

@Override
public void init(Map&lt;String, Object&gt; params) {
colourField.setNewOptionAllowed(true);
colourField.setNewOptionHandler(new LookupField.NewOptionHandler() {
    @Override
    public void addNewOption(String caption) {
        Colour colour = new Colour();
        colour.setName(caption);
        coloursDs.addItem(colour);
        colourField.setValue(colour);
    }
});
}</programlisting></para><para>The  <code>NewOptionHandler</code> handler is invoked if the user enters a value that does not coincide with any option and presses  <keycap>Enter</keycap>. In this case, a new  <code>Colour</code> entity instance is created in the handler, its  <code>name</code> attribute is set to the value entered by the user, this instance is added to an option data source and selected in the component.</para>Instead of implementing the <code>LookupField.NewOptionHandler</code>interface for processing user input, the controller method name can be specified in the <code>newOptionHandler</code> XML-attribute. This method should have two parameters, one of <code>LookupField</code>, and the other of <code>String</code>type. They will be set to the component instance and the value entered by the user, accordingly.</listitem>
      </itemizedlist>
      <para><sgmltag>lookupField</sgmltag> attributes: </para>
        <para>
            <link linkend="gui_attr_basic_align">align</link> |
            <link linkend="gui_attr_basic_caption">caption</link> |
            <link linkend="gui_attr_basic_captionProperty">captionProperty</link> |
            <link linkend="gui_attr_basic_datasource">datasource</link> |
            <link linkend="gui_attr_basic_description">description</link> |
            <link linkend="gui_attr_basic_editable">editable</link> |
            <link linkend="gui_attr_basic_enable">enable</link> |
            <link linkend="gui_attr_lookupField_filterMode">filterMode</link> |
            <link linkend="gui_attr_basic_height">height</link> |
            <link linkend="gui_attr_basic_id">id</link> |
            <link linkend="gui_attr_basic_inputPrompt">inputPrompt</link> |
            <link linkend="gui_attr_newOptionHandler">newOptionHandler</link> |
            <link linkend="gui_attr_nullName">nullName</link> |
            <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link> |
            <link linkend="gui_attr_basic_property">property</link> |
            <link linkend="gui_attr_basic_required">required</link> |
            <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link> |
            <link linkend="gui_attr_basic_stylename">stylename</link> |
            <link linkend="gui_attr_basic_visible">visible</link> |
            <link linkend="gui_attr_basic_width">width</link>
        </para>
      <para><sgmltag>lookupField</sgmltag> elements:</para>
        <para><link linkend="gui_validator">validator</link></para>
    </section>
    <section id="gui_LookupPickerField">
      <title>LookupPickerField</title>
      <para>The  <code>LookupPickerField</code> component enables to display an entity instance in a text field, select an instance in a drop-down list and perform actions by pressing buttons on the right.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_lookupPickerField.png"/>
        </imageobject>
      </mediaobject>
      <para>XML name of the component:  <sgmltag>lookupPickerField</sgmltag>.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_LookupPickerField_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The component is implemented for  <structname>Web Client</structname> and  <structname>Desktop Client</structname>.</para>
      <para> In fact <code>LookupPickerField</code> is  a hybrid of  <link linkend="gui_LookupField">LookupField</link> and <link linkend="gui_PickerField">PickerField</link>. Thus it has the same features except the default list of actions added when determining the component in XML: for <code>LookupPickerField</code> these are  <code>lookup</code> <inlinemediaobject>
          <imageobject>
            <imagedata fileref="img/lookupBtn.png"/>
          </imageobject>
        </inlinemediaobject> and  <code>open</code> <inlinemediaobject>
          <imageobject>
            <imagedata fileref="img/openBtn.png"/>
          </imageobject>
        </inlinemediaobject> actions.</para>
      <para>Below is an example of using  <code>LookupPickerField</code> to select a value of the  <code>colour</code> reference attribute of the  <code>Car</code> entity:<programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;carDs&quot; class=&quot;com.company.sample.entity.Car&quot; view=&quot;_local&quot;/&gt;
&lt;collectionDatasource id=&quot;coloursDs&quot; class=&quot;com.company.sample.entity.Colour&quot; view=&quot;_local&quot;&gt;
    &lt;query&gt;select c from sample$Colour c&lt;/query&gt;
&lt;/collectionDatasource&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;lookupPickerField datasource=&quot;carDs&quot; property=&quot;colour&quot; optionsDatasource=&quot;coloursDs&quot;/&gt;</programlisting></para>
      <para><sgmltag>lookupPickerField</sgmltag> attributes: </para>
        <para>
            <link linkend="gui_attr_basic_align">align</link> |
            <link linkend="gui_attr_basic_caption">caption</link> |
            <link linkend="gui_attr_basic_captionProperty">captionProperty</link> |
            <link linkend="gui_attr_basic_datasource">datasource</link> |
            <link linkend="gui_attr_basic_description">description</link> |
            <link linkend="gui_attr_basic_editable">editable</link> |
            <link linkend="gui_attr_basic_enable">enable</link> |
            <link linkend="gui_attr_lookupField_filterMode">filterMode</link> |
            <link linkend="gui_attr_basic_height">height</link> |
            <link linkend="gui_attr_basic_id">id</link> |
            <link linkend="gui_attr_basic_inputPrompt">inputPrompt</link> |
            <link linkend="gui_attr_pickerField_metaclass">metaClass</link> |
            <link linkend="gui_attr_nullName">nullName</link> |
            <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link> |
            <link linkend="gui_attr_basic_property">property</link> |
            <link linkend="gui_attr_basic_required">required</link> |
            <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link> |
            <link linkend="gui_attr_basic_stylename">stylename</link> |
            <link linkend="gui_attr_basic_visible">visible</link> |
            <link linkend="gui_attr_basic_width">width</link>
        </para>
      <para><sgmltag>lookupPickerField</sgmltag> elements:</para>
        <para>
            <link linkend="gui_Action">actions</link> |
            <link linkend="gui_validator">validator</link>
        </para>
    </section>
    <section id="gui_MaskedField">
      <title>MaskedField</title>
      <para>This is a text field, in which data is entered in a predefined format. For example, it is convenient to use  <code>MaskedField</code> to enter telephone numbers. </para>
      <para>XML name of the component: <sgmltag>maskedField</sgmltag>.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_MaskedField_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The  <code>MaskedField</code> component is implemented for  <structname>Web Client</structname> only.</para>
      <para>Basically, <code>MaskedField</code> repeats the functionality of  <link linkend="gui_TextField">TextField</link>, except that you cannot set  <code>datatype</code> for it. So,  <code>MaskedField</code> is intended for work only with text and string entity attributes. <code>MaskedField</code> has the following specific attributes:</para>
      <itemizedlist>
        <listitem>
          <para id="gui_attr_maskedField_mask"><sgmltag>mask</sgmltag> – sets a mask for the field. To set a mask, use the following characters:</para>
          <itemizedlist>
            <listitem>
              <para><sgmltag>#</sgmltag> – number</para>
            </listitem>
            <listitem>
              <para><sgmltag>U</sgmltag> – uppercase letter</para>
            </listitem>
            <listitem>
              <para><sgmltag>L</sgmltag> – lowercase letter</para>
            </listitem>
            <listitem>
              <para><sgmltag>?</sgmltag> – letter</para>
            </listitem>
            <listitem>
              <para><sgmltag>А</sgmltag> – letter or number</para>
            </listitem>
            <listitem>
              <para><sgmltag>*</sgmltag> – any character</para>
            </listitem>
            <listitem>
              <para><sgmltag>H</sgmltag> – uppercase hex character</para>
            </listitem>
            <listitem>
              <para><sgmltag>H</sgmltag> – lowercase hex character</para>
            </listitem>
            <listitem>
              <para><sgmltag>~</sgmltag> – &quot; +&quot; or &quot;-&quot; character</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para id="gui_attr_maskedField_valueMode"><sgmltag>valueMode</sgmltag> – defines a format of a returned value (with a mask or not) and can take either <sgmltag>masked</sgmltag> or  <sgmltag>clear</sgmltag>.</para>
        </listitem>
      </itemizedlist>
      <para>Example of a text field with a mask for entering telephone numbers is provided below:</para>
      <programlisting language="xml">&lt;maskedField id=&quot;phoneNumberField&quot; mask=&quot;(###)###-##-##&quot; valueMode=&quot;masked&quot;/&gt;
&lt;button caption=&quot;msg://showPhoneNumberBtn&quot; invoke=&quot;showPhoneNumber&quot;/&gt;</programlisting>
      <programlisting language="java">@Inject
private MaskedField phoneNumberField;

public void showPhoneNumber(){
showNotification((String) phoneNumberField.getValue(), NotificationType.HUMANIZED);
}</programlisting>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_MaskedField.png"/>
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_MaskedField_maskedValueMode.png"/>
        </imageobject>
      </mediaobject>
      <para><sgmltag>maskedField</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="5" colsep="1" rowsep="1" align="left"><colspec colname="c0"/><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry>
                <link linkend="gui_attr_basic_align">align</link>
              </entry><entry>
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry><entry align="left">
                <link linkend="gui_attr_maskedField_mask">mask</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_textField_maxLength">maxLength</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_property">property</link>
              </entry>
              <entry>
                <link linkend="gui_attr_textField_trim">trim</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_required">required</link>
              </entry>
              <entry>
                <link linkend="gui_attr_maskedField_valueMode">valueMode</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para> <sgmltag>maskedField</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry>
                <link linkend="gui_validator">validator</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    <section id="gui_OptionsGroup">
      <title>OptionsGroup</title>
      <para>This is a component that allows you to choose from a list of options using radio buttons to choose a
        single value or a checkbox group to select several values.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_optionsGroup.png"/>
        </imageobject>
      </mediaobject>
      <para>XML name of the component: <sgmltag>optionsGroup</sgmltag>.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_OptionsGroup_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The  <code>OptionsGroup</code> component is implemented for  <structname>Web Client</structname> and <structname>Desktop Client</structname>.</para>
      <itemizedlist>
        <listitem>
          <para>The simplest case of using  <code>OptionsGroup</code> is to select an enumeration value for an entity attribute. For example, a  <code>Role</code> entity has <code>type</code> attribute of the <code>RoleType</code> type, which is an enumeration. Then you can use  <code>OptionsGroup</code> to edit this attribute as follows:<programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;roleDs&quot; class=&quot;com.haulmont.cuba.security.entity.Role&quot; view=&quot;_local&quot;/&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;optionsGroup datasource=&quot;roleDs&quot; property=&quot;type&quot;/&gt;</programlisting></para>
          <para>In the example above <literal>roleDs</literal>   <link linkend="datasources">data source</link> is defined for the <code>Role</code> entity. In the  <code>optionsGroup</code> component, you should specify link to a data source in the  <link linkend="gui_attr_basic_datasource">datasource</link> attribute and a name of an entity attribute, which value should be displayed, in the <link linkend="gui_attr_basic_property">property</link>  attribute.</para>
          <para>As a result, the component will be as follows:<mediaobject>
              <imageobject>
                <imagedata align="center" fileref="img/gui_optionsGroup_roleType.png"/>
              </imageobject>
            </mediaobject></para>
        </listitem>
        <listitem>
          <para>The list of component options can be specified arbitrarily using <code>setOptionsList()</code> and <code>setOptionsMap()</code>, or using an  <code>optionsDatasource</code> attribute.</para>
          <itemizedlist>
            <listitem>
              <para><code>setOptionsList()</code> allows you to specify programmatically a list of component options. To do this, declare a component in the XML descriptor:</para>
              <programlisting language="xml">&lt;optionsGroup id=&quot;numberOfSeatsField&quot;/&gt;</programlisting>
              <para>Then inject the component into the controller and specify a list of options in the  <code>init()</code> method:<programlisting language="java">@Inject
protected OptionsGroup numberOfSeatsField;

@Override
public void init(Map&lt;String, Object&gt; params) {
List&lt;Integer&gt; list = new ArrayList&lt;&gt;();
list.add(2);
list.add(4);
list.add(5);
list.add(7);
numberOfSeatsField.setOptionsList(list);
}</programlisting></para>
              <para>The component will be as follows:<mediaobject>
                  <imageobject>
                    <imagedata align="center" fileref="img/gui_optionsGroup_integerList.png"/>
                  </imageobject>
                </mediaobject></para>
              <para>Depending on the selected option, the  <code>getValue()</code> method of the component will return   <code>Integer</code> values: 2, 4, 5, 7.</para>
            </listitem>
            <listitem>
              <para><code>setOptionsMap()</code> allows you to specify string names and option values separately. For example, we can set the following options map for the  <code>numberOfSeatsField</code> component, described the XML descriptor, in the  <code>init()</code> method of the controller:<programlisting language="java">@Inject
protected OptionsGroup numberOfSeatsField;

@Override
public void init(Map&lt;String, Object&gt; params) {
Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();
map.put(&quot;two&quot;, 2);
map.put(&quot;four&quot;, 4);
map.put(&quot;five&quot;, 5);
map.put(&quot;seven&quot;, 7);
numberOfSeatsField.setOptionsMap(map);
}</programlisting></para>
              <para>The component will be as follows:<mediaobject>
                  <imageobject>
                    <imagedata align="center" fileref="img/gui_optionsGroup_integerMap.png"/>
                  </imageobject>
                </mediaobject></para>
              <para>Depending on the selected option, the  <code>getValue()</code> method of the component will return  <code>Integer</code> values: 2, 4, 5, 7, and not the strings that are displayed on the screen.</para>
            </listitem>
            <listitem>
              <para>The component can take a list of options from a data source. For this purpose, the  <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link> attribute is used. For example:<programlisting language="xml">&lt;dsContext&gt;
&lt;collectionDatasource id=&quot;coloursDs&quot; class=&quot;com.company.sample.entity.Colour&quot; view=&quot;_local&quot;&gt;
    &lt;query&gt;select c from sample$Colour c&lt;/query&gt;
&lt;/collectionDatasource&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;optionsGroup id=&quot;coloursField&quot; optionsDatasource=&quot;coloursDs&quot;/&gt;</programlisting></para>
              <para>In this case, the  <code>coloursField</code> component will display  <link linkend="namePattern">instance names</link> of the  <code>Colour</code> entity, located in the  <code>coloursDs</code> data source, and its  <code>getValue()</code> method will return the selected entity instance.</para>
              <para>With the help of  <link linkend="gui_attr_basic_captionProperty">captionProperty</link> attribute entity attribute to be used instead of an instance name for string option names can be defined.</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem id="gui_attr_optionsGroup_multiselect">
          <para><sgmltag>multiselect</sgmltag> attribute is used to switch <code>OptionsGroup</code> to a multiple choice mode. If  <code>multiselect</code> is turned on, the component is displayed as a group of independent checkboxes, and the component value is a list of selected options.</para>
          <para>For example, if we create the component in the XML screen descriptor:<programlisting language="xml">&lt;optionsGroup id=&quot;roleTypesField&quot; multiselect=&quot;true&quot;/&gt;</programlisting></para>
          <para>and set a list of options for it –  <code>RoleType</code> enumeration values:<programlisting language="java">@Inject
protected OptionsGroup roleTypesField;

@Override
public void init(Map&lt;String, Object&gt; params) {
roleTypesField.setOptionsList(Arrays.asList(RoleType.values()));
}</programlisting></para>
          <para>then the component will be as follows:<mediaobject>
              <imageobject>
                <imagedata align="center" fileref="img/gui_optionsGroup_roleType_multi.png"/>
              </imageobject>
            </mediaobject></para>
          <para>In this case the  <code>getValue()</code> method of the component will return a <code>java.util.List</code>, containing  <code>RoleType.READONLY</code> and <code>RoleType.DENYING</code> values.</para>
          <para>The example above also illustrates an ability of the  <code>OptionsGroup</code> component to display localized values of enumerations included in the data model.</para>
        </listitem>
        <listitem>
          <para id="gui_attr_optionsGroup_orientation">The  <sgmltag>orientation</sgmltag> attribute defines the orientation of group elements. By default, elements are arranged vertically. The <literal>horizontal</literal> value sets the horizontal orientation.</para>
        </listitem>
      </itemizedlist>
      <para><sgmltag>optionsGroup</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link>
              </entry><entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry></row>
            <row><entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>required<entry>
                <link linkend="gui_attr_optionsGroup_orientation">orientation</link>
              </entry><entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry></row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_captionProperty">captionProperty</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_property">property</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_required">required</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry>
                <link linkend="gui_attr_optionsGroup_multiselect">multiselect</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>optionsGroup</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry align="left">
                <link linkend="gui_validator">validator</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    <section id="gui_PasswordField">
      <title>PasswordField</title>
      <para>This is a text field that displays echo characters instead of those entered by a user.</para>
      <para>XML name of the component:  <code>passwordField</code>.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_PasswordField_dia.png"/>
        </imageobject>
      </mediaobject>
      <para><code>PasswordField</code> is implemented for  <structname>Web Client</structname> and  <structname>Desktop Client</structname>.</para>
      <para>Basically, <code>PasswordField</code> is similar to  <link linkend="gui_TextField">TextField</link> apart from the ability to set <code>datatype</code>.  <code>PasswordField</code> is intended to work with text and string entity attributes only.</para>
      <para>Example:</para>
      <programlisting language="xml">&lt;passwordField id=&quot;passwordField&quot; caption=&quot;msg://name&quot;/&gt;
&lt;button caption=&quot;msg://buttonsName&quot; invoke=&quot;showPassword&quot;/&gt;</programlisting>
      <programlisting language="java">@Inject
private PasswordField passwordField;

public void showPassword(){
showNotification((String) passwordField.getValue(), NotificationType.HUMANIZED);
}</programlisting>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_passwordField.png"/>
        </imageobject>
      </mediaobject>
      <para><sgmltag>passwordField</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/><colspec colname="c5"/>c <tbody>
            <row>
              <entry>
                <link linkend="gui_attr_basic_align">align</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_textField_maxLength">maxLength</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
            <row><entry align="left">
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry><entry>
                <link linkend="gui_attr_basic_property">property</link>
              </entry>editable<entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry></row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_required">required</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>passwordField</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry>
                <link linkend="gui_validator">validator</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    <section id="gui_PickerField">
      <title>PickerField</title>
      <para>The input field with additional action buttons (<code>PickerField</code>) allows you to display an entity instance in a text field and perform actions by clicking buttons on the right.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/PickerField.png"/>
        </imageobject>
      </mediaobject>
      <para>XML name of the component: <sgmltag>pickerField</sgmltag>.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_pickerField_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The  <code>PickerField</code> component is implemented for  <structname>Web Client</structname> and <structname>Desktop Client</structname>.</para>
      <itemizedlist>
        <listitem>
          <para>As a rule,  <code>PickerField</code> is used for reference entity attributes. It is sufficient to specify  <link linkend="gui_attr_basic_datasource">datasource</link> and  <link linkend="gui_attr_basic_property">property</link> attributes for the component:<programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;carDs&quot; class=&quot;com.company.sample.entity.Car&quot; view=&quot;_local&quot;/&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;pickerField datasource=&quot;carDs&quot; property=&quot;colour&quot;/&gt;</programlisting></para>
          <para>In the example above, the screen defines <code>carDs</code>   <link linkend="datasources">data source</link> for a  <code>Car</code> entity having the  <code>colour</code> attribute. In the  <code>pickerField</code> element, you should specify a link to a data source in the <code>datasource</code> attribute, and a name of an entity attribute, the value of which should be displayed in the component – in the  <code>property</code> attribute. The entity attribute should refer to another entity, in the example above it is  <code>Colour</code>.</para>
        </listitem>
        <listitem id="gui_element_pickerField_actions">
          <para>For  <code>PickerField</code>, you can define an arbitrary number of  <link linkend="gui_Action">actions</link>, displayed as buttons on the right. It can be done either in the XML descriptor using the <code>actions</code> nested element, or programmatically in the controller using  <code>addAction()</code>. </para>
          <itemizedlist>
            <listitem>
              <para>There are  <link linkend="standard_actions">standard actions</link>, defined by the <code>PickerField.ActionType</code>: <code>lookup</code>, <code>clear</code>, <code>open</code>. They perform the selection of a related entity, clearing the field and opening the edit screen of a selected related entity, respectively. For standard actions in XML, you do not have to define any attributes except the identifier. If no actions in the  <sgmltag>actions</sgmltag> element are defined when declaring the component, the XML loader will define  <literal>lookup</literal> and <literal>clear</literal> actions for it. To add a default action, for example,  <literal>open</literal>, you need to define the  <sgmltag>actions</sgmltag> element as follows:<programlisting language="xml">&lt;pickerField datasource=&quot;carDs&quot; property=&quot;colour&quot;/&gt;
&lt;actions&gt;
    &lt;action id=&quot;lookup&quot;/&gt;
    &lt;action id=&quot;open&quot;/&gt;
    &lt;action id=&quot;clear&quot;/&gt;
&lt;/actions&gt;
&lt;/pickerField&gt;</programlisting></para>
              <para>The  <sgmltag>action</sgmltag> element does not extend but overrides a set of standard actions. Identifiers of all required actions have to be defined in order to use them. The component looks like the following:</para>
              <mediaobject>
                <imageobject>
                  <imagedata align="center" fileref="img/gui_pickerFieldActionsSt.png"/>
                </imageobject>
              </mediaobject>
              <para>Use  <code>addLookupAction()</code>, <code>addOpenAction()</code> and  <code>addClearAction()</code> to set standard actions programmatically. If the component is defined in the XML descriptor without  <code>actions</code> nested element, it is sufficient to add missing actions:<programlisting language="java">@Inject
protected PickerField colourField;

@Override
public void init(Map&lt;String, Object&gt; params) {
colourField.addOpenAction();
}    </programlisting></para>
              <para>If the component is created in the controller, it will get no default actions and you need to explicitly add all necessary actions:<programlisting language="java">@Inject
protected ComponentsFactory componentsFactory;

@Override
public void init(Map&lt;String, Object&gt; params) {
PickerField colourField = componentsFactory.createComponent(PickerField.NAME);
colourField.setDatasource(carDs, &quot;colour&quot;);
colourField.addLookupAction();
colourField.addOpenAction();
colourField.addClearAction();
}</programlisting></para>
              <para>You can parameterize standard actions. The XML descriptor has limited abilities to do this: there is only   <code>openType</code> attribute, in which you can specify the mode to open a selection screen (for  <code>LookupAction</code>) or edit screen (for  <code>OpenAction</code>).</para>
              <para>If you create actions programmatically, you can specify any properties of  <code>PickerField.LookupAction</code>, <code>PickerField.OpenAction</code> and <code>PickerField.ClearAction</code> objects returned by methods of adding standard actions. For example, you can set a specific selection screen as follows:<programlisting language="java">PickerField.LookupAction lookupAction = customerField.addLookupAction();
lookupAction.setLookupScreen(&quot;customerLookupScreen&quot;);</programlisting></para>
              <para>For more information, see JavaDocs for <link linkend="standard_actions">standard actions</link> classes.</para>
            </listitem>
            <listitem>
              <para>Arbitrary actions in the XML descriptor are also defined in the  <code>actions</code> nested element, for example:<programlisting language="xml">&lt;pickerField datasource=&quot;carDs&quot; property=&quot;colour&quot;/&gt;
&lt;actions&gt;
    &lt;action id=&quot;lookup&quot;/&gt;
    &lt;action id=&quot;show&quot; icon=&quot;icons/show.png&quot;
            invoke=&quot;showColour&quot; caption=&quot;&quot;/&gt;
&lt;/actions&gt;
&lt;/pickerField&gt;</programlisting></para>
              <para>You can programmatically set an arbitrary action as follows:<programlisting language="java">@Inject
protected PickerField colourField;

@Override
public void init(Map&lt;String, Object&gt; params) {
colourField.addAction(new AbstractAction(&quot;show&quot;) {
    @Override
    public void actionPerform(Component component) {
        showColour(colourField.getValue());
    }
    @Override
    public String getCaption() {
        return &quot;&quot;;
    }
    @Override
    public String getIcon() {
        return &quot;icons/show.png&quot;;
    }
});
}</programlisting></para>
              <para>The declarative and programmatic creation of actions is described in   <xref linkend="gui_Action"/>.</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem id="gui_attr_pickerField_metaclass">
          <para><code>PickerField</code> can be used without any direct reference to data, i.e., without  <link linkend="gui_attr_basic_datasource">datasource</link> and <link linkend="gui_attr_basic_property">property</link> specification. In this case  <code>metaClass</code> attribute should be used to specify an entity type for  <code>PickerField</code>.  <link linkend="entity_class_annotations">Entity name in metadata</link> should be defined, for example:<programlisting language="xml">&lt;pickerField id=&quot;colourField&quot; metaClass=&quot;sample$Colour&quot;/&gt;</programlisting></para>
          <para>You can get an instance of a selected entity by injecting the component into a controller and invoking its <code>getValue()</code> method.</para>
          <warning>
            <para>For proper operation of the  <code>PickerField</code> component you need either set a <code>metaClass</code> attribute, or simultaneously set  <link linkend="gui_attr_basic_datasource">datasource</link> and  <link linkend="gui_attr_basic_property">property</link> attributes.</para>
          </warning>
        </listitem>
        <listitem>
          <para>You can use keyboard shortcuts in PickerField, see <xref linkend="shortcuts"/> for details.</para>
        </listitem>
      </itemizedlist>
      <para><sgmltag>pickerField</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_property">property</link>
              </entry><entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry></row>
            <row><entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>required<entry>
                <link linkend="gui_attr_basic_required">required</link>
              </entry></row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_captionProperty">captionProperty</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry>
                <link linkend="gui_attr_pickerField_metaclass">metaClass</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>pickerField</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry>
                <link linkend="gui_element_pickerField_actions">actions</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_validator">validator</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    <section id="gui_PopupButton">
      <title>PopupButton</title>
      <para>This is a button with a drop-down list of actions.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/PopupButton.png"/>
        </imageobject>
      </mediaobject>
      <para>XML name of the component:  <sgmltag>popupButton</sgmltag>.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_popupButton_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The component is implemented for  <structname>Web Client</structname> and <structname>Desktop Client</structname>.</para>
      <para>The PopupButton contain text or icon (or both). The figure below shows different types of buttons.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_popupButtonTypes.png"/>
        </imageobject>
      </mediaobject>
      <para>Below is an example of a button with a drop-down list containing two actions.</para>
      <para>The button has a caption, which is specified using the  <link linkend="gui_attr_basic_caption">caption</link> attribute, and a tooltip defined in the  <link linkend="gui_attr_basic_description">description</link> attribute. The drop-down <link linkend="gui_Action">actions</link> list is specified in the <sgmltag>actions</sgmltag> element. <code>PopupButton</code> displays only the following action properties: <code>caption</code>, <code>enable</code>, <code>visible</code>. The  <code>description</code>, <code>icon</code>, and <code>shortcut</code> properties are ignored.</para>
      <para><sgmltag>popupButton</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="3" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/>c <tbody>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_icon">icon</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>popupButton</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry align="left">
                <link linkend="gui_Action">actions</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    <section id="gui_ProgressBar">
      <title>ProgressBar</title>
      <para>The  <code>ProgressBar</code> component is used to display the progress of a long process.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_progressBar.png"/>
        </imageobject>
      </mediaobject>
      <para>XML name of the component:  <sgmltag>progressBar</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_progressBar_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The component is implemented for  <structname>Web Client</structname> and <structname>Desktop Client</structname>. </para>
      <para>Below is an example of the component usage together with the mechanism of <link linkend="background_tasks">background tasks</link>:
        <programlisting language="xml">&lt;progressBar id=&quot;progressBar&quot; width=&quot;100%&quot;/&gt;</programlisting>
        <programlisting language="java">@Inject
protected ProgressBar progressBar;

@Inject
protected BackgroundWorker backgroundWorker;

private static final int ITERATIONS = 5;

@Override
public void init(Map&lt;String, Object&gt; params) {
BackgroundTask&lt;Integer, Void&gt; task = new BackgroundTask&lt;Integer, Void&gt;(300, this) {
    @Override
    public Void run(TaskLifeCycle&lt;Integer&gt; taskLifeCycle) throws Exception {
        for (int i = 1; i &lt;= ITERATIONS; i++) {
            TimeUnit.SECONDS.sleep(2); // time consuming task
            taskLifeCycle.publish(i);
        }
        return null;
    }

    @Override
    public void progress(List&lt;Integer&gt; changes) {
        float lastValue = changes.get(changes.size() – 1);
        progressBar.setValue(lastValue / ITERATIONS);
    }
};

BackgroundTaskHandler taskHandler = backgroundWorker.handle(task);
taskHandler.execute();
}</programlisting></para>
      <para>Here in the  <code>BackgroundTask.progress()</code> method, which is executed in UI thread, the <code>ProgressBar</code> component is set to the current value. The component value should be a <code>float</code> number from  <code>0.0</code> to <code>1.0</code>.</para>
      <para id="gui_attr_progressBar_indeterminate">If a running process is unable to send information about the progress an indeterminate state of the indicator can be displayed using the  <sgmltag>indeterminate</sgmltag> attribute. Indicator shows an indeterminate state if the attribute value is  <literal>true</literal>. Default is   <literal>false</literal>. For example:<programlisting language="xml">&lt;progressBar id=&quot;progressBar&quot; width=&quot;100%&quot; indeterminate=&quot;true&quot;/&gt;</programlisting></para>
      <para><sgmltag>progressBar</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="3" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_progressBar_indeterminate">indeterminate</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_RelatedEntities">
      <title>Related Entities</title>
      <para><code>Related Entities</code> component is a popup button with a list of classes related to the entity displayed in the table. Once the user selects the required entity class, a new lookup window is opened, containing the instances of this entity class,  related to the entity instances selected in the initial table.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_relatedEntities.png"/>
        </imageobject>
      </mediaobject>
      <para>The XML-name of the component: <code>relatedEntities</code></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_relatedEntities_dia.png"/>
        </imageobject>
      </mediaobject>
        <para>The component is implemented for
            <structname>Web Client</structname>
            and<structname>Desktop Client</structname>.
        </para>
        <para>Related entities are selected according to the user permissions for entities , entity attributes and
            screens.
        </para>
        <para>By default, the lookup window for the class selected in the dropdown is defined by convention (<code>
            .browse</code>,<code>.lookup</code>). Optionally, you can define the screen explicitly in the component.
        </para>
        <para>A filter selecting records related to the selected entities is dynamically created in the lookup
            window.
        </para>
        <para>Example of using the component in screen XML-descriptor:</para>
        <programlisting language="xml"><![CDATA[
<table id="invoiceTable"
                                  multiselect="true"
                                  width="100%">
<actions>
    <action id="create"/>
    <action id="edit"/>
    <action id="remove"/>
</actions>
<buttonsPanel id="buttonsPanel">
    <button id="createBtn"
            action="invoiceTable.create"/>
    <button id="editBtn"
            action="invoiceTable.edit"/>
    <button id="removeBtn"
            action="invoiceTable.remove"/>
    <relatedEntities for="invoiceTable"
                     openType=”NEW_TAB”>
    <property name="invoiceItems"
              screen="sales$InvoiceItem.lookup"
              filterCaption="msg://invoiceItems"/>
</relatedEntities>
</buttonsPanel>
        ]]></programlisting>
      <para id="gui_attr_related_for">The <code>for</code> attribute is required. It contains the table identifier.</para>
      <para>The <code>openType=”NEW_TAB”</code> attribute sets the opening mode of the lookup windows to new tab. The entity browser is opened in the current tab by default. </para>
      <para id="gui_attr_related_property">The <code>property</code> element allows explicitly defining the related entity displayed in the dropdown.</para>
      <para><code>property</code> attributes:</para>
      <itemizedlist>
        <listitem id="gui_attr_related_property_name">
          <para><code>name</code> – the current entity attribute name, referencing the related entity. </para>
        </listitem>
        <listitem id="gui_attr_related_property_screen">
          <para><code>screen</code> – the identifier of the lookup screen that should be opened.</para>
        </listitem>
        <listitem id="gui_attr_related_property_filterCaption">
          <para><code>filterCaption</code> – the name of the dynamically generated filter.</para>
        </listitem>
      </itemizedlist>
      <para id="gui_attr_related_exclude">The  <code>exclude</code> attribute allows excluding some of the related entities from the dropdown list. The value of the property is a list of reference attributes of the current entity, separated by commas.</para>
      <figure>
        <title>Related Entities Component in a Table</title>
        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui_relatedEntitiesTable.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <figure>
        <title>Related Entities Browser in a New Tab</title>
        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui_relatedEntitiesBrowser.png"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>The  <code>relatedEntities</code> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="3" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_related_exclude">exclude</link>
              </entry><entry align="left">
                <link linkend="gui_attr_tokenList_lookup_openType">openType</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_related_for">for</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_icon">icon</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
        </tbody></tgroup>
      </informaltable>
      <para><code>property</code> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
            </row>
            <row>buttonsPanel<entry>
                <link linkend="gui_attr_related_property_filterCaption">filterCaption</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_related_property_name">name</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_related_property_screen">screen</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
    <section id="gui_RichTextArea">
      <title>RichTextArea</title>
      <para>This is a text area to display and enter rich text.</para>
      <para>XML name of the component:  <sgmltag>richTextArea</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_RichTextArea_dia.png"/>
        </imageobject>
      </mediaobject>
      <para><code>RichTextArea</code> is implemented only for  <structname>Web Client</structname>.</para>
      <para>Basically, <code>RichTextArea</code> mirrors the functionality of <link linkend="gui_TextField">TextField</link>, except that you cannot set  <code>datatype</code> for it. So,  <code>RichTextArea</code> is intended for work only with text and string entity attributes.</para>
      <para>You can apply formatting tools to the text entered in the  <code>RichTextArea</code> component: change the font style, size and family – using controls located at the top of the component.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_RichTextAreaInfo.png"/>
        </imageobject>
      </mediaobject>
      <para><sgmltag>richTextArea</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_property">property</link>
              </entry><entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_required">required</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_SearchPickerField">
      <title>SearchPickerField</title>
      <para>The  <code>SearchPickerField</code> component is used to search for entity instances according to the entered string. User should enter a few characters and press  <keycap>Enter</keycap>. If several matches have been found all of them will be displayed in a drop-down list. If only one instance matches the search query it immediately becomes a component value. <code>SearchPickerField</code> allows also to perform actions by clicking on buttons on the right.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_searchPickerFieldOverlap.png"/>
        </imageobject>
      </mediaobject>
      <para>XML name of the component:  <sgmltag>searchPickerField</sgmltag>.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_SearchPickerField_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The component is implemented for  <structname>Web Client</structname> and <structname>Desktop Client</structname>.</para>
      <itemizedlist>
        <listitem>
          <para>To use  <sgmltag>SearchPickerField</sgmltag> component, you need to create  <link linkend="datasources">collectionDatasource</link> and specify a query, which contains corresponding search conditions. Condition must contain a parameter named  <code>custom$searchString</code>. Component will pass a substring entered by the user after pressing <keycap>Enter</keycap>. A data source with a search condition should be defined in the  <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link> attribute of the component. For example:<programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;carDs&quot; class=&quot;com.company.sample.entity.Car&quot; view=&quot;_local&quot;/&gt;
&lt;collectionDatasource id=&quot;coloursDs&quot; class=&quot;com.company.sample.entity.Colour&quot; view=&quot;_local&quot;&gt;
    &lt;query&gt;
        select c from sample$Colour c
        where c.name like :(?i)custom$searchString
    &lt;/query&gt;
&lt;/collectionDatasource&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;searchPickerField datasource=&quot;carDs&quot; property=&quot;colour&quot; optionsDatasource=&quot;coloursDs&quot;/&gt;</programlisting></para>
          <para>In this case, the component will look for instances of  <code>Colour</code> entity according to the occurrence of the substring in its  <code>name</code> attribute. The  <code>(?i)</code> prefix is used for case-insensitive search (see  <xref linkend="datasource_query_case_insensitive"/>). The selected value will be put into the <code>colour</code> attribute of the  <code>Car</code> entity located in the   <code>carDs</code> datasource.</para>
        </listitem>
        <listitem>
          <para id="gui_attr_searchPickerField_minSearchStringLength">Using the  <sgmltag>minSearchStringLength</sgmltag> attribute the minimum number of characters, which the user should enter to search for values, can be defined.</para>
        </listitem>
        <listitem>In the screen controller two component methods can be implemented that will be invoked:<itemizedlist>
            <listitem>
              <para>If the number of entered characters is less than the value of  <code>minSearchStringLength</code> attribute.</para>
            </listitem>
            <listitem>
              <para>If the search of characters entered by the user has returned no results.</para>
            </listitem>
          </itemizedlist><para>Below is an example of implementing methods to display on-screen messages:<programlisting language="java">@Inject
private SearchPickerField colourField;

@Override
public void init(Map&lt;String, Object&gt; params) {
colourField.setSearchNotifications(new SearchField.SearchNotifications() {
    @Override
    public void notFoundSuggestions(String filterString) {
        showNotification(&quot;No colours found for search string: &quot; + filterString,
            NotificationType.TRAY);
    }

    @Override
    public void needMinSearchStringLength(String filterString, int minSearchStringLength) {
        showNotification(&quot;Minimum length of search string is &quot; + minSearchStringLength,
            NotificationType.TRAY);
    }
});
}</programlisting></para></listitem>
        <listitem>
          <para><code>SearchPickerField</code> implements <link linkend="gui_LookupField">LookupField</link> and  <link linkend="gui_PickerField">PickerField</link> interfaces. Thus, it inherits the same functionality except the default list of actions added when defining the component in XML: for <code>SearchPickerField</code> these are  <code>lookup</code> <inlinemediaobject>
              <imageobject>
                <imagedata fileref="img/lookupBtn.png"/>
              </imageobject>
            </inlinemediaobject> and <code>open</code> <inlinemediaobject>
              <imageobject>
                <imagedata fileref="img/openBtn.png"/>
              </imageobject>
            </inlinemediaobject>  actions.</para>
        </listitem>
      </itemizedlist>
      <para><sgmltag>searchPickerField</sgmltag> attributes: </para>
        <para>
            <link linkend="gui_attr_basic_align">align</link> |
            <link linkend="gui_attr_basic_caption">caption</link> |
            <link linkend="gui_attr_basic_captionProperty">captionProperty</link> |
            <link linkend="gui_attr_basic_datasource">datasource</link> |
            <link linkend="gui_attr_basic_description">description</link> |
            <link linkend="gui_attr_basic_editable">editable</link> |
            <link linkend="gui_attr_basic_enable">enable</link> |
            <link linkend="gui_attr_lookupField_filterMode">filterMode</link> |
            <link linkend="gui_attr_basic_height">height</link> |
            <link linkend="gui_attr_basic_id">id</link> |
            <link linkend="gui_attr_basic_inputPrompt">inputPrompt</link> |
            <link linkend="gui_attr_pickerField_metaclass">metaClass</link> |
            <link linkend="gui_attr_searchPickerField_minSearchStringLength">minSearchStringLength</link> |
            <link linkend="gui_attr_nullName">nullName</link> |
            <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link> |
            <link linkend="gui_attr_basic_property">property</link> |
            <link linkend="gui_attr_basic_required">required</link> |
            <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link> |
            <link linkend="gui_attr_basic_stylename">stylename</link> |
            <link linkend="gui_attr_basic_visible">visible</link> |
            <link linkend="gui_attr_basic_width">width</link>
        </para>
      <para><sgmltag>searchPickerField</sgmltag> elements:</para>
        <para>
            <link linkend="gui_Action">actions</link> |
            <link linkend="gui_validator">validator</link>
        </para>
    </section>
    <section id="gui_Table">
      <title>Table</title>
      <para>The <code>Table</code> component presents information in a table view, sorts data, manages table columns and headers and invokes actions for selected rows.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_table.png"/>
        </imageobject>
      </mediaobject>
      <para>XML-name of the component: <sgmltag>table</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_Table_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The component is implemented for both  <structname>Web Client</structname> and <structname>Desktop Client</structname>. </para>
      <para>An example of component definition in an XML-descriptor of a screen:
        <programlisting language="xml"><xi:include href="../../source/gui_vcl/table_1.xml" encoding="UTF-8" parse="text"/></programlisting>
      </para>
      <para>In the example the  <sgmltag>dsContext</sgmltag> element defines <link linkend="datasources">collectionDatasource</link>, which selects  <code>Order</code> entities using <link linkend="jpql">JPQL</link> query. For the  <code>table</code> component  <code>rows</code> element defines the data source that should be used, while  <code>columns</code> element defines which entity attributes from the datasource should be used as table columns.</para>
      <para><code>table</code> elements:</para>
      <itemizedlist>
        <listitem id="gui_element_table_rows">
          <para><sgmltag>rows</sgmltag> – a mandatory element; its  <code>datasource</code> attribute defines the  <link linkend="datasources">data source</link> to be used by the table.</para>
          <para id="gui_attr_table_headerMode">Each row can have an icon in an additional column on the left.
            Create an implementation of the <code>Table.IconProvider</code> interface in the screen controller and set
            it for the table:
            <programlisting language="java"><xi:include href="../../source/gui_vcl/tableIconProvider_1.java" encoding="UTF-8" parse="text"/></programlisting>
          </para>
        </listitem>
        <listitem id="gui_element_table_columns">
          <para><sgmltag>columns</sgmltag> – a mandatory element defining the set of columns for a table. </para>
          <para>Each column is described in a nested  <code>column</code> element with the following attributes:</para>
        <itemizedlist>
              <listitem id="gui_attr_table_column_id">
                <para><sgmltag>id</sgmltag> − a mandatory attribute, contains the name of an entity attribute displayed in the column. Can be either an attribute of the entity from the data source or a linked entity – object graph traversal is indicated with a dot. For example:
                  <programlisting language="xml"><xi:include href="../../source/gui_vcl/tableId_1.xml" encoding="UTF-8" parse="text"/></programlisting>
                </para>
              </listitem>
              <listitem id="gui_attr_table_column_caption">
                <para><sgmltag>caption</sgmltag> − an optional attribute containing the column caption. If not specified, a  <link linkend="entity_localization">localized attribute name</link> will be displayed.</para>
              </listitem>
              <listitem id="gui_attr_table_column_collapsed">
                <para><sgmltag>collapsed</sgmltag> − an optional attribute; hides the column by default when set to <code>true</code>. Users can control column’s visibility using the menu accessible via a  <inlinemediaobject>
                    <imageobject>
                      <imagedata fileref="img/gui_table_columnControl.png"/>
                    </imageobject>
                  </inlinemediaobject> button in the top right part of the table when the table’s  <code>columnControlVisible</code> attribute is not  <code>false</code>. By default,  <code>collapsed</code> is set to  <literal>false</literal>.</para>
              </listitem>
              <listitem id="gui_attr_table_column_width">
                <para><sgmltag>width</sgmltag> − an optional attribute controlling default column width.</para>
              </listitem>
              <listitem id="gui_attr_table_column_align">
                <para><sgmltag>align</sgmltag> − an optional attribute that sets text align for column cells. Possible values: <code>LEFT</code>, <code>RIGHT</code>, <code>CENTER</code>. Default is <code>LEFT</code>.</para>
              </listitem>
              <listitem id="gui_attr_table_column_editable">
                <para><sgmltag>editable</sgmltag> − an optional attribute allowing / prohibiting editing of the corresponding column in the table. In order for a column to be editable, the  <code>editable</code> attribute of the entire table (see below) should be set to <code>true</code> as well.</para>
              </listitem>
              <listitem id="gui_attr_table_column_maxTextLength">
                <para><sgmltag>maxTextLength</sgmltag> – an optional attribute allowing  to limit the number of characters in a cell. If the difference between the actual and the maximum allowed number of characters does not exceed the 10 character threshold, the &quot;extra” characters remain unhidden. To see the entire record, users need to click on its visible part. An example of a column with a 5 character limitation:</para>
                <mediaobject>
                  <imageobject>
                    <imagedata align="center" fileref="img/gui_table_column_maxTextLength.png"/>
                  </imageobject>
                </mediaobject>
              </listitem>
              <listitem id = "gui_attr_table_column_link">
                  <para><code>link</code> - if set to <code>true</code>, allows displaying a link to an entity editor in a table column (supported for <structname>Web Client</structname> only). The <code>link</code> attribute may be set to true for primitive type columns, too; in this case, the main entity editor will be opened. This approach may be used to ease the navigation: the users will be able to open entity editors simply by clicking on some key attributes.</para>
              </listitem>
              <listitem id = "gui_attr_table_column_linkScreen">
                  <para><code>linkScreen</code> - contains the identifier of the screen that is opened by clicking the link enabled in the <code>link</code> attribute.</para>
              </listitem>
              <listitem id = "gui_attr_table_column_linkScreenOpenType">
                  <para><code>linkScreenOpenType</code> - sets the screen opening mode (<code>THIS_TAB</code>, <code>NEW_TAB</code> or <code>DIALOG</code>).</para>
              </listitem>
              <listitem id = "gui_attr_table_column_linkInvoke">
                  <para><code>linkInvoke</code> - invokes the controller method instead of opening the screen.</para>
              </listitem>
              <listitem id="gui_attr_table_column_formatter">
              <para><code>column</code> element may contain a nested <link linkend="gui_formatter">formatter</link> element that allows you to represent the attribute value in a format different from the standard for this <link linkend="datatype">Datatype</link>:</para>
                <programlisting language="xml"><xi:include href="../../source/gui_vcl/tableFormatter_1.xml" encoding="UTF-8" parse="text"/></programlisting>
              </listitem>
            </itemizedlist></listitem>
        <listitem id="gui_attr_table_rowsCount">
          <para><sgmltag>rowsCount</sgmltag> − an optional element adding the  <code>RowsCount</code> component for the table; this component allows loading the table data in pages. Page size can be defined by limiting the number of records in the data source using  <code>CollectionDatasource.setMaxResults()</code> method. Typically, this is performed by a  <link linkend="gui_Filter">Filter</link> component linked to the table’s data source. However, if there is no generic filter, this method can be called directly from the screen controller.</para>
          <para><code>RowsCount</code> component can also show the total number of records returned by the current query from the datasource without extracting the records themselves. It invokes <code>AbstractCollectionDatasource.getCount()</code> when user clicks the <guilabel>?</guilabel> icon, which results in performing a database query with the same conditions as the current query, but using a <code>COUNT(*)</code> aggregate  function instead. The number retrieved is displayed instead of the <guilabel>?</guilabel> icon.</para>
        </listitem>
        <listitem>
          <para id="gui_element_table_actions"><sgmltag>actions</sgmltag> − an optional element describing the  <link linkend="gui_Action">actions</link>, related to the table. In addition to custom arbitrary actions, the element supports the following  <link linkend="standard_actions">standard actions</link>, defined in   <code>ListActionType</code> enum: <code>create</code>, <code>edit</code>, <code>remove</code>, <code>refresh</code>, <code>add</code>, <code>exclude</code>, <code>excel</code>.</para>
        </listitem>
        <listitem>
          <para><code>buttonsPanel</code> – an optional element, which adds a <link linkend="gui_ButtonsPanel">ButtonsPanel</link> container to show action buttons above the table.</para>
        </listitem>
      </itemizedlist>
      <para><code>table</code> attributes:</para>
      <itemizedlist>
        <listitem id="gui_attr_table_multiselect">
          <para><code>multiselect</code> attribute allows setting multiple selection mode for table rows. If  <code>multiselect</code> is <code>true</code>, users can select multiple rows in the table using keyboard or mouse holding <keycap>Ctrl</keycap> or <keycap>Shift</keycap> keys. By default, multiple selection mode is switched off.</para>
        </listitem>
        <listitem id="gui_attr_table_sortable">
          <para><sgmltag>sortable</sgmltag> attribute enables sorting data in the table. By default, it is set to
            <literal>true</literal>. If sorting is allowed, clicking a column header will show a
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="img/gui_sortable_down.png"/>
              </imageobject>
            </inlinemediaobject>/<inlinemediaobject>
              <imageobject>
                <imagedata fileref="img/gui_sortable_up.png"/>
              </imageobject>
            </inlinemediaobject> icon to the right of the column name.</para>
          <para>
            Table sorting can be performed differently depending on whether all the records can be placed on one
            page or not. If they can, sorting is performed in memory without database queries. If there is more than one
            page, sorting is performed in the database by sending a new query with the corresponding <code>ORDER BY</code>
            condition.
          </para>
          <para>
            A table column may refer to a local attribute or a linked entity. For example:
            <programlisting language="xml"><xi:include href="../../source/gui_vcl/tableSortable_1.xml" encoding="UTF-8" parse="text"/></programlisting>
            In the latter case, the database sorting will be performed by attributes defined in the <code>@NamePattern</code>
            annotation of the related entity. If the entity has no such annotation, the sorting will be performed in
            memory only within the current page.
          </para>
          <para>
            If the column refers to a non-persistent entity attribute, the database sorting will be performed by
            attributes defined in the <code>related()</code> parameter of the <code>@MetaProperty</code> annotation.
            If no related attributes are specified, the sorting will be performed in memory only within the current page.
          </para>
        </listitem>
        <listitem id="gui_attr_table_presentations">
          <para><sgmltag>presentations</sgmltag> attribute controls the mechanism of <link linkend="gui_Table_presentations">presentations</link>. By default, the value is <literal>false</literal>. If the attribute value is  <literal>true</literal>, a corresponding icon is added to the top right corner of the table  <inlinemediaobject>
              <imageobject>
                <imagedata fileref="img/gui_presentation.png"/>
              </imageobject>
            </inlinemediaobject>. The mechanism of presentations is implemented for the  <structname>Web Client</structname> only.</para>
        </listitem>
        <listitem id="gui_attr_table_columnControlVisible">
          <para>Setting  <sgmltag>columnControlVisible</sgmltag> attribute to  <code>false</code> forbids the user to hide columns using the drop-down menu of the  <inlinemediaobject>
              <imageobject>
                <imagedata fileref="img/gui_table_columnControl.png"/>
              </imageobject>
            </inlinemediaobject> button in the right part of the table header. Currently displayed columns are marked with checkmarks in the menu.</para>
          <mediaobject>
            <imageobject>
              <imagedata align="center" fileref="img/gui_table_columnControl_all.png"/>
            </imageobject>
          </mediaobject>
        </listitem>
        <listitem>
          <para id="gui_attr_table_reorderingAllowed">Setting  <sgmltag>reorderingAllowed</sgmltag> attribute to <code>false</code> forbids users to change columns order by dragging them with a mouse. </para>
        </listitem>
        <listitem>
          <para id="gui_attr_table_allowPopupMenu"><sgmltag>contextMenuEnabled</sgmltag> attribute enables the context menu. By default this attribute is set to  <sgmltag>true</sgmltag>. The context menu shows table actions (if any) and the <structname>System Information</structname> item containing information on the selected entity (if the user has    <code>cuba.gui.showInfo</code> <link linkend="permissions">permission</link>).</para>
        </listitem>
        <listitem>
          <para>Setting <sgmltag>multiLineCells</sgmltag> to  <code>true</code> enables multi-line display for cells containing several lines of text. In this mode, the web browser will load all the rows of the current table page at once, instead of lazy-loading the visible part of the table. It is required for proper scrolling in the Web Client. The default value is <code>false</code>.</para>
        </listitem>
        <listitem id="gui_attr_table_aggregatable">
          <para><code>aggregatable</code> attribute enables aggregation for table rows.
            The following operations are supported:
            <itemizedlist>
              <listitem>
                <para><code>SUM</code> – calculate the sum</para>
              </listitem>
              <listitem>
                <para><code>AVG</code> – find the average value</para>
              </listitem>
              <listitem>
                <para><code>COUNT</code> – calculate the total number</para>
              </listitem>
              <listitem>
                <para><code>MIN</code> – find the minimum value</para>
              </listitem>
              <listitem>
                <para><code>MAX</code> – find the maximum value</para>
              </listitem>
            </itemizedlist>
          </para>
          <para>The <code>aggregation</code> element should be set for aggregated table cells with the  <code>type</code> attribute, which sets the aggregation function. The aggregated table values are shown in an additional row  at the top of the table. An example of an aggregated table description:
            <programlisting language="xml"><xi:include href="../../source/gui_vcl/tableAggregatable_1.xml" encoding="UTF-8" parse="text"/></programlisting>
          </para>
          <para>A <link linkend="gui_formatter">Formatter</link> can be specified to display the aggregated value in the format other than the standard for this  <link linkend="datatype">Datatype</link>:
            <programlisting language="xml"><xi:include href="../../source/gui_vcl/tableAggregatable_2.xml" encoding="UTF-8" parse="text"/></programlisting>
          </para>
          <para>In addition to the operations listed above, you can define a custom aggregation strategy by implementing the
            <code>AggregationStrategy</code> interface and passing it to the <code>setAggregation()</code> method of
            the <code>Table.Column</code> class inside the <code>AggregationInfo</code> instance. For example:
            <programlisting language="java"><xi:include href="../../source/gui_vcl/tableAggregationStrategy_1.java" encoding="UTF-8" parse="text"/></programlisting>
            <programlisting language="java"><xi:include href="../../source/gui_vcl/tableAggregationStrategy_2.java" encoding="UTF-8" parse="text"/></programlisting>
          </para>
        </listitem>
        <listitem>
          <para><code>editable</code> attribute allows switching the table to in-place editing mode for cells. In this mode, the columns with  <code>editable = true</code> attribute show components to edit the attributes of the corresponding entity.</para>
          <para>The component type for each editable column is selected automatically based on the type of the corresponding entity attribute. For example, for string and numeric attributes, the application will use <link linkend="gui_TextField">TextField</link>, for  <code>Date</code> – <link linkend="gui_DateField">DateField</link>, for lists –  <link linkend="gui_LookupField">LookupField</link>, for links to other entities – <link linkend="gui_PickerField">PickerField</link>. </para>
          <para>For a <code>Date</code> type editable column, you can additionally define  <code>dateFormat</code> or  <code>resolution</code> attributes similar to the ones described for the  <link linkend="gui_DateField">DateField</link>.</para>
          <para><link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link> and <link linkend="gui_attr_basic_captionProperty">captionProperty</link> attributes can be additionally defined for an editable column showing a linked entity. If  <code>optionsDatasource</code> is set, the application will use <link linkend="gui_LookupField">LookupField</link> instead of  <link linkend="gui_PickerField">PickerField</link>.</para>
          <para>Custom configuration (including editing) of a cell can be performed using <code>Table.addGeneratedColumn()</code> method – see below.</para>
        </listitem>
      </itemizedlist>
      <para>Methods of the  <code>Table</code> interface:</para>
      <itemizedlist>
        <listitem>
          <para><code>getSelected()</code>, <code>getSingleSelected()</code> return instances of the entities corresponding to the selected rows of the table. A collection can be obtained by invoking  <code>getSelected()</code>. If nothing is selected, the application returns an empty set. If  <code>multiselect</code> is disabled, it is more convenient to use  <code>getSingleSelected()</code> method returning one selected entity or  <code>null</code>, if nothing is selected.</para>
        </listitem>
        <listitem>
          <para><code>addGeneratedColumn()</code>  method allows you to define custom representation of data in a column. It takes two parameters: identifier of the column and an implementation of the <code>Table.ColumnGenerator</code> interface. Identifier can match one of the identifiers set for table columns in XML-descriptor – in this case the new column is inserted instead of the one defined in XML. If the identifier does not match any of the columns, a new column is added to the right.</para>
          <para><code>generateCell()</code> method of the  <code>Table.ColumnGenerator</code> interface is invoked for each row of the table. The method receives an instance of the entity displayed in the corresponding row.  <code>generateCell()</code> method should return a visual component which will be displayed in the cell. </para>
          <para>Example of using the component:
            <programlisting language="java"><xi:include href="../../source/gui_vcl/tableColumnGenerator_1.java" encoding="UTF-8" parse="text"/></programlisting>
          </para>
          <para>In the example above, all cells within the <code>colour</code> column in the table show the <link linkend="gui_LookupPickerField">LookupPickerField</link> component. The component should save its value into the <code>colour</code> attribute of the entity which instance is displayed in the corresponding row. For this purpose   <code>getItemDatasource()</code> method is used to get the datasource for the current  entity instance from the table and pass it to the  <code>LookupPickerField</code> component.</para>
          <para>If  <code>addGeneratedColumn()</code> method receives the identifier of a column which is not declared in XML-descriptor, the header for the new column to be set as  follows:<programlisting language="java">carsTable.getColumn(&quot;colour&quot;).setCaption(&quot;Colour&quot;);</programlisting></para>
        </listitem>
        <listitem>
          <para>
            <code>setStyleProvider()</code>
            method allows setting table cell display style. The method accepts an implementation of
            <code>Table.StyleProvider</code> interface as a parameter.
            <code>getStyleName()</code> method of this interface is invoked by the table for each row and each cell
            separately. If the method is invoked for a row, the first parameter contains the entity instance displayed
            by the row, the second parameter is <code>null</code>. If the method is called for a cell, the second
            parameter contains the name of the attribute displayed by the cell.
          </para>
          <para>Example of setting a style:<programlisting language="java"><xi:include href="../../source/gui_vcl/table_setStyleProvider_1.java" encoding="UTF-8" parse="text"/></programlisting></para>
          <para>Then the cell and row styles set in the application theme should be defined. Detailed information on
            creating a theme is available in   <xref linkend="gui_themes"/>. For web client, new styles are defined in
            the <filename>styles.scss</filename> file. Style names defined in the controller, together with prefixes
            identifying table row and column form CSS selectors. For example:
            <programlisting language="css"><xi:include href="../../source/gui_vcl/table_setStyleProvider_2.css" encoding="UTF-8" parse="text"/></programlisting>
          </para>
        </listitem>
        <listitem>
          <para><code>addPrintable()</code> method allows setting a custom presentation of the data within a column
            when exporting to an XLS file via the <code>excel</code>   <link linkend="standard_actions">standard action</link>
            or  directly using the  <code>ExcelExporter</code> class. The method accepts the column identifier and an
            implementation of the  <code>Table.Printable</code> interface for the column. For example:
            <programlisting language="java"><xi:include href="../../source/gui_vcl/table_addPrintable_1.java" encoding="UTF-8" parse="text"/></programlisting>
          </para>
          <para><code>getValue()</code> method of the <code>Table.Printable</code> interface should return data to be
            displayed in the table cell. This is not necessarily a string – the method may return values of other types,
            for example, numeric data or dates, which will be represented in the XLS file accordingly. </para>
          <para>If  formatted output to XLS is required for a generated column, an implementation of the
            <code>Table.PrintableColumnGenerator</code> interface passed to the  <code>addGeneratedColumn()</code>
            method should be used. The value for a cell in an XLS document is defined in the  <code>getValue()</code>
            method of this interface:
            <programlisting language="java"><xi:include href="../../source/gui_vcl/table_addPrintable_2.java" encoding="UTF-8" parse="text"/></programlisting>
          </para>
          <para>If <code>Printable</code> presentation is not defined for a generated column in one way or another, then the column will either show the value of corresponding entity attribute or nothing if there is no associated entity attribute.</para>
        </listitem>
        <listitem>
          <para>The  <code>setItemClickAction()</code> method allows you to define an  <link linkend="gui_Action">action</link> that will be performed when a table row is double-clicked. If such action is not defined, the table will attempt to find an appropriate one in the list of its actions in the following order: <itemizedlist>
              <listitem>
                <para>The action assigned to the  <keycap>Enter</keycap> key by the  <code>shortcut</code> property</para>
              </listitem>
              <listitem>
                <para>The  <code>edit</code> action</para>
              </listitem>
              <listitem>
                <para>The <code>view</code> action</para>
              </listitem>
            </itemizedlist></para>
          <para>If such action is found, and has <code>enabled = true</code> property, the action is executed.</para>
        </listitem>
        <listitem>
          <para>The  <code>setEnterPressAction()</code> allows you to define an  <link linkend="gui_Action">action</link> executed when  <keycap>Enter</keycap> is pressed. If such action is not defined, the table will attempt to find an appropriate one in the list of its actions in the following order: <itemizedlist>
              <listitem>
                <para>The action defined by the  <code>setItemClickAction()</code> method</para>
              </listitem>
              <listitem>
                <para>The action assigned to the  <keycap>Enter</keycap> key by the  <code>shortcut</code> property</para>
              </listitem>
              <listitem>
                <para>The  <code>edit</code> action</para>
              </listitem>
              <listitem>
                <para>The <code>view</code> action</para>
              </listitem>
            </itemizedlist></para>
          <para>If such action is found, and has <code> enabled = true</code> property, the action is executed.</para>
        </listitem>
      </itemizedlist>
      <para><sgmltag>table</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row>
              <entry>
                <link linkend="gui_attr_table_allowPopupMenu">allowPopupMenu</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_table_multiselect">multiselect</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_table_columnControlVisible">columnControlVisible</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_table_presentations">presentations</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_table_reorderingAllowed">reorderingAllowed</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_margin">margin</link>
              </entry>
              <entry>
                <link linkend="gui_attr_table_sortable">sortable</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>table</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry>
                <link linkend="gui_element_table_actions">actions</link>
              </entry>
            </row>
            <row>buttonsPanel<entry>
                <link linkend="gui_ButtonsPanel">buttonsPanel</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_element_table_columns">columns</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_element_table_rows">rows</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_table_rowsCount">rowsCount</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para><link linkend="gui_element_table_columns">column</link> attributes:</para>
        <informaltable frame="none" pgwide="0" align="left">
            <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
                <row>
                    <entry align="left">
                        <link linkend="gui_attr_table_column_caption">caption</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_dateField_dateFormat">dateFormat</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_table_column_linkInvoke">linkInvoke</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link>
                    </entry>
                </row>
                <row>
                    <entry>
                        <link linkend="gui_attr_basic_captionProperty">captionProperty</link>
                    </entry>
                    <entry align="left">
                        <link linkend="gui_attr_table_column_editable">editable</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_table_column_linkScreen">linkScreen</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_dateField_resolution">resolution</link>
                    </entry>
                </row>
                <row>
                    <entry align="left">
                        <link linkend="gui_attr_basic_clickAction">clickAction</link>
                    </entry>
                    <entry align="left">
                        <link linkend="gui_attr_table_column_id">id</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_table_column_linkScreenOpenType">linkScreenOpenType</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_basic_visible">visible</link>
                    </entry>
                </row>
                <row>
                    <entry align="left">
                        <link linkend="gui_attr_table_column_collapsed">collapsed</link>
                    </entry>
                    <entry align="left">
                        <link linkend="gui_attr_table_column_link">link</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_table_column_maxTextLength">maxTextLength</link>
                    </entry>
                    <entry>
                        <link linkend="gui_attr_table_column_width">width</link>
                    </entry>
                </row>
            </tbody></tgroup>
        </informaltable>
      <para><link linkend="gui_element_table_columns">column</link> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left"><colspec colname="c1"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_formatter">formatter</link>
              </entry>editable</row>
          </tbody></tgroup>
      </informaltable>
      <para><link linkend="gui_element_table_rows">rows</link> attribute:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left"><colspec colname="c1"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>editable</row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_TextArea">
      <title>TextArea</title>
      <para><code>TextArea</code>  is a multi-line  text editor field.</para>
      <para>XML-name of the component:  <sgmltag>textArea</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_TextArea_dia.png"/>
        </imageobject>
      </mediaobject>
      <para><code>TextArea</code> component is implemented for both <structname>Web Client</structname> and <structname>Desktop Client</structname>.</para>
      <para><code>TextArea</code> mostly replicates the functionality of the <link linkend="gui_TextField">TextField</link> component except that a  <code>datatype</code> can not be assigned to it. I.e. <code>TextArea</code> is intended to be used for text and string attributes of entities only.</para>
      <para><code>TextArea</code> component has the following attributes:</para>
      <itemizedlist>
        <listitem>
          <para id="gui_attr_textArea_cols_rows"><sgmltag>cols</sgmltag> and  <sgmltag>rows</sgmltag> set the number of columns and rows of text:<programlisting language="xml">&lt;textArea id=&quot;textArea&quot; cols=&quot;20&quot; rows=&quot;5&quot; caption=&quot;msg://name&quot;/&gt;</programlisting></para>
          <para>The values of <code>width</code> and <code>height</code> have priority over the values of <code>cols</code> and <code>rows</code>.</para>
        </listitem>
        <listitem>
          <para id="gui_attr_textArea_resizable"><sgmltag>resizable</sgmltag> – if this attribute is set to  <literal>true</literal> and the number of rows is more than one, it becomes possible to change the size of the component:</para>
          <programlisting language="xml">&lt;textArea id=&quot;textArea&quot; resizable=&quot;true&quot; caption=&quot;msg://name&quot; rows=&quot;5&quot;/&gt;</programlisting>
          <mediaobject>
            <imageobject>
              <imagedata align="center" fileref="img/gui_textField_resizable.png"/>
            </imageobject>
          </mediaobject>
        </listitem>
      </itemizedlist>
      <para><sgmltag>textArea</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="5" colsep="1" rowsep="1" align="left"><colspec colname="c0"/><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry>
                <link linkend="gui_attr_basic_align">align</link>
              </entry><entry>
                <link linkend="gui_attr_basic_description">description</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link>
              </entry><entry align="left">
                <link linkend="gui_attr_textField_trim">trim</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_textField_maxLength">maxLength</link>
              </entry>
              <entry>
                <link linkend="gui_attr_textArea_resizable">resizable</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_textArea_cols_rows">cols</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_property">property</link>
              </entry>
              <entry>
                <link linkend="gui_attr_textArea_cols_rows">rows</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_required">required</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_TextField">
      <title>TextField</title>
      <para><code>TextField</code> is a component for text editing. It can be used both for working with entity attributes and entering/displaying arbitrary textual information.</para>
      <para>XML-name of the component:  <sgmltag>textField</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_TextField_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>Text field component is implemented for both  <structname>Web Client</structname> and <structname>Desktop Client</structname>.</para>
      <itemizedlist>
        <listitem><para>An example of a text field with a caption retrieved from the  <link linkend="message_packs">localized messages pack</link>:<programlisting language="xml">&lt;textField id=&quot;nameField&quot; caption=&quot;msg://name&quot;/&gt;</programlisting></para>The figure below shows an example of a simple text field.<mediaobject>
            <imageobject>
              <imagedata align="center" fileref="img/gui_textField.png"/>
            </imageobject>
          </mediaobject></listitem>
        <listitem>
          <para>To create a text field connected to data, <link linkend="gui_attr_basic_datasource">datasource</link> and  <link linkend="gui_attr_basic_property">property</link> attributes should be used.<programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;customerDs&quot; class=&quot;com.sample.sales.entity.Customer&quot; view=&quot;_local&quot;/&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;textField datasource=&quot;customerDs&quot; property=&quot;name&quot; caption=&quot;msg://name&quot;/&gt;</programlisting></para>
          <para>As you can see in the example, the screen describes the  <literal>customerDs</literal> <link linkend="datasources">datasource</link> for     <code>Customer</code> entity, which has  <code>name</code> attribute. The text field component has a link to the data source specified in the  <link linkend="gui_attr_basic_datasource">datasource</link> attribute;  <link linkend="gui_attr_basic_property">property</link> attribute contains the name of the entity attribute that should be displayed in the text field.</para>
          <mediaobject>
            <imageobject>
              <imagedata align="center" fileref="img/gui_textField_data.png"/>
            </imageobject>
          </mediaobject>
        </listitem>
        <listitem>
          <para id="gui_attr_textField_datatype">If the field is not connected to an entity attribute (i.e. the data source and attribute name are not set), you can set the data type using the  <sgmltag>datatype</sgmltag> attribute. It is used to format field values. The attribute value accepts any data type registered in the application metadata – see <xref linkend="datatype"/>. Typically,  <code>TextField</code> uses the following data types:</para>
          <itemizedlist>
            <listitem>
              <para><literal>decimal</literal></para>
            </listitem>
            <listitem>
              <para><literal>double</literal></para>
            </listitem>
            <listitem>
              <para><literal>int</literal></para>
            </listitem>
            <listitem>
              <para><literal>long</literal></para>
            </listitem>
          </itemizedlist>
          <para>As an example, let’s look at a text field with an  <literal>Integer</literal> data type. <programlisting language="xml">&lt;textField id=&quot;integerField&quot; datatype=&quot;int&quot; caption=&quot;msg://integerFieldName&quot;/&gt;</programlisting></para>
          <para>If a user enters a value that cannot be interpreted as an integer number, then when the field looses focus, the application will show an error message and revert field value to the previous one:</para>
          <mediaobject>
            <imageobject>
              <imagedata align="center" fileref="img/gui_textField_int.png"/>
            </imageobject>
          </mediaobject>
        </listitem>
        <listitem>
          <para>Text field can be assigned a <link linkend="gui_validator">validator</link> – a class implementing  <code>Field.Validator</code> interface. The validator limits user input in addition to what is already done by the <code>datatype</code>. For example, to create an input field for positive integer numbers, you need to create a validator class: <programlisting language="java">public class PositiveIntegerValidator implements Field.Validator {
@Override
public void validate(Object value) throws ValidationException {
    Integer i = (Integer) value;
    if (i &lt;= 0)
        throw new ValidationException(&quot;Value must be positive&quot;);
}
}</programlisting></para>
          <para>and assign it as a validator to the text field with    <code>int</code> datatype:<programlisting language="xml">&lt;textField id=&quot;integerField&quot; datatype=&quot;int&quot;&gt;
&lt;validator class=&quot;com.sample.sales.gui.PositiveIntegerValidator&quot;/&gt;
&lt;/textField&gt;</programlisting></para>
          <para>Unlike  input check against the data type,  validation is performed not when the field looses focus, but after  invocation of the field’s <code>validate()</code> method. It means that the field (and the linked entity attribute) may temporarily contain a value that does not satisfy validation conditions (a non-positive number in the example above). This should not be an issue, because validated fields are typically used in <link linkend="screen_edit">editor screens</link>, which automatically invoke validation for all their fields before commit. If the field is located not in an editing screen, the field’s <code>validate()</code> method should be invoked explicitly in the controller.</para>
        </listitem>
        <listitem id="gui_attr_textField_maxLength">
          <para>If a text field is linked to an entity attribute (via  <code>datasource</code> and  <code>property</code>), and if the entity attribute has a <code>length</code> parameter defined in the <code>@Column</code> JPA-annotation, then the <code>TextField</code> will limit the maximum length of entered text accordingly.</para>
          <para>If a text field is not linked to an attribute, or if the attribute does not have  <code>length</code> value defined, or this value needs to be overridden, then the maximum length of the entered text can be limited using  <sgmltag>maxLength</sgmltag> attribute. The value of &quot;-1&quot; means there are no limitations. For example:<programlisting language="xml">&lt;textField id=&quot;shortTextField&quot; maxLength=&quot;10&quot;/&gt;</programlisting></para>
        </listitem>
        <listitem id="gui_attr_textField_trim">
          <para>By default, text field trims spaces at the beginning and at the end of the entered string. I.e. if user enters      &quot;                <userinput> aaa bbb </userinput> &quot;, the value of the field returned by the  <code>getValue()</code> method and saved to the linked entity attribute will be &quot;<userinput>aaa bbb</userinput>&quot;. You can disable trimming of spaces by setting the  <sgmltag>trim</sgmltag> attribute to  <code>false</code>.</para>
          <para>It should be noted that trimming only works when users enter a new value. If the value of the linked attribute already has spaces in it, the spaces will be displayed until user edits the value.</para>
        </listitem>
        <listitem>
          <para>Text field always returns  <code>null</code> instead of an entered empty string. Therefore, with the   <sgmltag>trim</sgmltag> attribute enabled, any string containing spaces only will be converted to  <code>null</code>.</para>
        </listitem>
        <listitem>
          <para>The <code>setCursorPosition()</code> method can be used to focus the field and set the cursor
            position to the specified 0-based index.</para>
        </listitem>
      </itemizedlist>
      <para><sgmltag>textField</sgmltag> attributes:</para>
        <para>
            <link linkend="gui_attr_basic_align">align</link> |
            <link linkend="gui_attr_basic_caption">caption</link> |
            <link linkend="gui_attr_basic_datasource">datasource</link> |
            <link linkend="gui_attr_textField_datatype">datatype</link> |
            <link linkend="gui_attr_basic_description">description</link> |
            <link linkend="gui_attr_basic_editable">editable</link> |
            <link linkend="gui_attr_basic_enable">enable</link> |
            <link linkend="gui_attr_basic_height">height</link> |
            <link linkend="gui_attr_basic_id">id</link> |
            <link linkend="gui_attr_basic_inputPrompt">inputPrompt</link> |
            <link linkend="gui_attr_textField_maxLength">maxLength</link> |
            <link linkend="gui_attr_basic_property">property</link> |
            <link linkend="gui_attr_basic_required">required</link> |
            <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link> |
            <link linkend="gui_attr_basic_stylename">stylename</link> |
            <link linkend="gui_attr_textField_trim">trim</link> |
            <link linkend="gui_attr_basic_visible">visible</link> |
            <link linkend="gui_attr_basic_width">width</link>
        </para>
      <para><sgmltag>textField</sgmltag> elements:</para>
        <para><link linkend="gui_validator">validator</link></para>
    </section>
    <section id="gui_TimeField">
      <title>TimeField</title>
      <para><code>TimeField</code> is a field to display and enter date and time values.</para>
      <mediaobject>
        <imageobject>
          <imagedata fileref="img/gui_timeField.png"/>
        </imageobject>
      </mediaobject>
      <para>XML-name of the component:  <sgmltag>timeField</sgmltag>.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_timeField_dia.png"/>
        </imageobject>
      </mediaobject>
      <para><code>TimeField</code> component is implemented for both   <structname>Web Client</structname> and <structname>Desktop Client</structname>.</para>
      <itemizedlist>
        <listitem>
          <para>To create a date field associated with data, <link linkend="gui_attr_basic_datasource">datasource</link> and  <link linkend="gui_attr_basic_property">property</link> attributes should be used:</para>
          <programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;orderDs&quot; class=&quot;com.sample.sales.entity.Order&quot; view=&quot;_local&quot;/&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;timeField datasource=&quot;orderDs&quot; property=&quot;deliveryTime&quot;/&gt;</programlisting>
          <para>As you can see in the example above, the screen defines the <code>orderDs</code> <link linkend="datasources">data source</link> for <code>Order</code> entity, which has <code>deliveryTime</code> attribute. The <code>datasource</code> attribute of the time input component contains a link to the <code>datasource</code>, and the <code>property</code> attribute – the name of the entity attribute displayed in the field.</para>
          <para>Related entity attribute should have  <code>java.util.Date</code> or <code>java.sql.Time</code> type.</para>
        </listitem>
        <listitem>
          <para>The time format for representation is defined by the <code>time</code> <link linkend="datatype">datatype</link> and is specified in the   <link linkend="main_message_pack">main localized messages pack</link> in the  <code>timeFormat</code> key.</para>
        </listitem>
        <listitem id="gui_attr_timeField_timeFormat">
          <para>The time format can also be specified in the <code>timeFormat</code> attribute. It can be either a
            format string, or a key in a message pack (with the <code>msg://</code> prefix).</para>
        </listitem>
        <listitem id="gui_attr_timeField_showSeconds">
          <para>Regardless of the mentioned above format display of seconds can be controlled using  <sgmltag>showSeconds</sgmltag> attribute. By default, seconds are displayed if the format contains &quot;<code>ss&quot;</code>.<programlisting language="xml">&lt;timeField datasource=&quot;orderDs&quot; property=&quot;createTs&quot; showSeconds=&quot;true&quot;/&gt;</programlisting><mediaobject>
              <imageobject>
                <imagedata fileref="img/gui_timeFieldSec.png"/>
              </imageobject>
            </mediaobject></para>
        </listitem>
      </itemizedlist>
      <para><sgmltag>timeField</sgmltag> attributes:
        <link linkend="gui_attr_basic_align">align</link> |
        <link linkend="gui_attr_basic_caption">caption</link> |
        <link linkend="gui_attr_basic_editable">editable</link> |
        <link linkend="gui_attr_basic_enable">enable</link> |
        <link linkend="gui_attr_basic_datasource">datasource</link> |
        <link linkend="gui_attr_basic_description">description</link> |
        <link linkend="gui_attr_basic_height">height</link> |
        <link linkend="gui_attr_basic_id">id</link> |
        <link linkend="gui_attr_basic_property">property</link> |
        <link linkend="gui_attr_basic_required">required</link> |
        <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link> |
        <link linkend="gui_attr_timeField_showSeconds">showSeconds</link> |
        <link linkend="gui_attr_basic_stylename">stylename</link> |
        <link linkend="gui_attr_timeField_timeFormat">timeFormat</link> |
        <link linkend="gui_attr_basic_visible">visible</link> |
        <link linkend="gui_attr_basic_width">width</link>
      </para>
      <para><sgmltag>timeField</sgmltag> elements:
        <link linkend="gui_validator">validator</link>
      </para>
    </section>
    <section id="gui_TokenList">
      <title>TokenList</title>
      <para><code>TokenList</code> component offers a simplified way of working with lists: instance names are listed vertically or horizontally, adding is done using drop-down list, removal – using the buttons located near each instance.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_tokenList.png"/>
        </imageobject>
      </mediaobject>
      <para>XML-name of the component: <sgmltag>tokenList</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_TokenList_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The component is implemented for both <structname>Web Client</structname> and <structname>Desktop Client</structname>.</para>
      <para>Below is an example description of  <code>TokenList</code> in an XML-descriptor of a screen:<programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;orderDs&quot;
            class=&quot;com.sample.sales.entity.Order&quot;
            view=&quot;order-edit&quot;&gt;
    &lt;collectionDatasource id=&quot;productsDs&quot; property=&quot;products&quot;/&gt;
&lt;/datasource&gt;
&lt;collectionDatasource id=&quot;allProductsDs&quot;
                      class=&quot;com.sample.sales.entity.Product&quot;
                      view=&quot;_minimal&quot; &gt;
    &lt;query&gt;select p from sales$Product p order by p.name&lt;/query&gt;
&lt;/collectionDatasource&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;tokenList id=&quot;productsList&quot; datasource=&quot;productsDs&quot; inline=&quot;true&quot; width=&quot;500px&quot;&gt;
    &lt;lookup optionsDatasource=&quot;allProductsDs&quot;/&gt;
    &lt;button caption=&quot;msg://add&quot;/&gt;
&lt;/tokenList&gt;</programlisting></para>
      <para>In the example the nested <code>productsDs</code> <link linkend="datasources">datasource</link> which includes a collection of products within an order is defined in <code>dsContext</code>, as well as <code>allProductsDs</code> datasource containing a collection of all products available in the database. The <code>TokenList</code> component with <code>productsList</code> identifier displays the content of the <code>productsDs</code> datasource and allows changing the collection by adding instances from <code>allProductsDs</code>.</para>
      <para><code>tokenList</code> attributes:<itemizedlist>
          <listitem>
            <para id="gui_attr_tokenList_position"><sgmltag>position</sgmltag> – sets the position for the drop-down list. The attribute can take two values: <code>TOP</code>, <code>BOTTOM</code>. Default is  <code>TOP</code>.</para>
            <mediaobject>
              <imageobject>
                <imagedata align="center" fileref="img/gui_tokenListBottom.png"/>
              </imageobject>
            </mediaobject>
          </listitem>
          <listitem>
            <para id="gui_attr_tokenList_inline"><code>inline</code> attribute defines how the list with selected items will be displayed: vertically or horizontally. <code>true</code> corresponds to horizontal alignment, <code>false</code> – to vertical. An example of a component with horizontal alignment:</para>
            <mediaobject>
              <imageobject>
                <imagedata align="center" fileref="img/gui_tokenListInline.png"/>
              </imageobject>
            </mediaobject>
          </listitem>
          <listitem>
            <para id="gui_attr_tokenList_simple"><sgmltag>simple</sgmltag> – when set to <code>true</code>, the items selection component will be hidden with only the <guibutton>Add</guibutton> button left. Clicking the <guibutton>Add</guibutton> button opens the screen with the list of entity instances which type is defined by the datasource. Selection screen identifier is selected according to the rules for the <code>PickerField.LookupAction</code> standard action.</para>
          </listitem>
        </itemizedlist></para>
      <para><code>tokenList</code> elements:<itemizedlist>
          <listitem id="gui_element_tokenList_lookup">
            <para><sgmltag>lookup</sgmltag> − values selection component descriptor.</para>
            <para>Attributes of the  <code>lookup</code> attribute:</para>
            <para><itemizedlist>
                <listitem id="gui_attr_tokenList_lookup_lookup">
                  <para><sgmltag>lookup</sgmltag> attribute makes it possible to select items using an entity lookup screen:</para>
                  <mediaobject>
                    <imageobject>
                      <imagedata align="center" fileref="img/gui_tokenListLookup.png"/>
                    </imageobject>
                  </mediaobject>
                </listitem>
                <listitem id="gui_attr_tokenList_lookup_lookupScreen">
                  <para><code>lookupScreen</code> attribute sets the identifier of the screen used for items selection in <code>lookup=&quot;true&quot;</code> mode. If this attribute is not set, screen identifier is selected according to the rules for the <code>PickerField.LookupAction</code>    <link linkend="standard_actions">standard action</link>.</para>
                </listitem>
                <listitem id="gui_attr_tokenList_lookup_openType">
                  <para><sgmltag>openType</sgmltag> attribute defines how the lookup screen will be opened, similar to what is described for the   <code>PickerField.LookupAction</code> <link linkend="standard_actions">standard action</link>. Default value –  <literal>THIS_TAB</literal>.</para>
                </listitem>
                <listitem>
                  <para id="gui_attr_tokenList_lookup_multiselect">If the value of the     <sgmltag>multiselect</sgmltag> attribute is set to  <code>true</code>, then a value of <code>true</code> will be passed to parameters map of the lookup screen for the <code>MULTI_SELECT</code> key. This flag can be used to set the screen into multiple selection mode. This flag is defined in the <code>WindowParams</code> enum so it is convenient to work with it in the following way:<programlisting language="java">@Override
public void init(Map&lt;String, Object&gt; params) {
if (WindowParams.MULTI_SELECT.getBool(getContext())) {
    usersTable.setMultiSelect(true);
}
}</programlisting></para>
                </listitem>
              </itemizedlist></para>
          </listitem>
          <listitem id="gui_element_tokenList_button">
            <para><sgmltag>button</sgmltag> – descriptor of the button for adding items. Can contain <link linkend="gui_attr_basic_caption">caption</link> and <link linkend="gui_attr_basic_icon">icon</link> attributes.</para>
          </listitem>
        </itemizedlist></para>
      <para>A full list of <sgmltag>tokenList</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry><entry align="left">
                <link linkend="gui_attr_tokenList_inline">inline</link>
              </entry><entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry></row>
            <row><entry>
                <link linkend="gui_attr_basic_captionProperty">captionProperty</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>required<entry>
                <link linkend="gui_attr_tokenList_position">position</link>
              </entry><entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry></row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry>
                <link linkend="gui_attr_tokenList_simple">simple</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>tokenList</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry align="left">
                <link linkend="gui_element_tokenList_button">button</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_element_tokenList_lookup">lookup</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>A full list of <link linkend="gui_element_tokenList_lookup">lookup</link> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="3" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_captionProperty">captionProperty</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_tokenList_lookup_lookupScreen">lookupScreen</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link>
              </entry></row>
            <row><entry>
                <link linkend="gui_attr_lookupField_filterMode">filterMode</link>
              </entry><entry align="left">
                <link linkend="gui_attr_tokenList_lookup_multiselect">multiselect</link>
              </entry>required</row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_tokenList_lookup_lookup">lookup</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_tokenList_lookup_openType">openType</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><link linkend="gui_element_tokenList_button">button</link> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left"><colspec colname="c1"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>editable</row>
            <row><entry>
                <link linkend="gui_attr_basic_icon">icon</link>
              </entry>required</row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_Tree">
      <title>Tree</title>
      <para>The  <code>Tree</code> component is intended to display hierarchical structures represented by entities referencing themselves.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_Tree.png"/>
        </imageobject>
      </mediaobject>
      <para>XML-name of the component:  <sgmltag>tree</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_tree_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The component is implemented for  both <structname>Web Client</structname> and <structname>Desktop Client</structname>. </para>
      <para>For the <code>Tree</code> component, the <code>datasource</code> attribute of the  <code>treechildren</code> element should contain a reference to a <link linkend="datasources">hierarchicalDatasource</link>. Declaration of a  <code>hierarchicalDatasource</code> should contain a  <code>hierarchyProperty</code> attribute – the name of the entity attribute which is a reference to same entity.</para>
      <para>Below is an example of the  <code>Tree</code> component description in a screen XML-descriptor:<programlisting language="xml">&lt;dsContext&gt;
&lt;hierarchicalDatasource id=&quot;departmentsDs&quot; class=&quot;com.sample.sales.entity.Department&quot; view=&quot;browse&quot;
                        hierarchyProperty=&quot;parentDept&quot;&gt;
    &lt;query&gt;
        select d from sales$Department d order by d.createTs
    &lt;/query&gt;
&lt;/hierarchicalDatasource&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;tree id=&quot;departmentsTree&quot; width=&quot;100%&quot; height=&quot;100%&quot;&gt;
    &lt;treechildren datasource=&quot;departmentsDs&quot; captionProperty=&quot;name&quot;/&gt;
&lt;/tree&gt;</programlisting></para>
      <para id="gui_element_tree_treechildren">The name of the entity attribute to be displayed in the tree can be set using the  <code>captionProperty</code> attribute of the  <sgmltag>treechildren</sgmltag> element. If this attribute is not defined, the screen will show the entity <link linkend="namePattern">instance name</link>.</para>
        <para>The <code>setItemClickAction()</code> method may be used to define an <link linkend="gui_Action">action</link> that will be performed when a tree node is double-clicked.</para>
        <para><sgmltag>tree</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="2" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/>c <tbody>
            <row><entry>
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry><entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>editable</row>
            <row><entry>
                <link linkend="gui_attr_basic_height">height</link>
              </entry><entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>required</row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>tree</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left"><colspec colname="c1"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_element_table_actions">actions</link>
              </entry>editable</row>
            <row><entry>
                <link linkend="gui_element_tree_treechildren">treechildren</link>
              </entry>required</row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>treechildren</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left"><colspec colname="c1"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_captionProperty">captionProperty</link>
              </entry>editable</row>
            <row><entry>
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>required</row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_TreeTable">
      <title>TreeTable</title>
      <para><code>TreeTable</code> component is a hierarchical table displaying a tree-like structure in the leftmost column. The component is used for entities that have references to themselves. For example, it can be a file system or a company organization chart.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_treeTable.png"/>
        </imageobject>
      </mediaobject>
      <para>XML-name of the component: <sgmltag>treeTable</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_TreeTable_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The component is implemented for both  <structname>Web Client</structname> and <structname>Desktop Client</structname>. </para>
      <para>For      <code>TreeTable</code>,  the <link linkend="datasources">hierarchicalDatasource</link> should be set in the  <code>datasource</code> attribute of the    <code>rows</code> element. Declaration of a <code>hierarchicalDatasource</code> should contain  <code>hierarchyProperty</code> attribute – the name of the entity attribute which references the same entity.</para>
      <para>Below is an example of component description in a screen XML descriptor:<programlisting language="xml">&lt;dsContext&gt;
&lt;hierarchicalDatasource id=&quot;tasksDs&quot; class=&quot;com.sample.sales.entity.Task&quot; view=&quot;browse&quot;
                        hierarchyProperty=&quot;parentTask&quot;&gt;
    &lt;query&gt;
        select t from sales$Task t
    &lt;/query&gt;
&lt;/hierarchicalDatasource&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;treeTable id=&quot;tasksTable&quot; width=&quot;100%&quot;&gt;
    &lt;columns&gt;
        &lt;column id=&quot;name&quot;/&gt;
        &lt;column id=&quot;dueDate&quot;/&gt;
        &lt;column id=&quot;assignee&quot;/&gt;
    &lt;/columns&gt;
    &lt;rows datasource=&quot;tasksDs&quot;/&gt;
&lt;/treeTable&gt;</programlisting></para>
      <para>The functionality of  <code>TreeTable</code> is similar to a simple  <link linkend="gui_Table">Table</link>.</para>
      <para><sgmltag>treeTable</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_table_allowPopupMenu">allowPopupMenu</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry><entry>
                <link linkend="gui_attr_table_reorderingAllowed">reorderingAllowed</link>
              </entry><entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>editable</row>
            <row>
              <entry>
                <link linkend="gui_attr_table_columnControlVisible">columnControlVisible</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_table_sortable">sortable</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_table_multiselect">multiselect</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry>
                <link linkend="gui_attr_table_presentations">presentations</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>treeTable</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry>
                <link linkend="gui_element_table_actions">actions</link>
              </entry>
            </row>
            <row>buttonsPanel<entry>
                <link linkend="gui_ButtonsPanel">buttonsPanel</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_element_table_columns">columns</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_element_table_rows">rows</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para><link linkend="gui_element_table_columns">column</link> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="3" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/>c <tbody>
            <row>
              <entry align="left">
                <link linkend="gui_attr_table_column_caption">caption</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_dateField_dateFormat">dateFormat</link>
              </entry>
              <entry>
                <link linkend="gui_attr_dateField_resolution">resolution</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_captionProperty">captionProperty</link>
              </entry>
              <entry>
                <link linkend="gui_attr_table_column_editable">editable</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_clickAction">clickAction</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_table_column_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_table_column_width">width</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_table_column_collapsed">collapsed</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><link linkend="gui_element_table_columns">column</link> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left"><colspec colname="c1"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_formatter">formatter</link>
              </entry>editable</row>
          </tbody></tgroup>
      </informaltable>
      <para><link linkend="gui_element_table_rows">rows</link> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left"><colspec colname="c1"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>editable</row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_TwinColumn">
      <title>TwinColumn</title>
      <para><code>TwinColumn</code> is a twin list component for multiple items selection. The left part of the list contains available unselected values, the right part – selected values. Users select the values by transferring them from the left to the right and backward using double click or dedicated buttons. A unique representation style and an icon can be defined for each value.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/TwinColumn.png"/>
        </imageobject>
      </mediaobject>
      <para>XML name of the component: <sgmltag>twinColumn</sgmltag></para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_TwinColumn_dia.png"/>
        </imageobject>
      </mediaobject>
      <para>The component is implemented  for <structname>Web Client</structname> only.</para>
      <para>Below is an example of a  <sgmltag>twinColumn</sgmltag> component usage to select entity instances:<programlisting language="xml">&lt;dsContext&gt;
&lt;datasource id=&quot;carDs&quot; class=&quot;com.company.sample.entity.Car&quot; view=&quot;_local&quot;/&gt;
&lt;collectionDatasource id=&quot;coloursDs&quot; class=&quot;com.company.sample.entity.Colour&quot; view=&quot;_local&quot;&gt;
    &lt;query&gt;select c from sample$Colour c&lt;/query&gt;
&lt;/collectionDatasource&gt;
&lt;/dsContext&gt;
&lt;layout&gt;
&lt;twinColumn id=&quot;coloursField&quot; optionsDatasource=&quot;coloursDs&quot; addAllBtnEnabled=&quot;true&quot;/&gt;</programlisting></para>
      <para>In this example, the <code>coloursField</code> component will display <code>Colour</code> entity instances names  located in the <code>coloursDs</code> <link linkend="datasources">data source</link> and its <code>getValue()</code> method will return a collection of selected entity instances.</para>
      <para><code>addAllBtnEnabled</code> attribute shows the buttons moving all items between the lists.</para>
      <para id="gui_attr_twinColumn_columns_rows"><sgmltag>columns</sgmltag> attribute is used to set the number of characters in a row, and the  <sgmltag>rows</sgmltag> attribute – to set the number of rows in each list.</para>
      <para>The presentation of the items can be defined by implementing the <code>TwinColumn.StyleProvider</code> interface and returning a style name and icon path for each entity instance displayed in the component.</para>
      <para>The list of component options can be specified arbitrarily using    <code>setOptionsList()</code> and <code>setOptionsMap()</code> as described for the  <link linkend="gui_OptionsGroup">OptionsGroup</link> component.</para>
      <para><sgmltag>twinColumn</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_editable">editable</link>
              </entry><entry>
                <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link>
              </entry><entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry></row>
            <row><entry>
                <link linkend="gui_attr_basic_captionProperty">captionProperty</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry><entry align="left">
                <link linkend="gui_attr_basic_required">required</link>
              </entry><entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>required</row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_twinColumn_columns_rows">columns</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_requiredMessage">requiredMessage</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_datasource">datasource</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_twinColumn_columns_rows">rows</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_description">description</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_property">property</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>twinColumn</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="1" colsep="1" rowsep="1" align="left">
          <colspec colname="c1"/>
          <tbody>
            <row>
              <entry align="left">
                <link linkend="gui_validator">validator</link>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
  </section>
  <section id="gui_layouts">
    <title>Containers</title>
    <para><link linkend="gui_BoxLayout">BoxLayout</link></para>
    <para><link linkend="gui_ButtonsPanel">ButtonsPanel</link></para>
    <para><link linkend="gui_IFrame">IFrame</link></para>
    <para><link linkend="gui_GridLayout">GridLayout</link></para>
    <para><link linkend="gui_GroupBoxLayout">GroupBoxLayout</link></para>
    <para><link linkend="gui_ScrollBoxLayout">ScrollBoxLayout</link></para>
    <para><link linkend="gui_SplitPanel">SplitPanel</link></para>
    <para><link linkend="gui_TabSheet">TabSheet</link></para>
    <section id="gui_BoxLayout">
      <title>BoxLayout</title>
      <para><code>BoxLayout</code> is a container with sequential placement of components.</para>
      <para>There are three types of  <code>BoxLayout</code>, identified by the XML-elements:</para>
      <itemizedlist>
        <listitem>
          <para><sgmltag>hbox</sgmltag> − components are placed horizontally.</para>
          <mediaobject>
            <imageobject>
              <imagedata align="center" fileref="img/gui_hbox.png"/>
            </imageobject>
          </mediaobject>
          <programlisting language="xml">&lt;hbox spacing=&quot;true&quot; margin=&quot;true&quot;&gt;
&lt;dateField datasource=&quot;orderDs&quot; property=&quot;date&quot;/&gt;
&lt;lookupField datasource=&quot;orderDs&quot; property=&quot;customer&quot; optionsDatasource=&quot;customersDs&quot;/&gt;
&lt;textField datasource=&quot;orderDs&quot; property=&quot;amount&quot;/&gt;
&lt;/hbox&gt;</programlisting>
        </listitem>
        <listitem>
          <para><sgmltag>vbox</sgmltag> − components are placed vertically.  <sgmltag>vbox</sgmltag> has 100% width by default.</para>
          <mediaobject>
            <imageobject>
              <imagedata align="center" fileref="img/gui_vbox.png"/>
            </imageobject>
          </mediaobject>
          <programlisting language="xml">&lt;vbox spacing=&quot;true&quot; margin=&quot;true&quot;&gt;
&lt;dateField datasource=&quot;orderDs&quot; property=&quot;date&quot;/&gt;
&lt;lookupField datasource=&quot;orderDs&quot; property=&quot;customer&quot; optionsDatasource=&quot;customersDs&quot;/&gt;
&lt;textField datasource=&quot;orderDs&quot; property=&quot;amount&quot;/&gt;
&lt;/vbox&gt;</programlisting>
        </listitem>
        <listitem>
          <para><sgmltag>flowBox</sgmltag> − components are placed horizontally with line wrapping. If there is not enough  space in a line, the components that do not fit will be displayed in the next line (the behavior is similar to Swing  <code>FlowLayout</code>).</para>
          <mediaobject>
            <imageobject>
              <imagedata align="center" fileref="img/gui_flowbox.png"/>
            </imageobject>
          </mediaobject>
          <programlisting language="xml">&lt;flowBox spacing=&quot;true&quot; margin=&quot;true&quot;&gt;
&lt;dateField datasource=&quot;orderDs&quot; property=&quot;date&quot;/&gt;
&lt;lookupField datasource=&quot;orderDs&quot; property=&quot;customer&quot; optionsDatasource=&quot;customersDs&quot;/&gt;
&lt;textField datasource=&quot;orderDs&quot; property=&quot;amount&quot;/&gt;
&lt;/flowBox&gt;</programlisting>
        </listitem>
      </itemizedlist>
      <para>The following XML-attributes can be used in the <code>hbox</code>, <code>vbox</code>, <code>flowBox</code> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry><entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_expand">expand</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_margin">margin</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_spacing">spacing</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_ButtonsPanel">
      <title>ButtonsPanel</title>
      <para><code>ButtonsPanel</code> is a container that streamlines the use and placement of the components (usually, buttons) for data management in a table. </para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_buttonsPanel.png"/>
        </imageobject>
      </mediaobject>
      <para>XML-name of the component:   <sgmltag>buttonsPanel</sgmltag>.</para>
      <para>A sample  description of a <code>ButtonsPanel</code> in screen XML-descriptor:<programlisting language="xml">&lt;table id=&quot;customersTable&quot;
   editable=&quot;false&quot; width=&quot;100%&quot;&gt;
&lt;actions&gt;
    &lt;action id=&quot;create&quot;/&gt;
    &lt;action id=&quot;edit&quot;/&gt;
    &lt;action id=&quot;remove&quot;/&gt;
    &lt;action id=&quot;excel&quot;/&gt;
&lt;/actions&gt;
&lt;buttonsPanel&gt;
    &lt;button action=&quot;customersTable.create&quot;/&gt;
    &lt;button action=&quot;customersTable.edit&quot;/&gt;
    &lt;button action=&quot;customersTable.remove&quot;/&gt;
    &lt;button action=&quot;customersTable.excel&quot;/&gt;
&lt;/buttonsPanel&gt;
&lt;columns&gt;
    &lt;column id=&quot;name&quot;/&gt;
    &lt;column id=&quot;email&quot;/&gt;
&lt;/columns&gt;
&lt;rows datasource=&quot;customersDs&quot;/&gt;
&lt;/table&gt;</programlisting></para>
      <para><code>buttonsPanel</code> element can be located either inside a  <code>table</code>, or in any other place of a screen.  </para>
      <para>If the  <code>buttonsPanel</code> is located in a <code>table</code>, it is combined with the table&apos;s  <link linkend="gui_attr_table_rowsCount">rowsCount</link> component thus using vertical space more effectively. Additionally, if  a lookup screen is opened using  <code>IFrame.openLookup()</code> (for example, from the  <link linkend="gui_PickerField">PickerField</link> component) the buttons panel becomes hidden.</para>
      <para id="gui_attr_buttonsPanel_alwaysVisible"><sgmltag>alwaysVisible</sgmltag> attribute disables panel hiding in a lookup screen when it is opened by  <code>IFrame.openLookup()</code>. If the attribute value is <literal>true</literal>, the buttons panel is not hidden. By default, the attribute value is f <literal>false</literal>.</para>
      <para><sgmltag>buttonsPanel</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_buttonsPanel_alwaysVisible">alwaysVisible</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_stylename">styleName</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_expand">expand</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_GridLayout">
      <title>GridLayout</title>
      <para><code>GridLayout</code> is a container with grid placement of components.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_gridlayout.png"/>
        </imageobject>
      </mediaobject>
      <para>XML-name of the component:  <sgmltag>grid</sgmltag>.</para>
      <para>Example  container usage:<programlisting language="xml">&lt;grid spacing=&quot;true&quot;&gt;
&lt;columns count=&quot;4&quot;/&gt;
&lt;rows&gt;
    &lt;row&gt;
        &lt;label value=&quot;Date&quot;/&gt;
        &lt;dateField datasource=&quot;orderDs&quot; property=&quot;date&quot;/&gt;
        &lt;label value=&quot;Customer&quot;/&gt;
        &lt;lookupField datasource=&quot;orderDs&quot; property=&quot;customer&quot; optionsDatasource=&quot;customersDs&quot;/&gt;
    &lt;/row&gt;
    &lt;row&gt;
        &lt;label value=&quot;Amount&quot;/&gt;
        &lt;textField datasource=&quot;orderDs&quot; property=&quot;amount&quot;/&gt;
    &lt;/row&gt;
&lt;/rows&gt;
&lt;/grid&gt;</programlisting></para>
      <para><code>grid</code> elements:<itemizedlist>
          <listitem id="gui_attr_grid_columns">
            <para><code>columns</code> – a required element, describes grid columns. It should have either a <code>count</code> attribute, or a nested    <code>column</code> element for each column.</para>
            <para>In the simplest case, it is enough to set the number of columns in the <code>count</code> attribute. Then, if the container width is explicitly defined in pixels or percents, free space will be divided between the columns equally.</para>
            <para>In order to divide screen space  non-equally,   a <code>column</code> element with a  <code>flex</code> attribute should be defined for each column.</para>
            <para>An example of a grid where the second and the fourth columns take all extra horizontal space and the fourth column takes three times more space:<programlisting language="xml">&lt;grid spacing=&quot;true&quot; width=&quot;100%&quot;&gt;
&lt;columns&gt;
    &lt;column/&gt;
    &lt;column flex=&quot;1&quot;/&gt;
    &lt;column/&gt;
    &lt;column flex=&quot;3&quot;/&gt;
&lt;/columns&gt;
&lt;rows&gt;
    &lt;row&gt;
        &lt;label value=&quot;Date&quot;/&gt;
        &lt;dateField datasource=&quot;orderDs&quot; property=&quot;date&quot; width=&quot;100%&quot;/&gt;
        &lt;label value=&quot;Customer&quot;/&gt;
        &lt;lookupField datasource=&quot;orderDs&quot; property=&quot;customer&quot; optionsDatasource=&quot;customersDs&quot; width=&quot;100%&quot;/&gt;
    &lt;/row&gt;
    &lt;row&gt;
        &lt;label value=&quot;Amount&quot;/&gt;
        &lt;textField datasource=&quot;orderDs&quot; property=&quot;amount&quot; width=&quot;100%&quot;/&gt;
    &lt;/row&gt;
&lt;/rows&gt;
&lt;/grid&gt;</programlisting></para>
            <para>If <code>flex</code> is not defined, or is set to 0, the width of the column will be set according to its contents given that at least one other column has a non-zero <code>flex</code>. In the example above, the first and the third columns will get the width according to the maximum text length.</para>
            <tip>
              <para>In order for the free space to appear,  the entire  container width should be set in either pixels or percents. Otherwise, column width will be calculated according to content length, and <code>flex</code> attribute will have no effect.</para>
            </tip>
          </listitem>
          <listitem id="gui_attr_grid_rows">
            <para><sgmltag>rows</sgmltag> − a required element, contains a set of rows. Each line is defined in its own  <code>row</code> element. </para>
            <para><code>row</code> element can have a  <code>flex</code> attribute similar to the one defined for <code>column</code>, but affecting the distribution of free vertical space with a given total grid height.</para>
            <para><code>row</code> element should contain elements of the components displayed in the grid&apos;s current row cells. The number of components in a row should not exceed the defined number of columns, but it can be less.</para>
          </listitem>
        </itemizedlist></para>
      <para id="gui_GridLayout_span">Any component located in a  <code>grid</code> container can have  <code>colspan</code> and <code>rowspan</code> attributes. These attributes set the number of columns and rows occupied by the corresponding component. For example, this is how   <code>Field3</code> field can be extended to cover three columns:<programlisting language="xml">&lt;grid spacing=&quot;true&quot;&gt;
&lt;columns count=&quot;4&quot;/&gt;
&lt;rows&gt;
    &lt;row&gt;
        &lt;label value=&quot;Field1&quot;/&gt;
        &lt;textField/&gt;
        &lt;label value=&quot;Field2&quot;/&gt;
        &lt;textField/&gt;
    &lt;/row&gt;
    &lt;row&gt;
        &lt;label value=&quot;Field3&quot;/&gt;
        &lt;textField colspan=&quot;3&quot; width=&quot;100%&quot;/&gt;
    &lt;/row&gt;
&lt;/rows&gt;
&lt;/grid&gt;</programlisting></para>
      <para>As a result the components will be placed in the following way:<mediaobject>
          <imageobject>
            <imagedata align="center" fileref="img/gui_gridlayout_colspan.png"/>
          </imageobject>
        </mediaobject></para>
      <para><sgmltag>grid</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_spacing">spacing</link>
              </entry><entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_stylename">styleName</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_margin">margin</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>grid</sgmltag> elements:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_grid_columns">columns</link>
              </entry>editable</row>
            <row>
              <entry>
                <link linkend="gui_attr_grid_rows">rows</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>columns</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_grid_columns">count</link>
              </entry>editable</row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>column</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row>
              <entry>
                <link linkend="gui_attr_grid_rows">flex</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para><sgmltag>row</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row>
              <entry>
                <link linkend="gui_attr_grid_rows">flex</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_GroupBoxLayout">
      <title>GroupBoxLayout</title>
      <para><code>GroupBoxLayout</code> is a container that allows  framing the embedded components  and setting a universal header for them. Additionally, it can collapse content.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_groupBox.png"/>
        </imageobject>
      </mediaobject>
      <para>Component XML-name: <sgmltag>groupBox</sgmltag>.</para>
      <para>An example  container description in a screen XML-descriptor:<programlisting language="xml">&lt;groupBox caption=&quot;Order&quot;&gt;
&lt;dateField datasource=&quot;orderDs&quot; property=&quot;date&quot; caption=&quot;Date&quot;/&gt;
&lt;lookupField datasource=&quot;orderDs&quot; property=&quot;customer&quot;
             optionsDatasource=&quot;customersDs&quot; caption=&quot;Customer&quot;/&gt;
&lt;textField datasource=&quot;orderDs&quot; property=&quot;amount&quot; caption=&quot;Amount&quot;/&gt;
&lt;/groupBox&gt;</programlisting></para>
      <para><code>groupBox</code> attributes:<itemizedlist>
          <listitem>
            <para><code>caption</code> –  group header.</para>
          </listitem>
          <listitem id="gui_attr_groupBox_orientation">
            <para><code>orientation</code> – defines embedded components direction − horizontal or vertical. The default value is <literal>vertical</literal>.</para>
          </listitem>
          <listitem id="gui_attr_groupBox_collapsable">
            <para><sgmltag>collapsable</sgmltag> – if the value is set to <code>true</code> the component’s content can be hidden using the icons  <inlinemediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_groupBox_minus.png"/>
                </imageobject>
              </inlinemediaobject>/<inlinemediaobject>
                <imageobject>
                  <imagedata fileref="img/gui_groupBox_plus.png"/>
                </imageobject>
              </inlinemediaobject>.</para>
          </listitem>
          <listitem id="gui_attr_groupBox_collapsed">
            <para><sgmltag>collapsed</sgmltag> – if set to <code>true</code>, component’s content will be collapsed immediately after the screen gets opened. It is used  with  <code>collapsable=&quot;true&quot;</code>. </para>
            <para>An example of a collapsed <code>GroupBox</code>:</para>
            <mediaobject>
              <imageobject>
                <imagedata align="center" fileref="img/gui_groupBox_collapsed.png"/>
              </imageobject>
            </mediaobject>
          </listitem>
        </itemizedlist></para>
      <para>By default, the  <code>groupBox</code> container is 100% wide, similar to  <link linkend="gui_BoxLayout">vbox</link>.</para>
      <para>All  <sgmltag>groupBox</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_expand">expand</link>
              </entry><entry>
                <link linkend="gui_attr_groupBox_orientation">orientation</link>
              </entry><entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_groupBox_collapsable">collapsable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_spacing">spacing</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_groupBox_collapsed">collapsed</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_IFrame">
      <title>IFrame</title>
      <para><sgmltag>iframe</sgmltag> element is intended for including   <link linkend="frame">frames</link> into a screen.</para>
      <para>Attributes:<itemizedlist>
          <listitem>
            <para id="gui_attr_frame_src"><sgmltag>src</sgmltag> − path to the frame XML-descriptor.</para>
          </listitem>
          <listitem>
            <para><sgmltag>screen</sgmltag> – frame identifier in <link linkend="screens.xml">screens.xml</link> (if the frame is registered).</para>
          </listitem>
        </itemizedlist>One of these attributes should be defined. If both attributes are defined, frame will be loaded from the file explicitly set in  <sgmltag>src</sgmltag>. </para>
      <para>Other  <sgmltag>iframe</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="3" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_ScrollBoxLayout">
      <title>ScrollBoxLayout</title>
      <para><code>ScrollBoxLayout</code> − a container that supports content scrolling.</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_scrollBox.png"/>
        </imageobject>
      </mediaobject>
      <para>Component XML-name: <sgmltag>scrollBox</sgmltag></para>
      <para>An example  container description in a screen XML-descriptor:<programlisting language="xml">&lt;groupBox caption=&quot;Order&quot; width=&quot;300&quot; height=&quot;170&quot;&gt;
&lt;scrollBox width=&quot;100%&quot; height=&quot;100%&quot; spacing=&quot;true&quot; margin=&quot;true&quot;&gt;
    &lt;dateField datasource=&quot;orderDs&quot; property=&quot;date&quot; caption=&quot;Date&quot;/&gt;
    &lt;lookupField datasource=&quot;orderDs&quot; property=&quot;customer&quot; optionsDatasource=&quot;customersDs&quot; caption=&quot;Customer&quot;/&gt;
    &lt;textField datasource=&quot;orderDs&quot; property=&quot;amount&quot; caption=&quot;Amount&quot;/&gt;
 &lt;/scrollBox&gt;
&lt;/groupBox&gt;</programlisting></para>
      <itemizedlist>
        <listitem>
          <para id="gui_attr_scrollBox_orientation">The components direction can be defined by   <sgmltag>orientation</sgmltag> attribute  − <literal>horizontal</literal>or <literal>vertical</literal>. Default is  <literal>vertical</literal>.</para>
        </listitem>
        <listitem>
          <para id="gui_attr_scrollBox_scrollBars"><sgmltag>scrollBars</sgmltag> attribute allows configuring scroll bars. It can be <sgmltag>horizontal</sgmltag>, <sgmltag>vertical</sgmltag> – for horizontal and vertical scrolling respectively, <sgmltag>both</sgmltag> – for scrolling in any direction. Setting the value to <sgmltag>none</sgmltag> forbids scrolling in any direction.</para>
        </listitem>
      </itemizedlist>
      <warning>
        <para>The components embedded into the  <sgmltag>scrollBox</sgmltag> should have fixed size or default size. It can not be set to  <code>height=&quot;100%&quot;</code> or <code>width=&quot;100%&quot;</code>.</para>
        <para>At the same time,  <sgmltag>scrollBox</sgmltag> cannot calculate its own size based on its content.  Its absolute size should either be specified or the scrollBox should be stretched it in a parent container by setting  <code>height=&quot;100%&quot;</code> and <code>width=&quot;100%&quot;</code>.</para>
      </warning>
      <para><sgmltag>scrollBox</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="3" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_align">align</link>
              </entry><entry>
                <link linkend="gui_attr_basic_margin">margin</link>
              </entry><entry>
                <link linkend="gui_attr_basic_spacing">spacing</link>
              </entry>editable</row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry>
                <link linkend="gui_attr_scrollBox_orientation">orientation</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_scrollBox_scrollBars">scrollBars</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_SplitPanel">
      <title>SplitPanel</title>
      <para><code>SplitPanel</code> − a container divided into two areas, its horizontal or vertical size can be adjusted by moving the separator. </para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_splitPanel.png"/>
        </imageobject>
      </mediaobject>
      <para>Component XML-name:  <sgmltag>split</sgmltag>.</para>
      <para>An example  description of a split panel in a screen XML-descriptor:<programlisting language="xml">&lt;split orientation=&quot;horizontal&quot; pos=&quot;30&quot; width=&quot;100%&quot; height=&quot;100%&quot;&gt;
&lt;vbox margin=&quot;true&quot; spacing=&quot;true&quot;&gt;
   &lt;dateField datasource=&quot;orderDs&quot; property=&quot;date&quot; caption=&quot;Date&quot;/&gt;
   &lt;lookupField datasource=&quot;orderDs&quot; property=&quot;customer&quot; optionsDatasource=&quot;customersDs&quot; caption=&quot;Customer&quot;/&gt;
&lt;/vbox&gt;
&lt;vbox margin=&quot;true&quot; spacing=&quot;true&quot;&gt;
   &lt;textField datasource=&quot;orderDs&quot; property=&quot;amount&quot; caption=&quot;Amount&quot;/&gt;
&lt;/vbox&gt;
&lt;/split&gt;</programlisting></para>
      <para><code>split</code> container must contain two nested containers or components. They will be displayed astride the separator.</para>
      <para><code>split</code> attributes:<itemizedlist>
          <listitem id="gui_attr_split_orientation">
            <para><code>orientation</code> – defines component orientation.   <code>horizontal</code> – nested components are aligned horizontally, <code>vertical</code> – they are aligned vertically.</para>
          </listitem>
          <listitem id="gui_attr_split_pos">
            <para><code>pos</code> – an integer number defining percentage of the first component area compared to the second one. For example,  <code>pos=&quot;30&quot;</code> means that the areas  ration is  30/70. By default the areas are divided 50/50.</para>
          </listitem>
        </itemizedlist></para>
      <para>All attributes of  <sgmltag>split</sgmltag>:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_id">id</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_split_pos">pos</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_height">height</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_split_orientation">orientation</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
    <section id="gui_TabSheet">
      <title>TabSheet</title>
      <para><code>TabSheet</code> container is a tabbed panel. The panel shows content of one tab at a time. </para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/gui_tabsheet.png"/>
        </imageobject>
      </mediaobject>
      <para>XML-name of the component: <sgmltag>tabSheet</sgmltag>.</para>
      <para>An example  description of a tabbed panel in a screen XML-descriptor:<programlisting language="xml">&lt;tabSheet&gt;
&lt;tab id=&quot;mainTab&quot; caption=&quot;Tab1&quot; margin=&quot;true&quot; spacing=&quot;true&quot;&gt;
    &lt;dateField datasource=&quot;orderDs&quot; property=&quot;date&quot; caption=&quot;Date&quot;/&gt;
    &lt;lookupField datasource=&quot;orderDs&quot; property=&quot;customer&quot; optionsDatasource=&quot;customersDs&quot; caption=&quot;Customer&quot;/&gt;
&lt;/tab&gt;
&lt;tab id=&quot;additionalTab&quot; caption=&quot;Tab2&quot; margin=&quot;true&quot; spacing=&quot;true&quot;&gt;
    &lt;textField datasource=&quot;orderDs&quot; property=&quot;amount&quot; caption=&quot;Amount&quot;/&gt;
&lt;/tab&gt;
&lt;/tabSheet&gt;</programlisting></para>
      <para>The  <sgmltag>tabSheet</sgmltag> component should contain nested   <sgmltag>tab</sgmltag>, elements describing tabs. Each tab is a container with a vertical components layout similar to <link linkend="gui_BoxLayout">vbox</link>.</para>
      <para><code>tab</code> element attributes:<itemizedlist>
          <listitem id="gui_attr_tabsheet_id">
            <para><code>id</code> – tab identifier. Please note that tabs are not components and their IDs are used only within a  <code>TabSheet</code> in order to work with tabs from the controller.</para>
          </listitem>
          <listitem>
            <para><link linkend="gui_attr_basic_caption">caption</link> – tab caption. </para>
          </listitem>
          <listitem id="gui_attr_tabsheet_lazy">
            <para><sgmltag>lazy</sgmltag> – sets lazy loading for tab content. </para>
            <para>Lazy-tabs do not load their content when a screen is opened, it reduces the number of components in memory. Components within a tab are loaded only when user selects the tab. Additionally, if a lazy-tab includes visual components linked to a <link linkend="datasources">data source</link>, containing a JPQL query, this query is not  invoked as well. As a result, screen opens quicker and data is loaded only when user requests it by selecting this tab. </para>
            <para>Please note that the components located on a lazy-tab do not exist  when the screen is opened. That is why they cannot be  <link linkend="screen_controller_injection">injected</link> into a controller and cannot be obtained by invoking  <code>getComponent()</code> in the controller’s  <code>init()</code> method. The   <code>lazy</code>-tab components  can be called only after user opens it. This moment may be caught using  <code>TabSheet.TabChangeListener</code>, for example:  </para>
            <programlisting language="java">@Inject
private TabSheet tabsheet;

private boolean detailsInitialized, historyInitialized;

@Override
public void init(Map&lt;String, Object&gt; params) {
tabsheet.addListener(
        new TabSheet.TabChangeListener() {
            @Override
            public void tabChanged(TabSheet.Tab newTab) {
                if (&quot;detailsTab&quot;.equals(newTab.getName()))
                    initDetails();
                else if (&quot;historyTab&quot;.equals(newTab.getName()))
                    initHistory();
            }
        }
);
}

private void initDetails() {
if (detailsInitialized)
    return;

// use getComponentNN(&quot;comp_id&quot;) here to get tab&apos;s components

detailsInitialized = true;
}

private void initHistory() {
if (historyInitialized)
    return;

// use getComponentNN(&quot;comp_id&quot;) here to get tab&apos;s components

historyInitialized = true;
}</programlisting>
            <para>By default, tabs are not  <code>lazy</code>, which means that all their content is loaded when a screen is opened.</para>
          </listitem>
          <listitem id="gui_attr_tabsheet_detachable">
            <para><code>detachable</code> – when it is   <code>true</code>,  a tab can be detached to a separate window in a screen desktop implementation . It allows , for example,  different parts of the application UI to be located on different displays. A detached tab has a dedicated button in its header:</para>
            <mediaobject>
              <imageobject>
                <imagedata align="center" fileref="img/gui_tabsheetDetachable.png"/>
              </imageobject>
            </mediaobject>
          </listitem>
        </itemizedlist></para>
      <para><sgmltag>tabSheet</sgmltag> attributes:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_height">height</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_visible">visible</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_basic_id">id</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_basic_width">width</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_stylename">stylename</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
      <para>All attributes of the   <sgmltag>tab</sgmltag> element:</para>
      <informaltable frame="none" pgwide="0" align="left">
        <tgroup cols="4" colsep="1" rowsep="1" align="left"><colspec colname="c1"/><colspec colname="c2"/><colspec colname="c3"/><colspec colname="c4"/>c <tbody>
            <row><entry align="left">
                <link linkend="gui_attr_basic_caption">caption</link>
              </entry>editable<entry align="left">
                <link linkend="gui_attr_basic_expand">expand</link>
              </entry><entry>
                <link linkend="gui_attr_basic_margin">margin</link>
              </entry></row>
            <row>
              <entry>
                <link linkend="gui_attr_tabsheet_detachable">detachable</link>
              </entry>
              <entry align="left">
                <link linkend="gui_attr_tabsheet_id">id</link>
              </entry>
              <entry>
                <link linkend="gui_attr_basic_spacing">spacing</link>
              </entry>
            </row>
            <row>
              <entry align="left">
                <link linkend="gui_attr_basic_enable">enable</link>
              </entry>
              <entry>
                <link linkend="gui_attr_tabsheet_lazy">lazy</link>
              </entry>
            </row>
          </tbody></tgroup>
      </informaltable>
    </section>
  </section>
  <section id="gui_misc">
    <title>Miscellaneous</title>
    <para>This section describes different elements of the universal user interface that are related to visual components.</para>
    <section id="gui_formatter"><title>Formatter</title>Formatter is intended for formatting values as strings.<warning>
        <para>Formatter should be used with read-only components, such as <link linkend="gui_Label">Label</link>,  <link linkend="gui_Table">Table</link> column and similar. Editable components values, for example,  <link linkend="gui_TextField">TextField</link>, can be formatted using the  <code>
            <link linkend="datatype">Datatype</link>
          </code> mechanism.</para>
      </warning><para>In an XML-descriptor of a screen, a  component&apos;s formatter can be defined in a nested  <sgmltag>formatter</sgmltag> element. The element has a single attribute:</para><itemizedlist>
        <listitem>
          <para><sgmltag>class</sgmltag> − the name of a class implementing a  <code>com.haulmont.cuba.gui.components.Formatter</code></para>
        </listitem>
      </itemizedlist><para>If formatter&apos;s  constructor  class has a    <code>org.dom4j.Element</code>, parameter, then it will receive an XML element, describing this  <code>formatter</code>. This can be used to parameterize a formatter instance. For example, using a formatted string. Particularly,  <code>DateFormatter</code> and <code>NumberFormatter</code> classes in the platform can take the format string from the  <sgmltag>format</sgmltag> attribute. Example of using the component:<programlisting language="xml">&lt;column id=&quot;date&quot;&gt;
&lt;formatter class=&quot;com.haulmont.cuba.gui.components.formatters.DateFormatter&quot; format=&quot;yyyy-MM-dd HH:mm:ss&quot;/&gt;
&lt;/column&gt;</programlisting></para><para>Additionally, <code>DateFormatter</code> class also recognizes a <sgmltag>type</sgmltag> attribute, which can have a   <literal>DATE</literal> or <literal>DATETIME</literal> value. In this case, formatting is done using the <code>
          <link linkend="datatype">Datatype</link>
        </code> mechanism using a <code>dateFormat</code> or a <code>dateTimeFormat</code> string respectively. For example:<programlisting language="xml">&lt;column id=&quot;endDate&quot;&gt;
&lt;formatter class=&quot;com.haulmont.cuba.gui.components.formatters.DateFormatter&quot; type=&quot;DATE&quot;/&gt;
&lt;/column&gt;</programlisting></para><tip>
        <para>If a formatter is implemented as an internal class, it should be declared with a  <code>static</code> modifier and its name  should be separated by &quot;$&quot; for loading, for example:</para>
        <para><code>&lt;formatter class=&quot;com.sample.sales.gui.OrderBrowse$CurrencyFormatter&quot;/&gt;</code></para>
      </tip><para>Formatter can be assigned to a component not only using a screen XML-descriptor , but also programmatically – by submitting an formatter instance  into aд <code>setFormatter()</code> component.</para><para>An example of declaring a custom formatter and using it to format values in a table column:<programlisting language="java">public class CurrencyFormatter implements Formatter&lt;BigDecimal&gt; {

protected GeneralConfiguration generalConfiguration;
protected Currency currentCurrency;

public CurrencyFormatter(GeneralConfiguration generalConfiguration) {
    this.generalConfiguration = generalConfiguration;
    currentCurrency = generalConfiguration.getCurrency();
}

@Override
public String format(BigDecimal value) {
    return currentCurrency.format(value);
}
}</programlisting><programlisting language="java">protected void initTableColumns() {
Formatter&lt;BigDecimal&gt; currencyFormatter = new CurrencyFormatter(generalConfiguration);
table.getColumn(&quot;totalPrice&quot;).setFormatter(currencyFormatter);
}</programlisting></para></section>
    <section id="gui_Table_presentations">
      <title>Presentation </title>
      <para>The mechanism of presentations allows users to manage component display settings.</para>
      <para><emphasis role="bold">Capabilities</emphasis>:</para>
      <itemizedlist>
        <listitem>
          <para>Saving presentations using their unique names</para>
        </listitem>
        <listitem>
          <para>Editing and removing presentations</para>
        </listitem>
        <listitem>
          <para>Fast switching between presentations</para>
        </listitem>
        <listitem>
          <para>Setting up a default presentation, which will be applied when a screen with a component opens</para>
        </listitem>
        <listitem>
          <para>Auto saving for security controls in an active presentation</para>
        </listitem>
        <listitem>
          <para>Global presentations, which can be accessed by any system user</para>
        </listitem>
      </itemizedlist>
      <para><emphasis role="bold">Classes and Interfaces </emphasis></para>
      <para>In order to use presentations, a component class should implement a <code>com.haulmont.cuba.gui.components.Component.HasPresentations</code> interface. In the platform, these components are:</para>
      <itemizedlist>
        <listitem>
          <para><link linkend="gui_Table">Table</link></para>
        </listitem>
        <listitem>
          <para><link linkend="gui_GroupTable">GroupTable</link></para>
        </listitem>
        <listitem>
          <para><link linkend="gui_TreeTable">TreeTable</link></para>
        </listitem>
      </itemizedlist>
      <para><code>Presentation</code> − POJO presentation object.</para>
      <para><code>Presentations</code> contains a list of component&apos;s presentations  and a set of methods to work with them. Main methods:</para>
      <itemizedlist>
        <listitem>
          <para><code>getCurrent()</code> − returns current presentation or  <code>null</code>,  if presentation is not defined</para>
        </listitem>
        <listitem>
          <para><code>setCurrent(Presentation p)</code> − sets an active presentation</para>
        </listitem>
        <listitem>
          <para><code>getSettings(Presentation p)</code> − returns an XML-element with display settings for the current presentation</para>
        </listitem>
        <listitem>
          <para><code>setSettings(Presentation p, Element e)</code> − modifies display settings for the specified presentation</para>
        </listitem>
        <listitem>
          <para><code>getPresentation(Object id)</code> − returns a presentation based on its identifier</para>
        </listitem>
        <listitem>
          <para><code>getPresentations()</code> − returns a list of  presentations identifiers for the given component</para>
        </listitem>
        <listitem>
          <para><code>commit()</code> − saves presentations to the database </para>
        </listitem>
      </itemizedlist>
      <para><code>PresentationsImpl</code> − element implementation <code>Presentations</code>.</para>
      <para><code>PresentationsChangeListener</code> − a listener interface tracking presentation changes.</para>
      <para>In order to create, change or remove global presentations, user should have rights to <property>cuba.gui.presentations.global</property>. More details are available in the <emphasis>CUBA Platform Manual. Security Subsystem</emphasis>.</para>
    </section>
    <section id="gui_Timer"><title>Timer</title><para>Timer is a non-visual component allowing  certain screen controller code to be run at specified time intervals. The timer works in a thread that handles user interface events, which allows  screen to be refreshed without any limitations. Timer stops working when a screen  it was created for gets closed.</para><para>The component is implemented for the  <structname>Web Client</structname> and the  <structname>Desktop Client</structname>. For the web client, timer implementation is based on interrogation server from web-browser, for the desktop client it based on <code>javax.swing.Timer</code>.</para><para>The main approach for creating the  timers  is by declaring them in a screen XML-descriptor – in the  <sgmltag>timers</sgmltag>, element which is located between  <sgmltag>dsContext</sgmltag> and  <sgmltag>layout</sgmltag> elements. </para><para>Timers are described using the <sgmltag>timer</sgmltag> element.</para><itemizedlist>
        <listitem>
          <para id="gui_attr_timer_delay"><sgmltag>delay</sgmltag> is a required attribute; it defines timer interval in milliseconds.</para>
        </listitem>
        <listitem>
          <para><sgmltag>autostart</sgmltag> – an optional attribute; when it is set to  <code>true</code>, timer starts immediately after a screen gets opened. By default the value is  <code>false</code>, which means that timer should be started by invoking its  <code>start()</code> method.</para>
        </listitem>
        <listitem>
          <para id="gui_attr_timer_repeating"><sgmltag>repeating</sgmltag> – an optional attribute, turns on repeating action for a timer. If the attribute is set to  <literal>true</literal>, timer runs in cycles at equal intervals defined in the <sgmltag>delay</sgmltag> attribute. Otherwise, timer runs only once –  <sgmltag>delay</sgmltag> milliseconds after the timer start.</para>
        </listitem>
        <listitem>
          <para id="gui_attr_timer_onTimer"><sgmltag>onTimer</sgmltag> – optional attribute containing a name of a method called when the timer fires. The handling method should be defined in a screen controller  with a <code>public</code> modifier and have one   <code>com.haulmont.cuba.gui.components.Timer</code> type parameter.  </para>
        </listitem>
      </itemizedlist><para>An example of using a timer to refresh table content periodically:</para><programlisting language="xml">&lt;window ...
&lt;dsContext&gt;
    &lt;collectionDatasource id=&quot;bookInstanceDs&quot; ...
&lt;/dsContext&gt;
&lt;timers&gt;
    &lt;timer delay=&quot;3000&quot; autostart=&quot;true&quot; repeating=&quot;true&quot; onTimer=&quot;refreshData&quot;/&gt;
&lt;/timers&gt;
&lt;layout ...</programlisting><programlisting language="java">@Inject
private CollectionDatasource bookInstanceDs;

public void refreshData(Timer timer) {
bookInstanceDs.refresh();
}</programlisting><para>Timer can be injected into a controller field, or acquired using the  <code>Window.getTimer()</code> method. Timer activity can be controlled using the timer’s <code>start()</code> and  <code>stop()</code> methods. For an already active timer,  <code>start()</code> invocation will be ignored. After stopping the timer using  <code>stop()</code> method,  it can be started again with  <code>start()</code>.</para><para>An event handler can be set for a timer using the implementation of a <code>Timer.TimerListener</code> interface:</para><programlisting language="xml">&lt;timers&gt;
&lt;timer id=&quot;helloTimer&quot; delay=&quot;5000&quot;/&gt;
&lt;/timers&gt;</programlisting><programlisting language="java">@Inject
private Timer helloTimer;

@Override
public void init(Map&lt;String, Object&gt; params) {
helloTimer.addTimerListener(new Timer.TimerListener() {
    @Override
    public void onTimer(Timer timer) {
        showNotification(&quot;Hello&quot;, NotificationType.HUMANIZED);
    }

    @Override
    public void onStopTimer(Timer timer) {
        showNotification(&quot;Timer is stopped&quot;, NotificationType.HUMANIZED);
    }
});
helloTimer.start();
}</programlisting>Timer can be also created in the application controller code:<programlisting language="java">@Inject
private ComponentsFactory componentsFactory;

@Override
public void init(Map&lt;String, Object&gt; params) {
Timer helloTimer = componentsFactory.createTimer();
helloTimer.setDelay(5000);
helloTimer.setRepeating(true);
helloTimer.addTimerListener(new Timer.TimerListener() {
    @Override
    public void onTimer(Timer timer) {
        showNotification(&quot;Hello&quot;, NotificationType.HUMANIZED);
    }

    @Override
    public void onStopTimer(Timer timer) {
        showNotification(&quot;Timer is stopped&quot;, NotificationType.HUMANIZED);
    }
});
helloTimer.start();

addTimer(helloTimer);
}</programlisting></section>
    <section id="gui_validator"><title>Validator</title><para>Validator is intended to check values entered into visual components.</para><warning>
        <para>Validation and input type checking should be differentiated. If given component data type, for example <link linkend="gui_TextField">TextField</link> is set to anything different than string (this can happen when linking to an entity attribute or setting  <code>datatype</code>), then the component will not allow the user to enter a value that does not comply with this data type – when the component loses focus or when the user presses  <keycap>Enter</keycap>, the component will show the previous value.</para>
        <para>On the other hand, validation does not act immediately on data entry or on focus loss, but rather when  the component&apos;s  <code>validate()</code> method is invoked. It means that the component (and the entity attribute that it’s linked to) may temporarily contain a value, which does not comply with the conditions of validation. This should not be a problem, because the validated fields are typically found in  <link linkend="screen_edit">edit screens</link>, which automatically invoke validation for all their fields before commit. If the component is located not in an editing screen, its  <code>validate()</code> method should be invoked explicitly in the controller.</para>
      </warning><para>In a screen XML-descriptor, a component validator  can be defined in a nested  <sgmltag>validator</sgmltag> elements. The  <sgmltag>validator</sgmltag> element attributes:</para><itemizedlist>
        <listitem>
          <para><sgmltag>script</sgmltag> − path to the Groovy script performing validation.</para>
        </listitem>
        <listitem>
          <para><sgmltag>class</sgmltag> −  name of the Java class implementing a  <code>Field.Validator</code> interface.</para>
        </listitem>
        <listitem>
          <para>Groovy validator and standard classes of Java validators, located in the  <code>com.haulmont.cuba.gui.components.validators</code> package support   <sgmltag>message</sgmltag> attribute − a message displayed to a user when validation fails. The attribute should contain a message key from the package, for example,  <literal>message=&quot;msg://infoTextField.validationMsg&quot;</literal></para>
        </listitem>
      </itemizedlist>The validation mechanism is chosen according to the following logic:<itemizedlist>
        <listitem>
          <para>If the value of the  <sgmltag>script</sgmltag> attribute is not set and the  <sgmltag>validator</sgmltag> element itself does not contain text with a Groovy expression, then the system will use a class defined in the  <sgmltag>class</sgmltag> attribute as a validator..</para>
        </listitem>
        <listitem>
          <para>If the  <sgmltag>validator</sgmltag> element contains text, it will be used as a Groovy exception and will be executed using <link linkend="scripting">Scripting</link>.</para>
        </listitem>
        <listitem>
          <para>Otherwise, the system will use  <link linkend="scripting">Scripting</link> to run a Groovy script defined in the  <sgmltag>script</sgmltag>.</para>
        </listitem>
      </itemizedlist><para><code>value</code> variable will be passed to an expression or a Groovy script. It contains the value entered into a visual component. An expression or a script should return a <literal>boolean</literal> value: <literal>true</literal> − valid, <literal>false</literal> − not valid.</para><para>If a Java class is being used as a validator, it should have a default constructor without parameters or a constructor with the following set of parameters:<itemizedlist>
          <listitem>
            <para><code>org.dom4j.Element</code>, <code>String</code> – this constructor will receive the validator XML-element  and a screen message package name.</para>
          </listitem>
          <listitem>
            <para><code>org.dom4j.Element</code> – this constructor will receive a validator XML-element.</para>
          </listitem>
        </itemizedlist></para><tip>
        <para>If a validator is implemented as an internal class, it should be declared with a  <code>static</code>modifier and its name should be separated by &quot;$&quot; for loading, for example:</para>
        <para><code>&lt;validator class=&quot;com.sample.sales.gui.AddressEdit$ZipValidator&quot;/&gt;</code></para>
      </tip><para>The platform contains a set of implementations for the most frequently used validators (see <code>com.haulmont.cuba.gui.components.validators</code> package), which  can be use in other projects:</para><itemizedlist>
        <listitem>
          <para><code>DateValidator</code></para>
        </listitem>
        <listitem>
          <para><code>DoubleValidator</code></para>
        </listitem>
        <listitem>
          <para><code>EmailValidator</code></para>
        </listitem>
        <listitem>
          <para><code>IntegerValidator</code></para>
        </listitem>
        <listitem>
          <para><code>LongValidator</code></para>
        </listitem>
        <listitem>
          <para><code>PatternValidator</code></para>
        </listitem>
        <listitem>
          <para><code>ScriptValidator</code></para>
        </listitem>
      </itemizedlist><para>A validator-class can be assigned to a component not only using a screen XML-descriptor, but also programmatically – by submitting a validator instance into the component&apos;s  <code>addValidator()</code>method.</para><para>Example of creating a validator class for ZIP codes:<programlisting language="java">public class ZipValidator implements Field.Validator {
@Override
public void validate(Object value) throws ValidationException {
    if (value != null &amp;&amp; ((String) value).length() != 6)
        throw new ValidationException(&quot;Zip must be of 6 characters length&quot;);
}
}</programlisting></para><para>Example of using a zip code validator and a standard pattern validator for fields within a  <link linkend="gui_FieldGroup">FieldGroup</link> component:<programlisting language="xml">&lt;fieldGroup ...&gt;
&lt;field id=&quot;zip&quot; required=&quot;true&quot;&gt;
     &lt;validator class=&quot;com.sample.sales.gui.ZipValidator&quot;/&gt;
&lt;/field&gt;
&lt;field id=&quot;imei&quot;&gt;
    &lt;validator class=&quot;com.haulmont.cuba.gui.components.validators.PatternValidator&quot;
           pattern=&quot;\d{15}&quot;
           message=&quot;msg://general.imeiValidationFailed&quot;/&gt;
&lt;/field&gt;
&lt;/fieldGroup&gt;</programlisting></para><para>Example of setting a validator programmatically:<programlisting language="java">if (Boolean.TRUE.equals(parameter.getRequired())) {
tokenList.addValidator(new Field.Validator() {
    @Override
    public void validate(Object value) throws ValidationException {
        if (value instanceof Collection &amp;&amp; CollectionUtils.isEmpty((Collection) value)) {
            throw new ValidationException(getMessage(&quot;error.paramIsRequiredButEmpty&quot;));
        }
    }
});
}</programlisting></para></section>
  </section>
  <section id="gui_attributes">
    <title>XML-Attributes of Components </title>
    <variablelist>
      <varlistentry id="gui_attr_basic_align">
        <term>align</term>
        <listitem>An attribute defining component position relative to the above container.<para>Possible values are:</para><itemizedlist>
            <listitem>
              <para><literal>TOP_RIGHT</literal></para>
            </listitem>
            <listitem>
              <para><literal>TOP_LEFT</literal></para>
            </listitem>
            <listitem>
              <para><literal>TOP_CENTER</literal></para>
            </listitem>
            <listitem>
              <para><literal>MIDDLE_RIGHT</literal></para>
            </listitem>
            <listitem>
              <para><literal>MIDDLE_LEFT</literal></para>
            </listitem>
            <listitem>
              <para><literal>MIDDLE_CENTER</literal></para>
            </listitem>
            <listitem>
              <para><literal>BOTTOM_RIGHT</literal></para>
            </listitem>
            <listitem>
              <para><literal>BOTTOM_LEFT</literal></para>
            </listitem>
            <listitem>
              <para><literal>BOTTOM_CENTER</literal></para>
            </listitem>
          </itemizedlist></listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_caption">
        <term>caption</term>
        <listitem><para>An attribute setting a visual component&apos;s caption.</para><para>Attribute value can either be a message string or a key for the  <link linkend="message_packs">message pack</link>. In case of a key, the value should begin with <literal>msg://prefix</literal>.</para>There are two ways of setting a key:<itemizedlist>
            <listitem>
              <para>A short key – in this case the message will be searched in a package set for the current screen:</para>
              <programlisting>caption=&quot;msg://infoFieldCaption&quot;</programlisting>
            </listitem>
            <listitem>Full key including package name:<programlisting>caption=&quot;msg://com.haulmont.refapp.gui.app/infoFieldCaption&quot;</programlisting></listitem>
          </itemizedlist></listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_captionProperty">
        <term>captionProperty</term>
        <listitem>Defines the name of an entity attribute which is displayed by a component. The property can only be used for entities in a datasources (for example, defined by the <link linkend="gui_attr_basic_optionsDatasource">optionsDatasource</link>) property of the <link linkend="gui_LookupField">LookupField</link>component.<para>If  <code>captionProperty</code> is not defined,  <link linkend="namePattern">names of instances</link> contained in a list will be shown.</para></listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_clickAction">
        <term>clickAction</term>
        <listitem>
          <para>The attribute contains a description of an action that will be executed when a user clicks in a cell or a field (for the  <link linkend="gui_FieldGroup">FieldGroup</link> component). Two types of actions are possible:</para>
          <itemizedlist>
            <listitem>
              <para><code>open</code> − opens an editing screen with the specified name for an entity displayed in the cell, for example:  <code>clickAction=&quot;open:sec$User.edit&quot;</code>. Entity name is displayed as a link:</para>
              <mediaobject>
                <imageobject>
                  <imagedata align="center" fileref="img/gui_clickAction_open.png"/>
                </imageobject>
              </mediaobject>
            </listitem>
            <listitem>
              <para><code>invoke</code> − invokes a method of a screen controller with a specified name, for example: <code>clickAction=&quot;invoke:onClick&quot;</code>. The method should have a single  <code>Object</code> type parameter, which will be used to send an instance of the displayed entity.</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_colspan">
        <term>colspan</term>
        <listitem>
          <para>Sets the number of  <link linkend="gui_GridLayout_span">extra grid columns</link> that the component should occupy (default is 1).
</para>
          <para>This attribute can be defined for any component located immediately within a  <link linkend="gui_GridLayout">GridLayout</link> container.</para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_datasource">
        <term>datasource</term>
        <listitem>
          <para>Intended for setting a <link linkend="datasources">data source</link>, described in a  <sgmltag>dsContext</sgmltag> section of a screen XML-descriptor.</para>
          <para>When setting a  <code>datasource</code> attribute for a component implementing a  <code>DatasourceComponent</code> interface, a <link linkend="gui_attr_basic_property">property</link> attribute should also be set.  </para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_description">
        <term>description</term>
        <listitem>
          <para>An attribute defining hint text for a component.</para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_editable">
        <term>editable</term>
        <listitem>
          <para>An attribute indicating that the component’s content can be edited (do not mix with <link linkend="gui_attr_basic_enable">enable</link>).</para>
          <para>Possible values −  <literal>true</literal>, <literal>false</literal>. Default value is  <literal>true</literal>.</para>
          <para>Ability to edit content of a component linked to data (inheritor of  <code>DatasourceComponent</code> or  <code>ListComponent</code>) is also influenced by the security subsystem. If the security subsystem data indicates that a component should not be editable, the value of its  <sgmltag>editable</sgmltag> attribute will be ignored.</para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_enable">
        <term>enable</term>
        <listitem>
          <para>An attribute defining component state: </para>
          <para>If a component is disabled, it does not accept input focus. Disabling a container disables all of its components as well. Possible values are  <literal>true</literal>, <literal>false</literal>.
By default all components are enabled.</para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_expand">
        <term>expand</term>
        <listitem>An attribute of a container controlling its internal layout.<para>Defines a component within a container that should be expanded to cover all available space in the directions of component placement. For a container with components vertical placement, this attribute sets 100% height to a component; for the containers with horizontal placement - 100% width. Additionally, resizing a container will also resize this component.</para></listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_height">
        <term>height</term>
        <listitem>An attribute setting component’s height.<para>Can be set in pixels or in percents of the  parent container height. For example: <literal>100px</literal>, <literal>100%</literal>, <literal>50</literal>. If it is specified without units, pixels are assumed.</para><para>Setting a value in  <literal>%</literal> means that the component will occupy the corresponding height within an area provided by the parent container.</para><para>When set to  <code>AUTO</code> or <code>-1px</code>, a default value will be used for the component height. For a container, height is defined by the content, according to a sum of heights of all nested components.</para></listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_icon">
        <term>icon</term>
        <listitem>An attribute setting a visual component icon.
          <para>Attribute value should contain a path to an icon file relative to the
            <link linkend="gui_themes">themes</link> folder. For example::
          </para>
          <programlisting language="xml">icon=&quot;icons/create.png&quot;</programlisting>
          <para>If the icon should be changed depending on the user’s language, you can set a path to it in the
            messages package and specify a message key in an
            <sgmltag>icon</sgmltag> attribute, for example:
            <programlisting language="xml">icon=&quot;msg://addIcon&quot;</programlisting>
          </para>
          <para>Font elements of Font Awesome can be used instead of files in web client with Halo
            <link linkend="web_theme">theme</link> (or derived from it). For this, specify the name of the required constant of the
            <code>com.vaadin.server.FontAwesome</code> class in the icon property with the
            <code>font-icon:</code> prefix, for example:
            <programlisting language="xml"><![CDATA[icon="font-icon:BOOK"]]></programlisting></para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_id">
        <term>id</term>
        <listitem>Component identifier.<para>It’s recommended that  values are generated using the rules for Java-identifiers and  camelСase is used, for example,  <code>userGrid</code>, <code>filterPanel</code>.
It can be specified for any component and should be unique within a screen.</para></listitem>
      </varlistentry>
        <varlistentry id="gui_attr_basic_inputPrompt">
            <term>inputPrompt</term>
            <listitem>
                <para>Defines a string which is displayed in the field when its value is <code>null</code>.</para>
                <para>The attribute is used for <link linkend="gui_TextField">TextField</link>,
                    <link linkend="gui_LookupField">LookupField</link>,
                    <link linkend="gui_LookupPickerField">LookupPickerField</link>,
                    <link linkend="gui_SearchPickerField">SearchPickerField</link> components in
                    <structname>web</structname> client only.</para>
            </listitem>
        </varlistentry>
      <varlistentry id="gui_attr_basic_margin">
        <term>margin</term>
        <listitem><para><sgmltag>margin</sgmltag> attribute defines indentation between the outer borders and the container content.</para>It can take 2 value types:<itemizedlist>
            <listitem>
              <para><sgmltag>margin</sgmltag>=<literal>&quot;true&quot;</literal> − enables margins for all sides</para>
            </listitem>
            <listitem>
              <para><sgmltag>margin</sgmltag>=<literal>"true,false,true,false"</literal> − enables only the top and the bottom margin (the value format is "top,right,bottom,left")</para>
            </listitem>
          </itemizedlist>By default margins are disabled.</listitem>
      </varlistentry>
      <varlistentry id="gui_attr_nullName">
        <term>nullName</term>
        <listitem>
          <para>Selection of this option is equal to setting the <code>null</code> value.</para>
          <para>Attribute is used for  <link linkend="gui_LookupField">LookupField</link>, <link linkend="gui_LookupPickerField">LookupPickerField</link>, and <link linkend="gui_SearchPickerField">SearchPickerField</link> components.</para>
          <para>Example for a  <link linkend="gui_LookupField">LookupField</link>, component, setting an attribute value in an  <link linkend="screen_xml_glossentry">XML-descriptor</link>:</para>
          <programlisting language="xml">&lt;lookupField datasource=&quot;orderDs&quot;
         property=&quot;customer&quot;
         nullName=&quot;(none)&quot;
         optionsDatasource=&quot;customersDs&quot; width=&quot;200px&quot;/&gt;</programlisting>
          <para>Example for a  <link linkend="gui_LookupField">LookupField</link>, component, setting an attribute value in a  <link linkend="screen_controller_glossentry">controller</link>: <programlisting language="xml">&lt;lookupField id=&quot;customerLookupField&quot; optionsDatasource=&quot;customersDs&quot;
         width=&quot;200px&quot; datasource=&quot;orderDs&quot; property=&quot;customer&quot;/&gt;</programlisting><programlisting language="java">customerLookupField.setNullOption(&quot;&lt;null&gt;&quot;);</programlisting></para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_optionsDatasource">
        <term>optionsDatasource</term>
        <listitem>
          <para>Sets the name of a  <link linkend="datasources">data source</link>, used to generate a list of options.</para>
          <para><link linkend="gui_attr_basic_captionProperty">captionProperty</link> attribute can be used together with <sgmltag>optionsDatasource</sgmltag>.</para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_property">
        <term>property</term>
        <listitem>
          <para>An attribute of a component implementing a  <code>DatasourceComponent</code> interface.</para>
          <para>It is intended to set the name of an entity attribute which value will be displayed and edited using this visual component.</para>
          <para>It is always used together with a  <link linkend="gui_attr_basic_datasource">datasource</link> attribute.</para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_required">
        <term>required</term>
        <listitem>
          <para>An attribute of a visual component implementing a <code>Field</code> interface. Identifies that this field requires a value.</para>
          <para>Possible values  − <literal>true</literal>, <literal>false</literal>. Default is  <literal>false</literal>.</para>
          <para>  <sgmltag>requiredMessage</sgmltag> attribute can be used together with <sgmltag>required</sgmltag>.</para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_requiredMessage">
        <term>requiredMessage</term>
        <listitem>
          <para>An XML-attribute used together with a  <link linkend="gui_attr_basic_required">required</link> attribute. It allows setting a message that will be displayed to a user when the <link linkend="gui_attr_basic_required">required</link> rule is not fulfilled..</para>
          <para>An attribute should contain a key of a message from a package, for example: <sgmltag>requiredMessage</sgmltag>=&quot;<literal>msg://infoTextField.requiredMessage</literal>&quot;</para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_rowspan">
        <term>rowspan</term>
        <listitem>
          <para>Sets the number of  <link linkend="gui_GridLayout_span">additional grid lines</link> that the component should occupy (default is 1).</para>
          <para>This attribute can be set for any component located immediately within a <link linkend="gui_GridLayout">GridLayout</link> container.</para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_spacing">
        <term>spacing</term>
        <listitem>
          <para><sgmltag>spacing</sgmltag> attribute sets spacing between components within a container.</para>
          <para>Possible values  − <literal>true</literal>, <literal>false</literal>.</para>
          <para>By default spacing is disabled.</para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_stylename">
        <term>stylename</term>
        <listitem>
          <para>An attribute defining a style name for a component.</para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_visible">
        <term>visible</term>
        <listitem>
          <para>An attribute setting component visibility. Possible values  − <literal>true</literal>, <literal>false</literal>. </para>
          <para>If a container is invisible all its components are invisible. By default all components are visible.</para>
        </listitem>
      </varlistentry>
      <varlistentry id="gui_attr_basic_width">
        <term>width</term>
        <listitem>
          <para>An attribute defining component width.</para>
          <para>The value can be set in pixels or in percents of the width of the parent container. For example:  <literal>100px</literal>, <literal>100%</literal>, <literal>50</literal>. If specified without units, pixels are assumed. Setting a value in  <literal>%</literal> means that the component will occupy the corresponding width within an area provided by the parent container.</para>
          <para>When set to  <code>AUTO</code> or  <code>-1px</code>, a default value will be used for a component width. For a container, width is defined by the content, according to the sum of widths of all nested components.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </section>
</section>
