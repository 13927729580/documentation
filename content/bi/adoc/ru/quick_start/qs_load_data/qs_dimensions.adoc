:sourcesdir: ../../../../source

[[qs_dimensions]]
==== Создание измерений

В качестве измерений мы будем использовать сущности Products и Customers. Каждый продукт содержит ссылку на строку продукта product line, в которой содержится тип продукта, например, _Ford T_ принадлежит к типу _Vintage Cars_.

Покупатели содержат ссылку на определённый город, который, в свою очередь, ссылается на страну, страны сгруппированы в несколько территорий.

. Для начала создадим трансформацию для Product. Перетащите узел *Table input* на рабочий лист и укажите поля, которые будут использованы в отчёте: `id` продукта, `name` и `product_line_id`.
+
image::star-schema_2.png[]

. Далее создайте для продуктов узел Insert/Update:
+
image::star-schema_3.png[]

. Создайте трансформацию для строк продукта:
+
image::star-schema_4.png[]

. Завершите трансформацию узлом *Update*:
+
image::star-schema_5.png[]

. Создайте трансформацию для сущности Customer тем же образом, включив в неё уровни City и Territory, и добавьте её к трансформации сущности Product:
+
image::star-schema_6.png[]

. Закончив создание трансформации, оберните её в соответствующую задачу, используя узлы *START* и *Success*, а также узел *Abort job* для выхода в случае ошибки:
+
image::star-schema_12.png[]

