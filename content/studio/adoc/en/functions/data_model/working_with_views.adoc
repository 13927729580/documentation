:sourcesdir: ../../../../source

[[data_model_view]]
==== Working with Views

To create a new {main_man_url}/views.html[view] for an entity, select *New > View* in its context menu.

image::functions/data_model/create_view.png[align="center"]

The view designer will be opened.

image::functions/data_model/create_view_2.png[align="center"]

The visual view designer contains the following fields:

* *Entity name* - the name of the entity the view is created for.
* *Name* - the name of the new view.
* *Extends* - a built-in or custom view which attributes are extended by the new view. There are three built-in views available for any entity:
** `_local` contains all local attributes of an entity (the attributes which are not references to other entities),
** `_minimal` contains the attributes listed in the name pattern,
** `_base` includes all local non-system attributes and attributes defined by `@NamePattern` (effectively `_minimal` + `_local`).
* *Configuration file* - the name of the file in the `src` root of the *global* module which describes all view descriptors that should be globally accessible (i.e. on all application tiers). By default, Studio generates a `views.xml` file.

The full list of attributes of the current entity is displayed in the tree below. You can select which attributes will be included in the view by setting the checkboxes accordingly.

If your view extends another view, all inherited attributes are selected with the checkboxes disabled.

If you select a reference attribute, the following properties will appear in the right panel:

* *Entity* - the referenced entity name.
* *View* - an optional view to load the referenced entity. It is recommended to use references to named views instead of ad-hoc graph of view attributes, as it makes it easier to maintain complex views. Also, even if you define a view name, you can still add attributes not included in this view by setting the checkboxes in the tree.
* *Fetch* - an optional property of the reference attribute, which is a hint for the platform on how to load the attribute: either try to fetch it by a single select together with the master entity, or always load it by a separate select. See {main_man_url}/views.html[documentation] for details.

When you save the new view and close the designer, you can find its generated XML descriptor in the `views.xml` file of the *global* module:

image::functions/data_model/create_view_3.png[align="center"]

The *Text* tab displays the XML definition of all created views. You can create and modify views declaratively right in this file. In case a property inside the same `view` tag is duplicated, Studio will warn you and highlight the duplicated property. The same for the properties which are not necessary and can be omitted because they are already included in the view.

The *Structure* tab displays the same views but as the tree with the entities names.

If you want to modify a created view in the visual designer again, you have three options:

* select *Edit view* in the view context menu in the *Data Model* section of CUBA project view,
* click the *Edit* button on the *Structure* tab of `views.xml`,
* or select the view on the *Text* tab of `views.xml`, click Alt+Enter and select *Edit view*:

image::functions/data_model/view_edit.png[align="center"]

image::functions/data_model/view_edit_2.png[align="center"]

